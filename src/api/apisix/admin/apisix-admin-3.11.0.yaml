openapi: 3.1.0
info:
  title: APISIX Admin API
  description: >-
    APISIX Admin API is a RESTful API that allows you to create and manage
    APISIX resources.
  version: 3.11.0
tags:
  - name: Route
    description: |-
      A route defines a path to one or more upstream services.  
        
      See [Routes](/apisix/key-concepts/routes) for more information.
  - name: Upstream
    description: |-
      An upstream is a logical abstraction of one or more upstream addresses.  
        
      See [Upstreams](/apisix/key-concepts/upstreams) for more information.
  - name: Service
    description: |-
      A service is a backend application providing a set of functionalities.  
        
      See [Services](/apisix/key-concepts/services) for more information.
  - name: Consumer
    description: >-
      A consumer represents a user, application, or host that sends requests to
      the API gateway and consumes backend services.  
        
      See [Consumers](/apisix/key-concepts/consumers) for more information.
  - name: Consumer Group
    description: >-
      A consumer group is a group of consumers sharing the same plugin
      configurations.  
        
      See [Consumer Groups](/apisix/key-concepts/consumer-groups) for more
      information.
  - name: Credentials
    description: >-
      A credential is an entity used to store authentication configurations
      associated with consumers.  
        
      See [Credentials](/apisix/key-concepts/credentials) for more information.
  - name: Plugin
    description: >-
      Plugins extend base functionalities of APISIX to meet user-specific
      requirements.  
        
      See [Plugins](/apisix/key-concepts/plugins) for more information.
  - name: Plugin Config
    description: >-
      Plugin config is used to configure plugin configurations that can be
      shared among other objects, such as routes.  
        
      See [Plugin Configs](/apisix/key-concepts/plugin-configs) for more
      information.
  - name: Plugin Metadata
    description: >-
      Plugin metadata is used to configure the common metadata field(s) of all
      plugin instances sharing the same plugin name.  
        
      See [Plugin Metadata](/apisix/key-concepts/plugin-metadata) for more
      information.
  - name: Global Rule
    description: >-
      A plugin global rule is used to create plugins that are triggered on every
      incoming request and executed before other plugins locally bound to
      objects, such as routes, services, consumers, consumer groups, or plugin
      configs.  
        
      See [Global Rules](/apisix/key-concepts/plugin-global-rules) for more
      information.
  - name: Stream Route
    description: >-
      A stream route defines a path to one or more upstream services when APISIX
      functions as a stream proxy that operates on the transport layer for TCP
      and UDP connections.  
        
      See [Stream Routes](/apisix/key-concepts/stream-routes) for more
      information.
  - name: SSL
    description: >-
      An SSL certificate in Admin API is required to configure TLS or mTLS with
      client applications and configure mTLS with upstream services.  
        
      See [SSL](/apisix/key-concepts/ssl-certificates) for more information.
  - name: Secret
    description: >-
      Secret is used to set up integration with an external secret manager, so
      that APISIX can establish connections and fetch secrets from the secret
      manager dynamically at runtime.  
        
      See [Secrets](/apisix/key-concepts/secrets) for more information.
  - name: Proto
    description: >-
      Proto is used to store protocol buffer (protobuf) definitions which define
      the service interface and message types used in communication with
      upstream gRPC services.  
        
      See [Protos](/apisix/key-concepts/protos) for more information.
  - name: Schema Validation
    description: >-
      Validate if the schema of a configuration is correct without sending a
      request to the Admin API for resource creation. This API can be used with
      all Admin API resources.
paths:
  /apisix/admin/routes:
    get:
      summary: Get All Routes
      deprecated: false
      description: Get all configured routes.
      tags:
        - Route
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            desc:
                              maxLength: 256
                              type: string
                            plugin_config_id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            status:
                              default: 1
                              type: integer
                              enum:
                                - 1
                                - 0
                              description: route status, 1 to enable, 0 to disable
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            enable_websocket:
                              type: boolean
                            service_id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            methods:
                              items:
                                type: string
                                enum:
                                  - GET
                                  - POST
                                  - PUT
                                  - DELETE
                                  - PATCH
                                  - HEAD
                                  - OPTIONS
                                  - CONNECT
                                  - TRACE
                                  - PURGE
                                description: HTTP method
                              type: array
                              uniqueItems: true
                            hosts:
                              items:
                                type: string
                              type: array
                              minItems: 1
                              uniqueItems: true
                            remote_addrs:
                              items:
                                type: string
                                anyOf:
                                  - format: ipv4
                                    type: string
                                    title: IPv4
                                  - type: string
                                    title: IPv4/CIDR
                                    pattern: >-
                                      ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                                  - format: ipv6
                                    type: string
                                    title: IPv6
                                  - type: string
                                    title: IPv6/CIDR
                                    pattern: >-
                                      ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                                description: client IP
                              type: array
                              minItems: 1
                              uniqueItems: true
                            filter_func:
                              minLength: 10
                              type: string
                              pattern: ^function
                            vars:
                              type: array
                              items:
                                type: string
                            name:
                              type: string
                              maxLength: 100
                              minLength: 1
                            upstream_id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            script_id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            host:
                              type: string
                            priority:
                              default: 0
                              type: integer
                            upstream:
                              properties:
                                desc:
                                  maxLength: 256
                                  type: string
                                update_time:
                                  type: integer
                                key:
                                  type: string
                                  description: >-
                                    The key used with `hash_on` when `type` is
                                    `chash`. When `hash_on` is set to `header`
                                    or `cookie`, `key` is required. When
                                    `hash_on` is set to `consumer`, `key` is not
                                    required as the consumer name will be used
                                    as the key automatically.
                                retries:
                                  minimum: 0
                                  type: integer
                                retry_timeout:
                                  minimum: 0
                                  type: number
                                pass_host:
                                  default: pass
                                  type: string
                                  enum:
                                    - pass
                                    - node
                                    - rewrite
                                  description: >-
                                    Configure the host when the request is
                                    forwarded to the upstream. `pass` is used to
                                    pass the request's host to the upstream
                                    without modification. `node` sets the host
                                    to the host of the upstream node. `rewrite`
                                    sets the host to the value of
                                    `upstream_host`.
                                upstream_host:
                                  type: string
                                type:
                                  type: string
                                  default: roundrobin
                                  enum:
                                    - roundrobin
                                    - chash
                                    - ewma
                                    - least_conn
                                  description: >-
                                    Load balancing algorithm. Support weighted
                                    round robin, consistent hashing,
                                    exponentially weighted moving average, and
                                    least connections algorithms.
                                checks:
                                  properties:
                                    active:
                                      properties:
                                        port:
                                          type: integer
                                          minimum: 1
                                          maximum: 65535
                                        healthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 200
                                                - 302
                                            interval:
                                              type: integer
                                              minimum: 1
                                              default: 1
                                            successes:
                                              default: 2
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                          type: object
                                        http_path:
                                          default: /
                                          type: string
                                        https_verify_certificate:
                                          default: true
                                          type: boolean
                                        unhealthy:
                                          properties:
                                            interval:
                                              type: integer
                                              minimum: 1
                                              default: 1
                                            tcp_failures:
                                              default: 2
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                            timeouts:
                                              default: 3
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 429
                                                - 404
                                                - 500
                                                - 501
                                                - 502
                                                - 503
                                                - 504
                                                - 505
                                            http_failures:
                                              default: 5
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                          type: object
                                        req_headers:
                                          items:
                                            uniqueItems: true
                                            type: string
                                          type: array
                                          minItems: 1
                                        timeout:
                                          default: 1
                                          type: number
                                        type:
                                          enum:
                                            - http
                                            - https
                                            - tcp
                                          default: http
                                          type: string
                                        host:
                                          type: string
                                        concurrency:
                                          default: 10
                                          type: integer
                                      type: object
                                    passive:
                                      properties:
                                        healthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 200
                                                - 201
                                                - 202
                                                - 203
                                                - 204
                                                - 205
                                                - 206
                                                - 207
                                                - 208
                                                - 226
                                                - 300
                                                - 301
                                                - 302
                                                - 303
                                                - 304
                                                - 305
                                                - 306
                                                - 307
                                                - 308
                                            successes:
                                              default: 5
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                          type: object
                                        unhealthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 429
                                                - 500
                                                - 503
                                            http_failures:
                                              default: 5
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                            tcp_failures:
                                              default: 2
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                            timeouts:
                                              default: 7
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                          type: object
                                        type:
                                          enum:
                                            - http
                                            - https
                                            - tcp
                                          default: http
                                          type: string
                                      type: object
                                  type: object
                                  anyOf:
                                    - required:
                                        - active
                                    - required:
                                        - active
                                        - passive
                                hash_on:
                                  default: vars
                                  enum:
                                    - vars
                                    - header
                                    - cookie
                                    - consumer
                                    - vars_combinations
                                  description: >-
                                    Type of value to hash on when `type` is
                                    `chash`.
                                  type: string
                                name:
                                  type: string
                                  maxLength: 100
                                  minLength: 1
                                scheme:
                                  enum:
                                    - grpc
                                    - grpcs
                                    - http
                                    - https
                                    - tcp
                                    - tls
                                    - udp
                                    - kafka
                                  default: http
                                  description: Protocol to communicate with the upstream.
                                service_name:
                                  type: string
                                  maxLength: 256
                                  minLength: 1
                                keepalive_pool:
                                  properties:
                                    size:
                                      default: 320
                                      minimum: 1
                                      type: integer
                                    idle_timeout:
                                      default: 60
                                      minimum: 0
                                      type: number
                                    requests:
                                      default: 1000
                                      minimum: 1
                                      type: integer
                                  type: object
                                timeout:
                                  properties:
                                    connect:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                    read:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                    send:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                  type: object
                                  required:
                                    - connect
                                    - send
                                    - read
                                id:
                                  anyOf:
                                    - type: string
                                      minLength: 1
                                      maxLength: 64
                                      pattern: ^[a-zA-Z0-9-_.]+$
                                    - minimum: 1
                                      type: integer
                                discovery_type:
                                  type: string
                                  description: discovery type
                                labels:
                                  type: object
                                  patternProperties:
                                    .*:
                                      minLength: 1
                                      maxLength: 64
                                      pattern: ^\S+$
                                      type: string
                                      description: value of label
                                  description: Key-value pairs to specify attributes.
                                  properties: {}
                                discovery_args:
                                  properties:
                                    group_name:
                                      type: string
                                      description: group name
                                    namespace_id:
                                      type: string
                                      description: namespace id
                                  type: object
                                nodes:
                                  anyOf:
                                    - patternProperties:
                                        .*:
                                          type: integer
                                          minimum: 0
                                          description: weight of node
                                      type: object
                                    - items:
                                        properties:
                                          weight:
                                            type: integer
                                            minimum: 0
                                            description: weight of node
                                          port:
                                            type: integer
                                            minimum: 1
                                            description: port of node
                                          metadata:
                                            type: object
                                            description: metadata of node
                                          host:
                                            type: string
                                          priority:
                                            type: integer
                                            default: 0
                                            description: priority of node
                                        type: object
                                        required:
                                          - host
                                          - port
                                          - weight
                                      type: array
                                tls:
                                  properties:
                                    verify:
                                      type: boolean
                                      default: false
                                      description: >-
                                        Turn on server certificate verification,
                                        currently only kafka upstream is
                                        supported
                                    client_key:
                                      minLength: 128
                                      maxLength: 65536
                                      type: string
                                    client_cert:
                                      minLength: 128
                                      maxLength: 65536
                                      type: string
                                    client_cert_id:
                                      anyOf:
                                        - type: string
                                          minLength: 1
                                          maxLength: 64
                                          pattern: ^[a-zA-Z0-9-_.]+$
                                        - minimum: 1
                                          type: integer
                                  type: object
                                  dependencies:
                                    client_cert_id:
                                      not:
                                        required:
                                          - client_client
                                          - client_key
                                    client_cert:
                                      required:
                                        - client_key
                                      not:
                                        required:
                                          - client_cert_id
                                    client_key:
                                      required:
                                        - client_cert
                                      not:
                                        required:
                                          - client_cert_id
                                create_time:
                                  type: integer
                              type: object
                              oneOf:
                                - required:
                                    - nodes
                                - required:
                                    - service_name
                                    - discovery_type
                            plugins:
                              type: object
                              properties: {}
                            remote_addr:
                              type: string
                              anyOf:
                                - format: ipv4
                                  type: string
                                  title: IPv4
                                - type: string
                                  title: IPv4/CIDR
                                  pattern: >-
                                    ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                                - format: ipv6
                                  type: string
                                  title: IPv6
                                - type: string
                                  title: IPv6/CIDR
                                  pattern: >-
                                    ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                              description: client IP
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            timeout:
                              properties:
                                connect:
                                  exclusiveMinimum: 0
                                  type: number
                                  minimum: 0
                                read:
                                  exclusiveMinimum: 0
                                  type: number
                                  minimum: 0
                                send:
                                  exclusiveMinimum: 0
                                  type: number
                                  minimum: 0
                              type: object
                              required:
                                - connect
                                - send
                                - read
                            script:
                              minLength: 10
                              maxLength: 102400
                              type: string
                            uri:
                              minLength: 1
                              maxLength: 4096
                              type: string
                            uris:
                              items:
                                type: string
                                description: HTTP uri
                              type: array
                              minItems: 1
                              uniqueItems: true
                          type: object
                          anyOf:
                            - type: string
                            - type: string
                            - type: string
                            - type: string
                            - type: string
                            - type: string
                            - type: string
                            - type: string
                            - type: string
                            - type: string
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                      required:
                        - value
                        - key
                        - modifiedIndex
                        - createdIndex
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    total: 1
                    list:
                      - createdIndex: 203
                        key: /apisix/routes/1
                        value:
                          remote_addrs:
                            - 127.0.0.1
                          desc: desc
                          name: route-test
                          priority: 0
                          vars:
                            - - http_user
                              - '=='
                              - ios
                          update_time: 1684490006
                          create_time: 1684490006
                          id: '1'
                          plugins:
                            limit-count:
                              show_limit_quota_header: true
                              policy: local
                              count: 2
                              allow_degradation: false
                              rejected_code: 503
                              time_window: 60
                              key_type: var
                              key: remote_addr
                          status: 1
                          timeout:
                            read: 3
                            connect: 3
                            send: 3
                          uri: /ip
                          upstream:
                            hash_on: vars
                            pass_host: pass
                            nodes:
                              httpbin.org:80: 1
                            type: roundrobin
                            scheme: http
                          methods:
                            - GET
                            - POST
                          hosts:
                            - a.com
                            - b.com
                        modifiedIndex: 203
    post:
      summary: Create Route
      deprecated: false
      description: Create a route with an ID generated.
      tags:
        - Route
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                plugin_config_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                status:
                  default: 1
                  type: integer
                  enum:
                    - 1
                    - 0
                  description: route status, 1 to enable, 0 to disable
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                enable_websocket:
                  type: boolean
                service_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                methods:
                  items:
                    type: string
                    enum:
                      - GET
                      - POST
                      - PUT
                      - DELETE
                      - PATCH
                      - HEAD
                      - OPTIONS
                      - CONNECT
                      - TRACE
                      - PURGE
                    description: HTTP method
                  type: array
                  uniqueItems: true
                hosts:
                  items:
                    type: string
                  type: array
                  minItems: 1
                  uniqueItems: true
                remote_addrs:
                  items:
                    type: string
                    anyOf:
                      - format: ipv4
                        type: string
                        title: IPv4
                      - type: string
                        title: IPv4/CIDR
                        pattern: >-
                          ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                      - format: ipv6
                        type: string
                        title: IPv6
                      - type: string
                        title: IPv6/CIDR
                        pattern: >-
                          ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                    description: client IP
                  type: array
                  minItems: 1
                  uniqueItems: true
                filter_func:
                  minLength: 10
                  type: string
                  pattern: ^function
                vars:
                  type: array
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                upstream_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                script_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                host:
                  type: string
                priority:
                  default: 0
                  type: integer
                upstream:
                  properties:
                    desc:
                      maxLength: 256
                      type: string
                    key:
                      type: string
                      description: >-
                        The key used with `hash_on` when `type` is `chash`. When
                        `hash_on` is set to `header` or `cookie`, `key` is
                        required. When `hash_on` is set to `consumer`, `key` is
                        not required as the consumer name will be used as the
                        key automatically.
                    retries:
                      minimum: 0
                      type: integer
                    retry_timeout:
                      minimum: 0
                      type: number
                    pass_host:
                      default: pass
                      type: string
                      enum:
                        - pass
                        - node
                        - rewrite
                      description: >-
                        Configure the host when the request is forwarded to the
                        upstream. `pass` is used to pass the request's host to
                        the upstream without modification. `node` sets the host
                        to the host of the upstream node. `rewrite` sets the
                        host to the value of `upstream_host`.
                    upstream_host:
                      type: string
                    type:
                      type: string
                      default: roundrobin
                      enum:
                        - roundrobin
                        - chash
                        - ewma
                        - least_conn
                      description: >-
                        Load balancing algorithm. Support weighted round robin,
                        consistent hashing, exponentially weighted moving
                        average, and least connections algorithms.
                    checks:
                      properties:
                        active:
                          properties:
                            port:
                              type: integer
                              minimum: 1
                              maximum: 65535
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 302
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                successes:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            http_path:
                              default: /
                              type: string
                            https_verify_certificate:
                              default: true
                              type: boolean
                            unhealthy:
                              properties:
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                timeouts:
                                  default: 3
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 404
                                    - 500
                                    - 501
                                    - 502
                                    - 503
                                    - 504
                                    - 505
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            req_headers:
                              items:
                                uniqueItems: true
                                type: string
                              type: array
                              minItems: 1
                            timeout:
                              default: 1
                              type: number
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                            host:
                              type: string
                            concurrency:
                              default: 10
                              type: integer
                          type: object
                        passive:
                          properties:
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 201
                                    - 202
                                    - 203
                                    - 204
                                    - 205
                                    - 206
                                    - 207
                                    - 208
                                    - 226
                                    - 300
                                    - 301
                                    - 302
                                    - 303
                                    - 304
                                    - 305
                                    - 306
                                    - 307
                                    - 308
                                successes:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            unhealthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 500
                                    - 503
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                timeouts:
                                  default: 7
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                          type: object
                      type: object
                      anyOf:
                        - required:
                            - active
                        - required:
                            - active
                            - passive
                    hash_on:
                      default: vars
                      enum:
                        - vars
                        - header
                        - cookie
                        - consumer
                        - vars_combinations
                      description: Type of value to hash on when `type` is `chash`.
                      type: string
                    name:
                      type: string
                      maxLength: 100
                      minLength: 1
                    scheme:
                      enum:
                        - grpc
                        - grpcs
                        - http
                        - https
                        - tcp
                        - tls
                        - udp
                        - kafka
                      default: http
                      description: Protocol to communicate with the upstream.
                    service_name:
                      type: string
                      maxLength: 256
                      minLength: 1
                    keepalive_pool:
                      properties:
                        size:
                          default: 320
                          minimum: 1
                          type: integer
                        idle_timeout:
                          default: 60
                          minimum: 0
                          type: number
                        requests:
                          default: 1000
                          minimum: 1
                          type: integer
                      type: object
                    timeout:
                      properties:
                        connect:
                          exclusiveMinimum: 0
                          type: number
                        read:
                          exclusiveMinimum: 0
                          type: number
                        send:
                          exclusiveMinimum: 0
                          type: number
                      type: object
                      required:
                        - connect
                        - send
                        - read
                    id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    discovery_type:
                      type: string
                      description: discovery type
                    labels:
                      type: object
                      patternProperties:
                        .*:
                          minLength: 1
                          maxLength: 64
                          pattern: ^\S+$
                          type: string
                          description: value of label
                      description: Key-value pairs to specify attributes.
                    discovery_args:
                      properties:
                        group_name:
                          type: string
                          description: group name
                        namespace_id:
                          type: string
                          description: namespace id
                      type: object
                    nodes:
                      anyOf:
                        - patternProperties:
                            .*:
                              type: integer
                              minimum: 0
                              description: weight of node
                          type: object
                        - items:
                            properties:
                              weight:
                                type: integer
                                minimum: 0
                                description: weight of node
                              port:
                                type: integer
                                minimum: 1
                                description: port of node
                              metadata:
                                type: object
                                description: metadata of node
                              host:
                                type: string
                              priority:
                                type: integer
                                default: 0
                                description: priority of node
                            type: object
                            required:
                              - host
                              - port
                              - weight
                          type: array
                    tls:
                      properties:
                        verify:
                          type: boolean
                          default: false
                          description: >-
                            Turn on server certificate verification, currently
                            only kafka upstream is supported
                        client_key:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert_id:
                          anyOf:
                            - type: string
                              minLength: 1
                              maxLength: 64
                              pattern: ^[a-zA-Z0-9-_.]+$
                            - minimum: 1
                              type: integer
                      type: object
                      dependencies:
                        client_cert_id:
                          not:
                            required:
                              - client_client
                              - client_key
                        client_cert:
                          required:
                            - client_key
                          not:
                            required:
                              - client_cert_id
                        client_key:
                          required:
                            - client_cert
                          not:
                            required:
                              - client_cert_id
                  type: object
                  oneOf:
                    - required:
                        - nodes
                    - required:
                        - service_name
                        - discovery_type
                plugins:
                  type: object
                remote_addr:
                  type: string
                  anyOf:
                    - format: ipv4
                      type: string
                      title: IPv4
                    - type: string
                      title: IPv4/CIDR
                      pattern: >-
                        ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                    - format: ipv6
                      type: string
                      title: IPv6
                    - type: string
                      title: IPv6/CIDR
                      pattern: >-
                        ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                  description: client IP
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                timeout:
                  properties:
                    connect:
                      exclusiveMinimum: 0
                      type: number
                    read:
                      exclusiveMinimum: 0
                      type: number
                    send:
                      exclusiveMinimum: 0
                      type: number
                  type: object
                  required:
                    - connect
                    - send
                    - read
                script:
                  minLength: 10
                  maxLength: 102400
                  type: string
                uri:
                  minLength: 1
                  maxLength: 4096
                  type: string
                uris:
                  items:
                    type: string
                    description: HTTP uri
                  type: array
                  minItems: 1
                  uniqueItems: true
              type: object
              anyOf:
                - required:
                    - plugins
                    - uri
                - required:
                    - upstream
                    - uri
                - required:
                    - upstream_id
                    - uri
                - required:
                    - service_id
                    - uri
                - required:
                    - plugins
                    - uris
                - required:
                    - upstream
                    - uris
                - required:
                    - upstream_id
                    - uris
                - required:
                    - service_id
                    - uris
                - required:
                    - script
                    - uri
                - required:
                    - script
                    - uris
            example:
              name: route-name
              desc: desc
              hosts:
                - a.com
                - b.com
              methods:
                - GET
                - POST
              uri: /ip
              upstream:
                type: roundrobin
                nodes:
                  httpbin.org:80: 1
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      plugin_config_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      status:
                        default: 1
                        type: integer
                        enum:
                          - 1
                          - 0
                        description: route status, 1 to enable, 0 to disable
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      enable_websocket:
                        type: boolean
                      service_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      methods:
                        items:
                          type: string
                          enum:
                            - GET
                            - POST
                            - PUT
                            - DELETE
                            - PATCH
                            - HEAD
                            - OPTIONS
                            - CONNECT
                            - TRACE
                            - PURGE
                          description: HTTP method
                        type: array
                        uniqueItems: true
                      hosts:
                        items:
                          type: string
                        type: array
                        minItems: 1
                        uniqueItems: true
                      remote_addrs:
                        items:
                          type: string
                          anyOf:
                            - format: ipv4
                              type: string
                              title: IPv4
                            - type: string
                              title: IPv4/CIDR
                              pattern: >-
                                ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                            - format: ipv6
                              type: string
                              title: IPv6
                            - type: string
                              title: IPv6/CIDR
                              pattern: >-
                                ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                          description: client IP
                        type: array
                        minItems: 1
                        uniqueItems: true
                      filter_func:
                        minLength: 10
                        type: string
                        pattern: ^function
                      vars:
                        type: array
                        items:
                          type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      script_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      host:
                        type: string
                      priority:
                        default: 0
                        type: integer
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - required:
                              - nodes
                          - required:
                              - service_name
                              - discovery_type
                      plugins:
                        type: object
                        properties: {}
                      remote_addr:
                        type: string
                        anyOf:
                          - format: ipv4
                            type: string
                            title: IPv4
                          - type: string
                            title: IPv4/CIDR
                            pattern: >-
                              ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                          - format: ipv6
                            type: string
                            title: IPv6
                          - type: string
                            title: IPv6/CIDR
                            pattern: >-
                              ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                        description: client IP
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      timeout:
                        properties:
                          connect:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          read:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          send:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                        type: object
                        required:
                          - connect
                          - send
                          - read
                      script:
                        minLength: 10
                        maxLength: 102400
                        type: string
                      uri:
                        minLength: 1
                        maxLength: 4096
                        type: string
                      uris:
                        items:
                          type: string
                          description: HTTP uri
                        type: array
                        minItems: 1
                        uniqueItems: true
                    type: object
                    anyOf:
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      desc: desc
                      name: route-name
                      update_time: 1684490245
                      priority: 0
                      id: '00000000000000000206'
                      status: 1
                      create_time: 1684490245
                      uri: /ip
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          httpbin.org:80: 1
                        type: roundrobin
                        scheme: http
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                    key: /apisix/routes/00000000000000000206
        '400':
          description: Invalid configuration
          content: {}
  /apisix/admin/routes/{id}:
    put:
      summary: Create Route by ID
      deprecated: false
      description: Create a route with a custom ID.
      tags:
        - Route
      parameters:
        - name: id
          in: path
          description: The route id
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                plugin_config_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                status:
                  default: 1
                  type: integer
                  enum:
                    - 1
                    - 0
                  description: route status, 1 to enable, 0 to disable
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                enable_websocket:
                  type: boolean
                service_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                methods:
                  items:
                    type: string
                    enum:
                      - GET
                      - POST
                      - PUT
                      - DELETE
                      - PATCH
                      - HEAD
                      - OPTIONS
                      - CONNECT
                      - TRACE
                      - PURGE
                    description: HTTP method
                  type: array
                  uniqueItems: true
                hosts:
                  items:
                    type: string
                  type: array
                  minItems: 1
                  uniqueItems: true
                remote_addrs:
                  items:
                    type: string
                    anyOf:
                      - format: ipv4
                        type: string
                        title: IPv4
                      - type: string
                        title: IPv4/CIDR
                        pattern: >-
                          ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                      - format: ipv6
                        type: string
                        title: IPv6
                      - type: string
                        title: IPv6/CIDR
                        pattern: >-
                          ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                    description: client IP
                  type: array
                  minItems: 1
                  uniqueItems: true
                filter_func:
                  minLength: 10
                  type: string
                  pattern: ^function
                vars:
                  type: array
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                upstream_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                script_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                host:
                  type: string
                priority:
                  default: 0
                  type: integer
                upstream:
                  properties:
                    desc:
                      maxLength: 256
                      type: string
                    key:
                      type: string
                      description: >-
                        The key used with `hash_on` when `type` is `chash`. When
                        `hash_on` is set to `header` or `cookie`, `key` is
                        required. When `hash_on` is set to `consumer`, `key` is
                        not required as the consumer name will be used as the
                        key automatically.
                    retries:
                      minimum: 0
                      type: integer
                    retry_timeout:
                      minimum: 0
                      type: number
                    pass_host:
                      default: pass
                      type: string
                      enum:
                        - pass
                        - node
                        - rewrite
                      description: >-
                        Configure the host when the request is forwarded to the
                        upstream. `pass` is used to pass the request's host to
                        the upstream without modification. `node` sets the host
                        to the host of the upstream node. `rewrite` sets the
                        host to the value of `upstream_host`.
                    upstream_host:
                      type: string
                    type:
                      type: string
                      default: roundrobin
                      enum:
                        - roundrobin
                        - chash
                        - ewma
                        - least_conn
                      description: >-
                        Load balancing algorithm. Support weighted round robin,
                        consistent hashing, exponentially weighted moving
                        average, and least connections algorithms.
                    checks:
                      properties:
                        active:
                          properties:
                            port:
                              type: integer
                              minimum: 1
                              maximum: 65535
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 302
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                successes:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            http_path:
                              default: /
                              type: string
                            https_verify_certificate:
                              default: true
                              type: boolean
                            unhealthy:
                              properties:
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                timeouts:
                                  default: 3
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 404
                                    - 500
                                    - 501
                                    - 502
                                    - 503
                                    - 504
                                    - 505
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            req_headers:
                              items:
                                uniqueItems: true
                                type: string
                              type: array
                              minItems: 1
                            timeout:
                              default: 1
                              type: number
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                            host:
                              type: string
                            concurrency:
                              default: 10
                              type: integer
                          type: object
                        passive:
                          properties:
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 201
                                    - 202
                                    - 203
                                    - 204
                                    - 205
                                    - 206
                                    - 207
                                    - 208
                                    - 226
                                    - 300
                                    - 301
                                    - 302
                                    - 303
                                    - 304
                                    - 305
                                    - 306
                                    - 307
                                    - 308
                                successes:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            unhealthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 500
                                    - 503
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                timeouts:
                                  default: 7
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                          type: object
                      type: object
                      anyOf:
                        - required:
                            - active
                        - required:
                            - active
                            - passive
                    hash_on:
                      default: vars
                      enum:
                        - vars
                        - header
                        - cookie
                        - consumer
                        - vars_combinations
                      description: Type of value to hash on when `type` is `chash`.
                      type: string
                    name:
                      type: string
                      maxLength: 100
                      minLength: 1
                    scheme:
                      enum:
                        - grpc
                        - grpcs
                        - http
                        - https
                        - tcp
                        - tls
                        - udp
                        - kafka
                      default: http
                      description: Protocol to communicate with the upstream.
                    service_name:
                      type: string
                      maxLength: 256
                      minLength: 1
                    keepalive_pool:
                      properties:
                        size:
                          default: 320
                          minimum: 1
                          type: integer
                        idle_timeout:
                          default: 60
                          minimum: 0
                          type: number
                        requests:
                          default: 1000
                          minimum: 1
                          type: integer
                      type: object
                    timeout:
                      properties:
                        connect:
                          exclusiveMinimum: 0
                          type: number
                        read:
                          exclusiveMinimum: 0
                          type: number
                        send:
                          exclusiveMinimum: 0
                          type: number
                      type: object
                      required:
                        - connect
                        - send
                        - read
                    id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    discovery_type:
                      type: string
                      description: discovery type
                    labels:
                      type: object
                      patternProperties:
                        .*:
                          minLength: 1
                          maxLength: 64
                          pattern: ^\S+$
                          type: string
                          description: value of label
                      description: Key-value pairs to specify attributes.
                    discovery_args:
                      properties:
                        group_name:
                          type: string
                          description: group name
                        namespace_id:
                          type: string
                          description: namespace id
                      type: object
                    nodes:
                      anyOf:
                        - patternProperties:
                            .*:
                              type: integer
                              minimum: 0
                              description: weight of node
                          type: object
                        - items:
                            properties:
                              weight:
                                type: integer
                                minimum: 0
                                description: weight of node
                              port:
                                type: integer
                                minimum: 1
                                description: port of node
                              metadata:
                                type: object
                                description: metadata of node
                              host:
                                type: string
                              priority:
                                type: integer
                                default: 0
                                description: priority of node
                            type: object
                            required:
                              - host
                              - port
                              - weight
                          type: array
                    tls:
                      properties:
                        verify:
                          type: boolean
                          default: false
                          description: >-
                            Turn on server certificate verification, currently
                            only kafka upstream is supported
                        client_key:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert_id:
                          anyOf:
                            - type: string
                              minLength: 1
                              maxLength: 64
                              pattern: ^[a-zA-Z0-9-_.]+$
                            - minimum: 1
                              type: integer
                      type: object
                      dependencies:
                        client_cert_id:
                          not:
                            required:
                              - client_client
                              - client_key
                        client_cert:
                          required:
                            - client_key
                          not:
                            required:
                              - client_cert_id
                        client_key:
                          required:
                            - client_cert
                          not:
                            required:
                              - client_cert_id
                  type: object
                  oneOf:
                    - required:
                        - nodes
                    - required:
                        - service_name
                        - discovery_type
                plugins:
                  type: object
                remote_addr:
                  type: string
                  anyOf:
                    - format: ipv4
                      type: string
                      title: IPv4
                    - type: string
                      title: IPv4/CIDR
                      pattern: >-
                        ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                    - format: ipv6
                      type: string
                      title: IPv6
                    - type: string
                      title: IPv6/CIDR
                      pattern: >-
                        ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                  description: client IP
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                timeout:
                  properties:
                    connect:
                      exclusiveMinimum: 0
                      type: number
                    read:
                      exclusiveMinimum: 0
                      type: number
                    send:
                      exclusiveMinimum: 0
                      type: number
                  type: object
                  required:
                    - connect
                    - send
                    - read
                script:
                  minLength: 10
                  maxLength: 102400
                  type: string
                uri:
                  minLength: 1
                  maxLength: 4096
                  type: string
                uris:
                  items:
                    type: string
                    description: HTTP uri
                  type: array
                  minItems: 1
                  uniqueItems: true
              type: object
              anyOf:
                - required:
                    - plugins
                    - uri
                - required:
                    - upstream
                    - uri
                - required:
                    - upstream_id
                    - uri
                - required:
                    - service_id
                    - uri
                - required:
                    - plugins
                    - uris
                - required:
                    - upstream
                    - uris
                - required:
                    - upstream_id
                    - uris
                - required:
                    - service_id
                    - uris
                - required:
                    - script
                    - uri
                - required:
                    - script
                    - uris
            example:
              name: route-test
              desc: desc
              uri: /ip
              hosts:
                - a.com
                - b.com
              methods:
                - GET
                - POST
              plugins:
                limit-count:
                  count: 2
                  time_window: 60
                  rejected_code: 503
                  key: remote_addr
              priority: 0
              remote_addrs:
                - 127.0.0.1
              vars:
                - - http_user
                  - '=='
                  - ios
              upstream:
                type: roundrobin
                nodes:
                  httpbin.org:80: 1
              timeout:
                connect: 3
                send: 3
                read: 3
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      plugin_config_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      status:
                        default: 1
                        type: integer
                        enum:
                          - 1
                          - 0
                        description: route status, 1 to enable, 0 to disable
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      enable_websocket:
                        type: boolean
                      service_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      methods:
                        items:
                          type: string
                          enum:
                            - GET
                            - POST
                            - PUT
                            - DELETE
                            - PATCH
                            - HEAD
                            - OPTIONS
                            - CONNECT
                            - TRACE
                            - PURGE
                          description: HTTP method
                        type: array
                        uniqueItems: true
                      hosts:
                        items:
                          type: string
                        type: array
                        minItems: 1
                        uniqueItems: true
                      remote_addrs:
                        items:
                          type: string
                          anyOf:
                            - format: ipv4
                              type: string
                              title: IPv4
                            - type: string
                              title: IPv4/CIDR
                              pattern: >-
                                ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                            - format: ipv6
                              type: string
                              title: IPv6
                            - type: string
                              title: IPv6/CIDR
                              pattern: >-
                                ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                          description: client IP
                        type: array
                        minItems: 1
                        uniqueItems: true
                      filter_func:
                        minLength: 10
                        type: string
                        pattern: ^function
                      vars:
                        type: array
                        items:
                          type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      script_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      host:
                        type: string
                      priority:
                        default: 0
                        type: integer
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - required:
                              - nodes
                          - required:
                              - service_name
                              - discovery_type
                      plugins:
                        type: object
                        properties: {}
                      remote_addr:
                        type: string
                        anyOf:
                          - format: ipv4
                            type: string
                            title: IPv4
                          - type: string
                            title: IPv4/CIDR
                            pattern: >-
                              ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                          - format: ipv6
                            type: string
                            title: IPv6
                          - type: string
                            title: IPv6/CIDR
                            pattern: >-
                              ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                        description: client IP
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      timeout:
                        properties:
                          connect:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          read:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          send:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                        type: object
                        required:
                          - connect
                          - send
                          - read
                      script:
                        minLength: 10
                        maxLength: 102400
                        type: string
                      uri:
                        minLength: 1
                        maxLength: 4096
                        type: string
                      uris:
                        items:
                          type: string
                          description: HTTP uri
                        type: array
                        minItems: 1
                        uniqueItems: true
                    type: object
                    anyOf:
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      remote_addrs:
                        - 127.0.0.1
                      desc: desc
                      name: route-test
                      priority: 0
                      plugins:
                        limit-count:
                          show_limit_quota_header: true
                          policy: local
                          count: 2
                          key: remote_addr
                          rejected_code: 503
                          time_window: 60
                          key_type: var
                          allow_degradation: false
                      vars:
                        - - http_user
                          - '=='
                          - ios
                      id: '1'
                      status: 1
                      uri: /ip
                      timeout:
                        connect: 3
                        read: 3
                        send: 3
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          httpbin.org:80: 1
                        type: roundrobin
                        scheme: http
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                    key: /apisix/routes/1
        '400':
          description: Invalid configuration
          content: {}
    get:
      summary: Get Route by ID
      deprecated: false
      description: Get a route by ID.
      tags:
        - Route
      parameters:
        - name: id
          in: path
          description: The route id
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      plugin_config_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      status:
                        default: 1
                        type: integer
                        enum:
                          - 1
                          - 0
                        description: route status, 1 to enable, 0 to disable
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      enable_websocket:
                        type: boolean
                      service_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      methods:
                        items:
                          type: string
                          enum:
                            - GET
                            - POST
                            - PUT
                            - DELETE
                            - PATCH
                            - HEAD
                            - OPTIONS
                            - CONNECT
                            - TRACE
                            - PURGE
                          description: HTTP method
                        type: array
                        uniqueItems: true
                      hosts:
                        items:
                          type: string
                        type: array
                        minItems: 1
                        uniqueItems: true
                      remote_addrs:
                        items:
                          type: string
                          anyOf:
                            - format: ipv4
                              type: string
                              title: IPv4
                            - type: string
                              title: IPv4/CIDR
                              pattern: >-
                                ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                            - format: ipv6
                              type: string
                              title: IPv6
                            - type: string
                              title: IPv6/CIDR
                              pattern: >-
                                ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                          description: client IP
                        type: array
                        minItems: 1
                        uniqueItems: true
                      filter_func:
                        minLength: 10
                        type: string
                        pattern: ^function
                      vars:
                        type: array
                        items:
                          type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      script_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      host:
                        type: string
                      priority:
                        default: 0
                        type: integer
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - required:
                              - nodes
                          - required:
                              - service_name
                              - discovery_type
                      plugins:
                        type: object
                        properties: {}
                      remote_addr:
                        type: string
                        anyOf:
                          - format: ipv4
                            type: string
                            title: IPv4
                          - type: string
                            title: IPv4/CIDR
                            pattern: >-
                              ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                          - format: ipv6
                            type: string
                            title: IPv6
                          - type: string
                            title: IPv6/CIDR
                            pattern: >-
                              ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                        description: client IP
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      timeout:
                        properties:
                          connect:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          read:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          send:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                        type: object
                        required:
                          - connect
                          - send
                          - read
                      script:
                        minLength: 10
                        maxLength: 102400
                        type: string
                      uri:
                        minLength: 1
                        maxLength: 4096
                        type: string
                      uris:
                        items:
                          type: string
                          description: HTTP uri
                        type: array
                        minItems: 1
                        uniqueItems: true
                    type: object
                    anyOf:
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    createdIndex: 203
                    key: /apisix/routes/1
                    value:
                      remote_addrs:
                        - 127.0.0.1
                      desc: desc
                      name: route-test
                      priority: 0
                      vars:
                        - - http_user
                          - '=='
                          - ios
                      update_time: 1684490006
                      create_time: 1684490006
                      id: '1'
                      plugins:
                        limit-count:
                          show_limit_quota_header: true
                          policy: local
                          count: 2
                          allow_degradation: false
                          rejected_code: 503
                          time_window: 60
                          key_type: var
                          key: remote_addr
                      status: 1
                      timeout:
                        read: 3
                        connect: 3
                        send: 3
                      uri: /ip
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          httpbin.org:80: 1
                        type: roundrobin
                        scheme: http
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                    modifiedIndex: 203
        '404':
          description: Key not found
          content: {}
    patch:
      summary: Update Route
      deprecated: false
      description: Update a route.
      tags:
        - Route
      parameters:
        - name: id
          in: path
          description: The target route id
          required: true
          example: '1'
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                plugin_config_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                status:
                  default: 1
                  type: integer
                  enum:
                    - 1
                    - 0
                  description: route status, 1 to enable, 0 to disable
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                enable_websocket:
                  type: boolean
                service_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                methods:
                  items:
                    type: string
                    enum:
                      - GET
                      - POST
                      - PUT
                      - DELETE
                      - PATCH
                      - HEAD
                      - OPTIONS
                      - CONNECT
                      - TRACE
                      - PURGE
                    description: HTTP method
                  type: array
                  uniqueItems: true
                hosts:
                  items:
                    type: string
                  type: array
                  minItems: 1
                  uniqueItems: true
                remote_addrs:
                  items:
                    type: string
                    anyOf:
                      - format: ipv4
                        type: string
                        title: IPv4
                      - type: string
                        title: IPv4/CIDR
                        pattern: >-
                          ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                      - format: ipv6
                        type: string
                        title: IPv6
                      - type: string
                        title: IPv6/CIDR
                        pattern: >-
                          ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                    description: client IP
                  type: array
                  minItems: 1
                  uniqueItems: true
                filter_func:
                  minLength: 10
                  type: string
                  pattern: ^function
                vars:
                  type: array
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                upstream_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                script_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                host:
                  type: string
                priority:
                  default: 0
                  type: integer
                upstream:
                  properties:
                    desc:
                      maxLength: 256
                      type: string
                    key:
                      type: string
                      description: >-
                        The key used with `hash_on` when `type` is `chash`. When
                        `hash_on` is set to `header` or `cookie`, `key` is
                        required. When `hash_on` is set to `consumer`, `key` is
                        not required as the consumer name will be used as the
                        key automatically.
                    retries:
                      minimum: 0
                      type: integer
                    retry_timeout:
                      minimum: 0
                      type: number
                    pass_host:
                      default: pass
                      type: string
                      enum:
                        - pass
                        - node
                        - rewrite
                      description: >-
                        Configure the host when the request is forwarded to the
                        upstream. `pass` is used to pass the request's host to
                        the upstream without modification. `node` sets the host
                        to the host of the upstream node. `rewrite` sets the
                        host to the value of `upstream_host`.
                    upstream_host:
                      type: string
                    type:
                      type: string
                      default: roundrobin
                      enum:
                        - roundrobin
                        - chash
                        - ewma
                        - least_conn
                      description: >-
                        Load balancing algorithm. Support weighted round robin,
                        consistent hashing, exponentially weighted moving
                        average, and least connections algorithms.
                    checks:
                      properties:
                        active:
                          properties:
                            port:
                              type: integer
                              minimum: 1
                              maximum: 65535
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 302
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                successes:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            http_path:
                              default: /
                              type: string
                            https_verify_certificate:
                              default: true
                              type: boolean
                            unhealthy:
                              properties:
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                timeouts:
                                  default: 3
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 404
                                    - 500
                                    - 501
                                    - 502
                                    - 503
                                    - 504
                                    - 505
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            req_headers:
                              items:
                                uniqueItems: true
                                type: string
                              type: array
                              minItems: 1
                            timeout:
                              default: 1
                              type: number
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                            host:
                              type: string
                            concurrency:
                              default: 10
                              type: integer
                          type: object
                        passive:
                          properties:
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 201
                                    - 202
                                    - 203
                                    - 204
                                    - 205
                                    - 206
                                    - 207
                                    - 208
                                    - 226
                                    - 300
                                    - 301
                                    - 302
                                    - 303
                                    - 304
                                    - 305
                                    - 306
                                    - 307
                                    - 308
                                successes:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            unhealthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 500
                                    - 503
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                timeouts:
                                  default: 7
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                          type: object
                      type: object
                      anyOf:
                        - required:
                            - active
                        - required:
                            - active
                            - passive
                    hash_on:
                      default: vars
                      enum:
                        - vars
                        - header
                        - cookie
                        - consumer
                        - vars_combinations
                      description: Type of value to hash on when `type` is `chash`.
                      type: string
                    name:
                      type: string
                      maxLength: 100
                      minLength: 1
                    scheme:
                      enum:
                        - grpc
                        - grpcs
                        - http
                        - https
                        - tcp
                        - tls
                        - udp
                        - kafka
                      default: http
                      description: Protocol to communicate with the upstream.
                    service_name:
                      type: string
                      maxLength: 256
                      minLength: 1
                    keepalive_pool:
                      properties:
                        size:
                          default: 320
                          minimum: 1
                          type: integer
                        idle_timeout:
                          default: 60
                          minimum: 0
                          type: number
                        requests:
                          default: 1000
                          minimum: 1
                          type: integer
                      type: object
                    timeout:
                      properties:
                        connect:
                          exclusiveMinimum: 0
                          type: number
                        read:
                          exclusiveMinimum: 0
                          type: number
                        send:
                          exclusiveMinimum: 0
                          type: number
                      type: object
                      required:
                        - connect
                        - send
                        - read
                    id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    discovery_type:
                      type: string
                      description: discovery type
                    labels:
                      type: object
                      patternProperties:
                        .*:
                          minLength: 1
                          maxLength: 64
                          pattern: ^\S+$
                          type: string
                          description: value of label
                      description: Key-value pairs to specify attributes.
                    discovery_args:
                      properties:
                        group_name:
                          type: string
                          description: group name
                        namespace_id:
                          type: string
                          description: namespace id
                      type: object
                    nodes:
                      anyOf:
                        - patternProperties:
                            .*:
                              type: integer
                              minimum: 0
                              description: weight of node
                          type: object
                        - items:
                            properties:
                              weight:
                                type: integer
                                minimum: 0
                                description: weight of node
                              port:
                                type: integer
                                minimum: 1
                                description: port of node
                              metadata:
                                type: object
                                description: metadata of node
                              host:
                                type: string
                              priority:
                                type: integer
                                default: 0
                                description: priority of node
                            type: object
                            required:
                              - host
                              - port
                              - weight
                          type: array
                    tls:
                      properties:
                        verify:
                          type: boolean
                          default: false
                          description: >-
                            Turn on server certificate verification, currently
                            only kafka upstream is supported
                        client_key:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert_id:
                          anyOf:
                            - type: string
                              minLength: 1
                              maxLength: 64
                              pattern: ^[a-zA-Z0-9-_.]+$
                            - minimum: 1
                              type: integer
                      type: object
                      dependencies:
                        client_cert_id:
                          not:
                            required:
                              - client_client
                              - client_key
                        client_cert:
                          required:
                            - client_key
                          not:
                            required:
                              - client_cert_id
                        client_key:
                          required:
                            - client_cert
                          not:
                            required:
                              - client_cert_id
                  type: object
                  oneOf:
                    - required:
                        - nodes
                    - required:
                        - service_name
                        - discovery_type
                plugins:
                  type: object
                remote_addr:
                  type: string
                  anyOf:
                    - format: ipv4
                      type: string
                      title: IPv4
                    - type: string
                      title: IPv4/CIDR
                      pattern: >-
                        ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                    - format: ipv6
                      type: string
                      title: IPv6
                    - type: string
                      title: IPv6/CIDR
                      pattern: >-
                        ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                  description: client IP
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                timeout:
                  properties:
                    connect:
                      exclusiveMinimum: 0
                      type: number
                    read:
                      exclusiveMinimum: 0
                      type: number
                    send:
                      exclusiveMinimum: 0
                      type: number
                  type: object
                  required:
                    - connect
                    - send
                    - read
                script:
                  minLength: 10
                  maxLength: 102400
                  type: string
                uri:
                  minLength: 1
                  maxLength: 4096
                  type: string
                uris:
                  items:
                    type: string
                    description: HTTP uri
                  type: array
                  minItems: 1
                  uniqueItems: true
              type: object
              anyOf:
                - required:
                    - plugins
                    - uri
                - required:
                    - upstream
                    - uri
                - required:
                    - upstream_id
                    - uri
                - required:
                    - service_id
                    - uri
                - required:
                    - plugins
                    - uris
                - required:
                    - upstream
                    - uris
                - required:
                    - upstream_id
                    - uris
                - required:
                    - service_id
                    - uris
                - required:
                    - script
                    - uri
                - required:
                    - script
                    - uris
            example:
              upstream:
                nodes:
                  127.0.0.1:1981: 1
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      plugin_config_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      status:
                        default: 1
                        type: integer
                        enum:
                          - 1
                          - 0
                        description: route status, 1 to enable, 0 to disable
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      enable_websocket:
                        type: boolean
                      service_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      methods:
                        items:
                          type: string
                          enum:
                            - GET
                            - POST
                            - PUT
                            - DELETE
                            - PATCH
                            - HEAD
                            - OPTIONS
                            - CONNECT
                            - TRACE
                            - PURGE
                          description: HTTP method
                        type: array
                        uniqueItems: true
                      hosts:
                        items:
                          type: string
                        type: array
                        minItems: 1
                        uniqueItems: true
                      remote_addrs:
                        items:
                          type: string
                          anyOf:
                            - format: ipv4
                              type: string
                              title: IPv4
                            - type: string
                              title: IPv4/CIDR
                              pattern: >-
                                ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                            - format: ipv6
                              type: string
                              title: IPv6
                            - type: string
                              title: IPv6/CIDR
                              pattern: >-
                                ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                          description: client IP
                        type: array
                        minItems: 1
                        uniqueItems: true
                      filter_func:
                        minLength: 10
                        type: string
                        pattern: ^function
                      vars:
                        type: array
                        items:
                          type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      script_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      host:
                        type: string
                      priority:
                        default: 0
                        type: integer
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - required:
                              - nodes
                          - required:
                              - service_name
                              - discovery_type
                      plugins:
                        type: object
                        properties: {}
                      remote_addr:
                        type: string
                        anyOf:
                          - format: ipv4
                            type: string
                            title: IPv4
                          - type: string
                            title: IPv4/CIDR
                            pattern: >-
                              ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                          - format: ipv6
                            type: string
                            title: IPv6
                          - type: string
                            title: IPv6/CIDR
                            pattern: >-
                              ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                        description: client IP
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      timeout:
                        properties:
                          connect:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          read:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          send:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                        type: object
                        required:
                          - connect
                          - send
                          - read
                      script:
                        minLength: 10
                        maxLength: 102400
                        type: string
                      uri:
                        minLength: 1
                        maxLength: 4096
                        type: string
                      uris:
                        items:
                          type: string
                          description: HTTP uri
                        type: array
                        minItems: 1
                        uniqueItems: true
                    type: object
                    anyOf:
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
                      - type: string
              examples:
                '1':
                  summary: Update Upstream Node To The Route
                  value:
                    value:
                      remote_addrs:
                        - 127.0.0.1
                      desc: desc
                      name: route-test
                      priority: 0
                      vars:
                        - - http_user
                          - '=='
                          - ios
                      update_time: 1684490363
                      create_time: 1684490006
                      id: '1'
                      plugins:
                        limit-count:
                          show_limit_quota_header: true
                          policy: local
                          count: 2
                          allow_degradation: false
                          rejected_code: 503
                          time_window: 60
                          key_type: var
                          key: remote_addr
                      status: 1
                      timeout:
                        read: 3
                        connect: 3
                        send: 3
                      uri: /ip
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          httpbin.org:80: 1
                          127.0.0.1:1981: 1
                        type: roundrobin
                        scheme: http
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                    key: /apisix/routes/1
                '2':
                  summary: Delete An Upstream Node For The Route
                  value:
                    value:
                      remote_addrs:
                        - 127.0.0.1
                      desc: desc
                      name: route-test
                      vars:
                        - - http_user
                          - '=='
                          - ios
                      priority: 0
                      update_time: 1684490476
                      create_time: 1684490006
                      plugins:
                        limit-count:
                          show_limit_quota_header: true
                          policy: local
                          count: 2
                          key: remote_addr
                          rejected_code: 503
                          time_window: 60
                          key_type: var
                          allow_degradation: false
                      id: '1'
                      status: 1
                      uri: /ip
                      timeout:
                        connect: 3
                        read: 3
                        send: 3
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          httpbin.org:80: 1
                        type: roundrobin
                        scheme: http
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                    key: /apisix/routes/1
                '3':
                  summary: Disable Route
                  value:
                    value:
                      remote_addrs:
                        - 127.0.0.1
                      vars:
                        - - http_user
                          - '=='
                          - ios
                      name: route-test
                      desc: desc
                      priority: 0
                      update_time: 1684490503
                      create_time: 1684490006
                      id: '1'
                      plugins:
                        limit-count:
                          show_limit_quota_header: true
                          policy: local
                          count: 2
                          allow_degradation: false
                          rejected_code: 503
                          time_window: 60
                          key_type: var
                          key: remote_addr
                      status: 0
                      timeout:
                        read: 3
                        connect: 3
                        send: 3
                      uri: /ip
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          httpbin.org:80: 1
                        type: roundrobin
                        scheme: http
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                    key: /apisix/routes/1
        '400':
          description: Invalid configuration
          content: {}
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Route by ID
      deprecated: false
      description: Delete a route by ID.
      tags:
        - Route
      parameters:
        - name: id
          in: path
          description: The route id
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    deleted: '1'
                    key: /apisix/routes/1
        '404':
          description: Key not found
          content: {}
  /apisix/admin/services:
    get:
      summary: Get All Services
      deprecated: false
      description: Get all configured services.
      tags:
        - Service
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  total:
                    type: integer
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        createdIndex:
                          type: integer
                        key:
                          type: string
                        value:
                          properties:
                            desc:
                              maxLength: 256
                              type: string
                            name:
                              type: string
                              maxLength: 100
                              minLength: 1
                            upstream_id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            update_time:
                              type: integer
                            create_time:
                              type: integer
                            plugins:
                              type: object
                              properties: {}
                            upstream:
                              properties:
                                desc:
                                  maxLength: 256
                                  type: string
                                update_time:
                                  type: integer
                                key:
                                  type: string
                                  description: >-
                                    The key used with `hash_on` when `type` is
                                    `chash`. When `hash_on` is set to `header`
                                    or `cookie`, `key` is required. When
                                    `hash_on` is set to `consumer`, `key` is not
                                    required as the consumer name will be used
                                    as the key automatically.
                                retries:
                                  minimum: 0
                                  type: integer
                                retry_timeout:
                                  minimum: 0
                                  type: number
                                pass_host:
                                  default: pass
                                  type: string
                                  enum:
                                    - pass
                                    - node
                                    - rewrite
                                  description: >-
                                    Configure the host when the request is
                                    forwarded to the upstream. `pass` is used to
                                    pass the request's host to the upstream
                                    without modification. `node` sets the host
                                    to the host of the upstream node. `rewrite`
                                    sets the host to the value of
                                    `upstream_host`.
                                upstream_host:
                                  type: string
                                type:
                                  type: string
                                  default: roundrobin
                                  enum:
                                    - roundrobin
                                    - chash
                                    - ewma
                                    - least_conn
                                  description: >-
                                    Load balancing algorithm. Support weighted
                                    round robin, consistent hashing,
                                    exponentially weighted moving average, and
                                    least connections algorithms.
                                checks:
                                  properties:
                                    active:
                                      properties:
                                        port:
                                          type: integer
                                          minimum: 1
                                          maximum: 65535
                                        healthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 200
                                                - 302
                                            interval:
                                              type: integer
                                              minimum: 1
                                              default: 1
                                            successes:
                                              default: 2
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                          type: object
                                        http_path:
                                          default: /
                                          type: string
                                        https_verify_certificate:
                                          default: true
                                          type: boolean
                                        unhealthy:
                                          properties:
                                            interval:
                                              type: integer
                                              minimum: 1
                                              default: 1
                                            tcp_failures:
                                              default: 2
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                            timeouts:
                                              default: 3
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 429
                                                - 404
                                                - 500
                                                - 501
                                                - 502
                                                - 503
                                                - 504
                                                - 505
                                            http_failures:
                                              default: 5
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                          type: object
                                        req_headers:
                                          items:
                                            uniqueItems: true
                                            type: string
                                          type: array
                                          minItems: 1
                                        timeout:
                                          default: 1
                                          type: number
                                        type:
                                          enum:
                                            - http
                                            - https
                                            - tcp
                                          default: http
                                          type: string
                                        host:
                                          type: string
                                        concurrency:
                                          default: 10
                                          type: integer
                                      type: object
                                    passive:
                                      properties:
                                        healthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 200
                                                - 201
                                                - 202
                                                - 203
                                                - 204
                                                - 205
                                                - 206
                                                - 207
                                                - 208
                                                - 226
                                                - 300
                                                - 301
                                                - 302
                                                - 303
                                                - 304
                                                - 305
                                                - 306
                                                - 307
                                                - 308
                                            successes:
                                              default: 5
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                          type: object
                                        unhealthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 429
                                                - 500
                                                - 503
                                            http_failures:
                                              default: 5
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                            tcp_failures:
                                              default: 2
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                            timeouts:
                                              default: 7
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                          type: object
                                        type:
                                          enum:
                                            - http
                                            - https
                                            - tcp
                                          default: http
                                          type: string
                                      type: object
                                  type: object
                                  anyOf:
                                    - required:
                                        - active
                                    - required:
                                        - active
                                        - passive
                                hash_on:
                                  default: vars
                                  enum:
                                    - vars
                                    - header
                                    - cookie
                                    - consumer
                                    - vars_combinations
                                  description: >-
                                    Type of value to hash on when `type` is
                                    `chash`.
                                  type: string
                                name:
                                  type: string
                                  maxLength: 100
                                  minLength: 1
                                scheme:
                                  enum:
                                    - grpc
                                    - grpcs
                                    - http
                                    - https
                                    - tcp
                                    - tls
                                    - udp
                                    - kafka
                                  default: http
                                  description: Protocol to communicate with the upstream.
                                service_name:
                                  type: string
                                  maxLength: 256
                                  minLength: 1
                                keepalive_pool:
                                  properties:
                                    size:
                                      default: 320
                                      minimum: 1
                                      type: integer
                                    idle_timeout:
                                      default: 60
                                      minimum: 0
                                      type: number
                                    requests:
                                      default: 1000
                                      minimum: 1
                                      type: integer
                                  type: object
                                timeout:
                                  properties:
                                    connect:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                    read:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                    send:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                  type: object
                                  required:
                                    - connect
                                    - send
                                    - read
                                id:
                                  anyOf:
                                    - type: string
                                      minLength: 1
                                      maxLength: 64
                                      pattern: ^[a-zA-Z0-9-_.]+$
                                    - minimum: 1
                                      type: integer
                                discovery_type:
                                  type: string
                                  description: discovery type
                                labels:
                                  type: object
                                  patternProperties:
                                    .*:
                                      minLength: 1
                                      maxLength: 64
                                      pattern: ^\S+$
                                      type: string
                                      description: value of label
                                  description: Key-value pairs to specify attributes.
                                  properties: {}
                                discovery_args:
                                  properties:
                                    group_name:
                                      type: string
                                      description: group name
                                    namespace_id:
                                      type: string
                                      description: namespace id
                                  type: object
                                nodes:
                                  anyOf:
                                    - patternProperties:
                                        .*:
                                          type: integer
                                          minimum: 0
                                          description: weight of node
                                      type: object
                                    - items:
                                        properties:
                                          weight:
                                            type: integer
                                            minimum: 0
                                            description: weight of node
                                          port:
                                            type: integer
                                            minimum: 1
                                            description: port of node
                                          metadata:
                                            type: object
                                            description: metadata of node
                                          host:
                                            type: string
                                          priority:
                                            type: integer
                                            default: 0
                                            description: priority of node
                                        type: object
                                        required:
                                          - host
                                          - port
                                          - weight
                                      type: array
                                tls:
                                  properties:
                                    verify:
                                      type: boolean
                                      default: false
                                      description: >-
                                        Turn on server certificate verification,
                                        currently only kafka upstream is
                                        supported
                                    client_key:
                                      minLength: 128
                                      maxLength: 65536
                                      type: string
                                    client_cert:
                                      minLength: 128
                                      maxLength: 65536
                                      type: string
                                    client_cert_id:
                                      anyOf:
                                        - type: string
                                          minLength: 1
                                          maxLength: 64
                                          pattern: ^[a-zA-Z0-9-_.]+$
                                        - minimum: 1
                                          type: integer
                                  type: object
                                  dependencies:
                                    client_cert_id:
                                      not:
                                        required:
                                          - client_client
                                          - client_key
                                    client_cert:
                                      required:
                                        - client_key
                                      not:
                                        required:
                                          - client_cert_id
                                    client_key:
                                      required:
                                        - client_cert
                                      not:
                                        required:
                                          - client_cert_id
                                create_time:
                                  type: integer
                              type: object
                              oneOf:
                                - type: string
                                - type: string
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            enable_websocket:
                              type: boolean
                            script:
                              minLength: 10
                              maxLength: 102400
                              type: string
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            hosts:
                              items:
                                type: string
                              type: array
                              minItems: 1
                              uniqueItems: true
                          type: object
                        modifiedIndex:
                          type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    total: 1
                    list:
                      - createdIndex: 117
                        key: /apisix/services/1
                        value:
                          enable_websocket: true
                          name: service-test
                          update_time: 1684288908
                          create_time: 1684287870
                          id: '1'
                          desc: hello world
                          upstream:
                            hash_on: vars
                            pass_host: pass
                            nodes:
                              127.0.0.1:1980: 1
                            type: roundrobin
                            scheme: http
                          plugins:
                            limit-count:
                              show_limit_quota_header: true
                              policy: local
                              count: 2
                              key: remote_addr
                              rejected_code: 503
                              time_window: 60
                              key_type: var
                              allow_degradation: false
                          hosts:
                            - foo.com
                        modifiedIndex: 118
    post:
      summary: Create Service
      deprecated: false
      description: Create a service with an ID generated.
      tags:
        - Service
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                upstream_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                plugins:
                  type: object
                  properties: {}
                upstream:
                  properties:
                    desc:
                      maxLength: 256
                      type: string
                    key:
                      type: string
                      description: >-
                        The key used with `hash_on` when `type` is `chash`. When
                        `hash_on` is set to `header` or `cookie`, `key` is
                        required. When `hash_on` is set to `consumer`, `key` is
                        not required as the consumer name will be used as the
                        key automatically.
                    retries:
                      minimum: 0
                      type: integer
                    retry_timeout:
                      minimum: 0
                      type: number
                    pass_host:
                      default: pass
                      type: string
                      enum:
                        - pass
                        - node
                        - rewrite
                      description: >-
                        Configure the host when the request is forwarded to the
                        upstream. `pass` is used to pass the request's host to
                        the upstream without modification. `node` sets the host
                        to the host of the upstream node. `rewrite` sets the
                        host to the value of `upstream_host`.
                    upstream_host:
                      type: string
                    type:
                      type: string
                      default: roundrobin
                      enum:
                        - roundrobin
                        - chash
                        - ewma
                        - least_conn
                      description: >-
                        Load balancing algorithm. Support weighted round robin,
                        consistent hashing, exponentially weighted moving
                        average, and least connections algorithms.
                    checks:
                      properties:
                        active:
                          properties:
                            port:
                              type: integer
                              minimum: 1
                              maximum: 65535
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 302
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                successes:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            http_path:
                              default: /
                              type: string
                            https_verify_certificate:
                              default: true
                              type: boolean
                            unhealthy:
                              properties:
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                timeouts:
                                  default: 3
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 404
                                    - 500
                                    - 501
                                    - 502
                                    - 503
                                    - 504
                                    - 505
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            req_headers:
                              items:
                                uniqueItems: true
                                type: string
                              type: array
                              minItems: 1
                            timeout:
                              default: 1
                              type: number
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                            host:
                              type: string
                            concurrency:
                              default: 10
                              type: integer
                          type: object
                        passive:
                          properties:
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 201
                                    - 202
                                    - 203
                                    - 204
                                    - 205
                                    - 206
                                    - 207
                                    - 208
                                    - 226
                                    - 300
                                    - 301
                                    - 302
                                    - 303
                                    - 304
                                    - 305
                                    - 306
                                    - 307
                                    - 308
                                successes:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            unhealthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 500
                                    - 503
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                timeouts:
                                  default: 7
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                          type: object
                      type: object
                      anyOf:
                        - required:
                            - active
                        - required:
                            - active
                            - passive
                    hash_on:
                      default: vars
                      enum:
                        - vars
                        - header
                        - cookie
                        - consumer
                        - vars_combinations
                      description: Type of value to hash on when `type` is `chash`.
                      type: string
                    name:
                      type: string
                      maxLength: 100
                      minLength: 1
                    scheme:
                      enum:
                        - grpc
                        - grpcs
                        - http
                        - https
                        - tcp
                        - tls
                        - udp
                        - kafka
                      default: http
                      description: Protocol to communicate with the upstream.
                    service_name:
                      type: string
                      maxLength: 256
                      minLength: 1
                    keepalive_pool:
                      properties:
                        size:
                          default: 320
                          minimum: 1
                          type: integer
                        idle_timeout:
                          default: 60
                          minimum: 0
                          type: number
                        requests:
                          default: 1000
                          minimum: 1
                          type: integer
                      type: object
                    timeout:
                      properties:
                        connect:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        read:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        send:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                      type: object
                      required:
                        - connect
                        - send
                        - read
                    id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    discovery_type:
                      type: string
                      description: discovery type
                    labels:
                      type: object
                      patternProperties:
                        .*:
                          minLength: 1
                          maxLength: 64
                          pattern: ^\S+$
                          type: string
                          description: value of label
                      description: Key-value pairs to specify attributes.
                      properties: {}
                    discovery_args:
                      properties:
                        group_name:
                          type: string
                          description: group name
                        namespace_id:
                          type: string
                          description: namespace id
                      type: object
                    nodes:
                      anyOf:
                        - patternProperties:
                            .*:
                              type: integer
                              minimum: 0
                              description: weight of node
                          type: object
                        - items:
                            properties:
                              weight:
                                type: integer
                                minimum: 0
                                description: weight of node
                              port:
                                type: integer
                                minimum: 1
                                description: port of node
                              metadata:
                                type: object
                                description: metadata of node
                              host:
                                type: string
                              priority:
                                type: integer
                                default: 0
                                description: priority of node
                            type: object
                            required:
                              - host
                              - port
                              - weight
                          type: array
                    tls:
                      properties:
                        verify:
                          type: boolean
                          default: false
                          description: >-
                            Turn on server certificate verification, currently
                            only kafka upstream is supported
                        client_key:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert_id:
                          anyOf:
                            - type: string
                              minLength: 1
                              maxLength: 64
                              pattern: ^[a-zA-Z0-9-_.]+$
                            - minimum: 1
                              type: integer
                      type: object
                      dependencies:
                        client_cert_id:
                          not:
                            required:
                              - client_client
                              - client_key
                        client_cert:
                          required:
                            - client_key
                          not:
                            required:
                              - client_cert_id
                        client_key:
                          required:
                            - client_cert
                          not:
                            required:
                              - client_cert_id
                  type: object
                  oneOf:
                    - type: string
                    - type: string
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                enable_websocket:
                  type: boolean
                script:
                  minLength: 10
                  maxLength: 102400
                  type: string
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                hosts:
                  items:
                    type: string
                  type: array
                  minItems: 1
                  uniqueItems: true
              type: object
            example:
              plugins: {}
              upstream:
                type: roundrobin
                nodes:
                  127.0.0.1:1980: 1
              name: service-test
              desc: hello world
              enable_websocket: true
              hosts:
                - foo.com
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      plugins:
                        type: object
                        properties: {}
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - type: string
                          - type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      enable_websocket:
                        type: boolean
                      script:
                        minLength: 10
                        maxLength: 102400
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      hosts:
                        items:
                          type: string
                        type: array
                        minItems: 1
                        uniqueItems: true
                    type: object
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      enable_websocket: true
                      name: service-test
                      update_time: 1684491069
                      create_time: 1684491069
                      plugins: {}
                      id: '00000000000000000218'
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          127.0.0.1:1980: 1
                        type: roundrobin
                        scheme: http
                      desc: hello world
                      hosts:
                        - foo.com
                    key: /apisix/services/00000000000000000218
        '400':
          description: Invalid configuration
          content: {}
  /apisix/admin/services/{id}:
    get:
      summary: Get Service by ID
      deprecated: false
      description: Get a service by ID.
      tags:
        - Service
      parameters:
        - name: id
          in: path
          description: The target service id
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  createdIndex:
                    type: integer
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      plugins:
                        type: object
                        properties: {}
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - type: string
                          - type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      enable_websocket:
                        type: boolean
                      script:
                        minLength: 10
                        maxLength: 102400
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      hosts:
                        items:
                          type: string
                        type: array
                        minItems: 1
                        uniqueItems: true
                    type: object
                  modifiedIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    createdIndex: 117
                    key: /apisix/services/1
                    value:
                      enable_websocket: true
                      name: service-test
                      update_time: 1684490934
                      create_time: 1684287870
                      plugins:
                        limit-count:
                          show_limit_quota_header: true
                          policy: local
                          count: 2
                          allow_degradation: false
                          rejected_code: 503
                          time_window: 60
                          key_type: var
                          key: remote_addr
                      desc: hello world
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          127.0.0.1:1980: 1
                        type: roundrobin
                        scheme: http
                      id: '1'
                      hosts:
                        - foo.com
                    modifiedIndex: 216
        '404':
          description: Key not found
          content: {}
    put:
      summary: Create Service by ID
      deprecated: false
      description: Create a service with a custom ID.
      tags:
        - Service
      parameters:
        - name: id
          in: path
          description: Specifies the ID of the service resource
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                upstream_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                plugins:
                  type: object
                  properties: {}
                upstream:
                  properties:
                    desc:
                      maxLength: 256
                      type: string
                    key:
                      type: string
                      description: >-
                        The key used with `hash_on` when `type` is `chash`. When
                        `hash_on` is set to `header` or `cookie`, `key` is
                        required. When `hash_on` is set to `consumer`, `key` is
                        not required as the consumer name will be used as the
                        key automatically.
                    retries:
                      minimum: 0
                      type: integer
                    retry_timeout:
                      minimum: 0
                      type: number
                    pass_host:
                      default: pass
                      type: string
                      enum:
                        - pass
                        - node
                        - rewrite
                      description: >-
                        Configure the host when the request is forwarded to the
                        upstream. `pass` is used to pass the request's host to
                        the upstream without modification. `node` sets the host
                        to the host of the upstream node. `rewrite` sets the
                        host to the value of `upstream_host`.
                    upstream_host:
                      type: string
                    type:
                      type: string
                      default: roundrobin
                      enum:
                        - roundrobin
                        - chash
                        - ewma
                        - least_conn
                      description: >-
                        Load balancing algorithm. Support weighted round robin,
                        consistent hashing, exponentially weighted moving
                        average, and least connections algorithms.
                    checks:
                      properties:
                        active:
                          properties:
                            port:
                              type: integer
                              minimum: 1
                              maximum: 65535
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 302
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                successes:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            http_path:
                              default: /
                              type: string
                            https_verify_certificate:
                              default: true
                              type: boolean
                            unhealthy:
                              properties:
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                timeouts:
                                  default: 3
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 404
                                    - 500
                                    - 501
                                    - 502
                                    - 503
                                    - 504
                                    - 505
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            req_headers:
                              items:
                                uniqueItems: true
                                type: string
                              type: array
                              minItems: 1
                            timeout:
                              default: 1
                              type: number
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                            host:
                              type: string
                            concurrency:
                              default: 10
                              type: integer
                          type: object
                        passive:
                          properties:
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 201
                                    - 202
                                    - 203
                                    - 204
                                    - 205
                                    - 206
                                    - 207
                                    - 208
                                    - 226
                                    - 300
                                    - 301
                                    - 302
                                    - 303
                                    - 304
                                    - 305
                                    - 306
                                    - 307
                                    - 308
                                successes:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            unhealthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 500
                                    - 503
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                timeouts:
                                  default: 7
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                          type: object
                      type: object
                      anyOf:
                        - required:
                            - active
                        - required:
                            - active
                            - passive
                    hash_on:
                      default: vars
                      enum:
                        - vars
                        - header
                        - cookie
                        - consumer
                        - vars_combinations
                      description: Type of value to hash on when `type` is `chash`.
                      type: string
                    name:
                      type: string
                      maxLength: 100
                      minLength: 1
                    scheme:
                      enum:
                        - grpc
                        - grpcs
                        - http
                        - https
                        - tcp
                        - tls
                        - udp
                        - kafka
                      default: http
                      description: Protocol to communicate with the upstream.
                    service_name:
                      type: string
                      maxLength: 256
                      minLength: 1
                    keepalive_pool:
                      properties:
                        size:
                          default: 320
                          minimum: 1
                          type: integer
                        idle_timeout:
                          default: 60
                          minimum: 0
                          type: number
                        requests:
                          default: 1000
                          minimum: 1
                          type: integer
                      type: object
                    timeout:
                      properties:
                        connect:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        read:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        send:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                      type: object
                      required:
                        - connect
                        - send
                        - read
                    id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    discovery_type:
                      type: string
                      description: discovery type
                    labels:
                      type: object
                      patternProperties:
                        .*:
                          minLength: 1
                          maxLength: 64
                          pattern: ^\S+$
                          type: string
                          description: value of label
                      description: Key-value pairs to specify attributes.
                      properties: {}
                    discovery_args:
                      properties:
                        group_name:
                          type: string
                          description: group name
                        namespace_id:
                          type: string
                          description: namespace id
                      type: object
                    nodes:
                      anyOf:
                        - patternProperties:
                            .*:
                              type: integer
                              minimum: 0
                              description: weight of node
                          type: object
                        - items:
                            properties:
                              weight:
                                type: integer
                                minimum: 0
                                description: weight of node
                              port:
                                type: integer
                                minimum: 1
                                description: port of node
                              metadata:
                                type: object
                                description: metadata of node
                              host:
                                type: string
                              priority:
                                type: integer
                                default: 0
                                description: priority of node
                            type: object
                            required:
                              - host
                              - port
                              - weight
                          type: array
                    tls:
                      properties:
                        verify:
                          type: boolean
                          default: false
                          description: >-
                            Turn on server certificate verification, currently
                            only kafka upstream is supported
                        client_key:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert_id:
                          anyOf:
                            - type: string
                              minLength: 1
                              maxLength: 64
                              pattern: ^[a-zA-Z0-9-_.]+$
                            - minimum: 1
                              type: integer
                      type: object
                      dependencies:
                        client_cert_id:
                          not:
                            required:
                              - client_client
                              - client_key
                        client_cert:
                          required:
                            - client_key
                          not:
                            required:
                              - client_cert_id
                        client_key:
                          required:
                            - client_cert
                          not:
                            required:
                              - client_cert_id
                  type: object
                  oneOf:
                    - type: string
                    - type: string
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                enable_websocket:
                  type: boolean
                script:
                  minLength: 10
                  maxLength: 102400
                  type: string
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                hosts:
                  items:
                    type: string
                  type: array
                  minItems: 1
                  uniqueItems: true
              type: object
            example:
              plugins:
                limit-count:
                  count: 2
                  time_window: 60
                  rejected_code: 503
                  key: remote_addr
              upstream:
                type: roundrobin
                nodes:
                  127.0.0.1:1980: 1
              name: service-test
              desc: hello world
              enable_websocket: true
              hosts:
                - foo.com
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      plugins:
                        type: object
                        properties: {}
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - type: string
                          - type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      enable_websocket:
                        type: boolean
                      script:
                        minLength: 10
                        maxLength: 102400
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      hosts:
                        items:
                          type: string
                        type: array
                        minItems: 1
                        uniqueItems: true
                    type: object
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      desc: hello world
                      name: service-test
                      update_time: 1684491005
                      create_time: 1684287870
                      plugins:
                        limit-count:
                          show_limit_quota_header: true
                          policy: local
                          count: 2
                          key: remote_addr
                          rejected_code: 503
                          time_window: 60
                          key_type: var
                          allow_degradation: false
                      id: '1'
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          127.0.0.1:1980: 1
                        type: roundrobin
                        scheme: http
                      enable_websocket: true
                      hosts:
                        - foo.com
                    key: /apisix/services/1
        '400':
          description: Invalid configuration
          content: {}
    patch:
      summary: Update Service
      deprecated: false
      description: Update a service.
      tags:
        - Service
      parameters:
        - name: id
          in: path
          description: The target service id
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                upstream_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                plugins:
                  type: object
                  properties: {}
                upstream:
                  properties:
                    desc:
                      maxLength: 256
                      type: string
                    key:
                      type: string
                      description: >-
                        The key used with `hash_on` when `type` is `chash`. When
                        `hash_on` is set to `header` or `cookie`, `key` is
                        required. When `hash_on` is set to `consumer`, `key` is
                        not required as the consumer name will be used as the
                        key automatically.
                    retries:
                      minimum: 0
                      type: integer
                    retry_timeout:
                      minimum: 0
                      type: number
                    pass_host:
                      default: pass
                      type: string
                      enum:
                        - pass
                        - node
                        - rewrite
                      description: >-
                        Configure the host when the request is forwarded to the
                        upstream. `pass` is used to pass the request's host to
                        the upstream without modification. `node` sets the host
                        to the host of the upstream node. `rewrite` sets the
                        host to the value of `upstream_host`.
                    upstream_host:
                      type: string
                    type:
                      type: string
                      default: roundrobin
                      enum:
                        - roundrobin
                        - chash
                        - ewma
                        - least_conn
                      description: >-
                        Load balancing algorithm. Support weighted round robin,
                        consistent hashing, exponentially weighted moving
                        average, and least connections algorithms.
                    checks:
                      properties:
                        active:
                          properties:
                            port:
                              type: integer
                              minimum: 1
                              maximum: 65535
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 302
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                successes:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            http_path:
                              default: /
                              type: string
                            https_verify_certificate:
                              default: true
                              type: boolean
                            unhealthy:
                              properties:
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                timeouts:
                                  default: 3
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 404
                                    - 500
                                    - 501
                                    - 502
                                    - 503
                                    - 504
                                    - 505
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            req_headers:
                              items:
                                uniqueItems: true
                                type: string
                              type: array
                              minItems: 1
                            timeout:
                              default: 1
                              type: number
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                            host:
                              type: string
                            concurrency:
                              default: 10
                              type: integer
                          type: object
                        passive:
                          properties:
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 201
                                    - 202
                                    - 203
                                    - 204
                                    - 205
                                    - 206
                                    - 207
                                    - 208
                                    - 226
                                    - 300
                                    - 301
                                    - 302
                                    - 303
                                    - 304
                                    - 305
                                    - 306
                                    - 307
                                    - 308
                                successes:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            unhealthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 500
                                    - 503
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                timeouts:
                                  default: 7
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                          type: object
                      type: object
                      anyOf:
                        - required:
                            - active
                        - required:
                            - active
                            - passive
                    hash_on:
                      default: vars
                      enum:
                        - vars
                        - header
                        - cookie
                        - consumer
                        - vars_combinations
                      description: Type of value to hash on when `type` is `chash`.
                      type: string
                    name:
                      type: string
                      maxLength: 100
                      minLength: 1
                    scheme:
                      enum:
                        - grpc
                        - grpcs
                        - http
                        - https
                        - tcp
                        - tls
                        - udp
                        - kafka
                      default: http
                      description: Protocol to communicate with the upstream.
                    service_name:
                      type: string
                      maxLength: 256
                      minLength: 1
                    keepalive_pool:
                      properties:
                        size:
                          default: 320
                          minimum: 1
                          type: integer
                        idle_timeout:
                          default: 60
                          minimum: 0
                          type: number
                        requests:
                          default: 1000
                          minimum: 1
                          type: integer
                      type: object
                    timeout:
                      properties:
                        connect:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        read:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        send:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                      type: object
                      required:
                        - connect
                        - send
                        - read
                    id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    discovery_type:
                      type: string
                      description: discovery type
                    labels:
                      type: object
                      patternProperties:
                        .*:
                          minLength: 1
                          maxLength: 64
                          pattern: ^\S+$
                          type: string
                          description: value of label
                      description: Key-value pairs to specify attributes.
                      properties: {}
                    discovery_args:
                      properties:
                        group_name:
                          type: string
                          description: group name
                        namespace_id:
                          type: string
                          description: namespace id
                      type: object
                    nodes:
                      anyOf:
                        - patternProperties:
                            .*:
                              type: integer
                              minimum: 0
                              description: weight of node
                          type: object
                        - items:
                            properties:
                              weight:
                                type: integer
                                minimum: 0
                                description: weight of node
                              port:
                                type: integer
                                minimum: 1
                                description: port of node
                              metadata:
                                type: object
                                description: metadata of node
                              host:
                                type: string
                              priority:
                                type: integer
                                default: 0
                                description: priority of node
                            type: object
                            required:
                              - host
                              - port
                              - weight
                          type: array
                    tls:
                      properties:
                        verify:
                          type: boolean
                          default: false
                          description: >-
                            Turn on server certificate verification, currently
                            only kafka upstream is supported
                        client_key:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert_id:
                          anyOf:
                            - type: string
                              minLength: 1
                              maxLength: 64
                              pattern: ^[a-zA-Z0-9-_.]+$
                            - minimum: 1
                              type: integer
                      type: object
                      dependencies:
                        client_cert_id:
                          not:
                            required:
                              - client_client
                              - client_key
                        client_cert:
                          required:
                            - client_key
                          not:
                            required:
                              - client_cert_id
                        client_key:
                          required:
                            - client_cert
                          not:
                            required:
                              - client_cert_id
                  type: object
                  oneOf:
                    - type: string
                    - type: string
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                enable_websocket:
                  type: boolean
                script:
                  minLength: 10
                  maxLength: 102400
                  type: string
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                hosts:
                  items:
                    type: string
                  type: array
                  minItems: 1
                  uniqueItems: true
              type: object
            example:
              upstream:
                nodes:
                  127.0.0.1:1981: 1
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      plugins:
                        type: object
                        properties: {}
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - type: string
                          - type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      enable_websocket:
                        type: boolean
                      script:
                        minLength: 10
                        maxLength: 102400
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      hosts:
                        items:
                          type: string
                        type: array
                        minItems: 1
                        uniqueItems: true
                    type: object
              examples:
                '1':
                  summary: Update Upstream Node To The Service
                  value:
                    value:
                      upstream:
                        scheme: http
                        nodes:
                          127.0.0.1:1981: 1
                          127.0.0.1:1980: 1
                        type: roundrobin
                        hash_on: vars
                        pass_host: pass
                      create_time: 1684142130
                      enable_websocket: true
                      id: '1'
                      update_time: 1684142459
                      hosts:
                        - foo.com
                      name: service-test
                      plugins: {}
                      desc: hello world
                    key: /apisix/services/1
                '2':
                  summary: Delete An Upstream Node for The Route
                  value:
                    key: /apisix/services/1
                    value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      desc: hello world
                      id: '1'
                      create_time: 1684287870
                      update_time: 1684288908
                      upstream:
                        type: roundrobin
                        hash_on: vars
                        nodes:
                          127.0.0.1:1980: 1
                        pass_host: pass
                        scheme: http
                      name: service-test
                      enable_websocket: true
                      hosts:
                        - foo.com
        '400':
          description: Invalid configuration
          content: {}
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Service by ID
      deprecated: false
      description: Delete a service by ID.
      tags:
        - Service
      parameters:
        - name: id
          in: path
          description: The service id
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: string
                  key:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    deleted: '1'
                    key: /apisix/services/1
        '404':
          description: Key not found
          content: {}
  /apisix/admin/consumers:
    put:
      summary: Create Consumer
      deprecated: false
      description: Create a consumer with a custom ID.
      tags:
        - Consumer
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              properties:
                plugins:
                  type: object
                  properties: {}
                username:
                  type: string
                  minLength: 1
                  maxLength: 100
                  pattern: ^[a-zA-Z0-9_]+$
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                desc:
                  maxLength: 256
                  type: string
                group_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
              type: object
              required:
                - username
            example:
              username: jack
              plugins:
                limit-count:
                  count: 2
                  time_window: 60
                  rejected_code: 503
                  key: remote_addr
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      plugins:
                        type: object
                        properties: {}
                      username:
                        type: string
                        minLength: 1
                        maxLength: 100
                        pattern: ^[a-zA-Z0-9_]+$
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      desc:
                        maxLength: 256
                        type: string
                      group_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      create_time:
                        type: integer
                    type: object
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/consumers/jack
                    value:
                      plugins:
                        limit-count:
                          time_window: 60
                          rejected_code: 503
                          key: remote_addr
                          key_type: var
                          count: 2
                          show_limit_quota_header: true
                          allow_degradation: false
                          policy: local
                      username: jack
                      create_time: 1683164776
                      update_time: 1684289832
        '400':
          description: Invalid configuration
          content: {}
    get:
      summary: Get All Consumers
      deprecated: false
      description: Get all configured consumers.
      tags:
        - Consumer
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            plugins:
                              type: object
                              properties: {}
                            username:
                              type: string
                              minLength: 1
                              maxLength: 100
                              pattern: ^[a-zA-Z0-9_]+$
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            desc:
                              maxLength: 256
                              type: string
                            update_time:
                              type: integer
                            group_id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            create_time:
                              type: integer
                          type: object
                          required:
                            - username
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    list:
                      - value:
                          plugins:
                            limit-count:
                              rejected_code: 503
                              time_window: 60
                              key: remote_addr
                              key_type: var
                              count: 2
                              allow_degradation: false
                              show_limit_quota_header: true
                              policy: local
                          username: jack
                          create_time: 1683164776
                          update_time: 1684289832
                        key: /apisix/consumers/jack
                        modifiedIndex: 119
                        createdIndex: 17
                    total: 1
  /apisix/admin/consumers/{username}:
    get:
      summary: Get Consumer by ID
      deprecated: false
      description: Get a consumer by ID.
      tags:
        - Consumer
      parameters:
        - name: username
          in: path
          description: Specified consumer username.
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    properties:
                      plugins:
                        type: object
                        properties: {}
                      username:
                        type: string
                        minLength: 1
                        maxLength: 100
                        pattern: ^[a-zA-Z0-9_]+$
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      group_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - username
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      username: jack
                      create_time: 1683164776
                      update_time: 1684289832
                    key: /apisix/consumers/jack
                    modifiedIndex: 119
                    createdIndex: 17
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Consumer by ID
      deprecated: false
      description: Delete a consumer by ID.
      tags:
        - Consumer
      parameters:
        - name: username
          in: path
          description: Specified consumer username.
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/consumers/jack
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
  /apisix/admin/upstreams:
    get:
      summary: Get All Upstreams
      deprecated: false
      description: Get all configured upstreams.
      tags:
        - Upstream
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            desc:
                              maxLength: 256
                              type: string
                            update_time:
                              type: integer
                            key:
                              type: string
                              description: >-
                                The key used with `hash_on` when `type` is
                                `chash`. When `hash_on` is set to `header` or
                                `cookie`, `key` is required. When `hash_on` is
                                set to `consumer`, `key` is not required as the
                                consumer name will be used as the key
                                automatically.
                            retries:
                              minimum: 0
                              type: integer
                            retry_timeout:
                              minimum: 0
                              type: number
                            pass_host:
                              default: pass
                              type: string
                              enum:
                                - pass
                                - node
                                - rewrite
                              description: >-
                                Configure the host when the request is forwarded
                                to the upstream. `pass` is used to pass the
                                request's host to the upstream without
                                modification. `node` sets the host to the host
                                of the upstream node. `rewrite` sets the host to
                                the value of `upstream_host`.
                            upstream_host:
                              type: string
                            type:
                              type: string
                              default: roundrobin
                              enum:
                                - roundrobin
                                - chash
                                - ewma
                                - least_conn
                              description: >-
                                Load balancing algorithm. Support weighted round
                                robin, consistent hashing, exponentially
                                weighted moving average, and least connections
                                algorithms.
                            checks:
                              properties:
                                active:
                                  properties:
                                    port:
                                      type: integer
                                      minimum: 1
                                      maximum: 65535
                                    healthy:
                                      properties:
                                        http_statuses:
                                          uniqueItems: true
                                          items:
                                            type: integer
                                            minimum: 200
                                            maximum: 599
                                          type: array
                                          minItems: 1
                                          default:
                                            - 200
                                            - 302
                                        interval:
                                          type: integer
                                          minimum: 1
                                          default: 1
                                        successes:
                                          default: 2
                                          type: integer
                                          minimum: 1
                                          maximum: 254
                                      type: object
                                    http_path:
                                      default: /
                                      type: string
                                    https_verify_certificate:
                                      default: true
                                      type: boolean
                                    unhealthy:
                                      properties:
                                        interval:
                                          type: integer
                                          minimum: 1
                                          default: 1
                                        tcp_failures:
                                          default: 2
                                          type: integer
                                          minimum: 1
                                          maximum: 254
                                        timeouts:
                                          default: 3
                                          type: integer
                                          minimum: 1
                                          maximum: 254
                                        http_statuses:
                                          uniqueItems: true
                                          items:
                                            type: integer
                                            minimum: 200
                                            maximum: 599
                                          type: array
                                          minItems: 1
                                          default:
                                            - 429
                                            - 404
                                            - 500
                                            - 501
                                            - 502
                                            - 503
                                            - 504
                                            - 505
                                        http_failures:
                                          default: 5
                                          type: integer
                                          minimum: 1
                                          maximum: 254
                                      type: object
                                    req_headers:
                                      items:
                                        uniqueItems: true
                                        type: string
                                      type: array
                                      minItems: 1
                                    timeout:
                                      default: 1
                                      type: number
                                    type:
                                      enum:
                                        - http
                                        - https
                                        - tcp
                                      default: http
                                      type: string
                                    host:
                                      type: string
                                    concurrency:
                                      default: 10
                                      type: integer
                                  type: object
                                passive:
                                  properties:
                                    healthy:
                                      properties:
                                        http_statuses:
                                          uniqueItems: true
                                          items:
                                            type: integer
                                            minimum: 200
                                            maximum: 599
                                          type: array
                                          minItems: 1
                                          default:
                                            - 200
                                            - 201
                                            - 202
                                            - 203
                                            - 204
                                            - 205
                                            - 206
                                            - 207
                                            - 208
                                            - 226
                                            - 300
                                            - 301
                                            - 302
                                            - 303
                                            - 304
                                            - 305
                                            - 306
                                            - 307
                                            - 308
                                        successes:
                                          default: 5
                                          type: integer
                                          minimum: 0
                                          maximum: 254
                                      type: object
                                    unhealthy:
                                      properties:
                                        http_statuses:
                                          uniqueItems: true
                                          items:
                                            type: integer
                                            minimum: 200
                                            maximum: 599
                                          type: array
                                          minItems: 1
                                          default:
                                            - 429
                                            - 500
                                            - 503
                                        http_failures:
                                          default: 5
                                          type: integer
                                          minimum: 0
                                          maximum: 254
                                        tcp_failures:
                                          default: 2
                                          type: integer
                                          minimum: 0
                                          maximum: 254
                                        timeouts:
                                          default: 7
                                          type: integer
                                          minimum: 0
                                          maximum: 254
                                      type: object
                                    type:
                                      enum:
                                        - http
                                        - https
                                        - tcp
                                      default: http
                                      type: string
                                  type: object
                              type: object
                              anyOf:
                                - required:
                                    - active
                                - required:
                                    - active
                                    - passive
                            hash_on:
                              default: vars
                              enum:
                                - vars
                                - header
                                - cookie
                                - consumer
                                - vars_combinations
                              description: Type of value to hash on when `type` is `chash`.
                              type: string
                            name:
                              type: string
                              maxLength: 100
                              minLength: 1
                            scheme:
                              enum:
                                - grpc
                                - grpcs
                                - http
                                - https
                                - tcp
                                - tls
                                - udp
                                - kafka
                              default: http
                              description: Protocol to communicate with the upstream.
                            service_name:
                              type: string
                              maxLength: 256
                              minLength: 1
                            keepalive_pool:
                              properties:
                                size:
                                  default: 320
                                  minimum: 1
                                  type: integer
                                idle_timeout:
                                  default: 60
                                  minimum: 0
                                  type: number
                                requests:
                                  default: 1000
                                  minimum: 1
                                  type: integer
                              type: object
                            timeout:
                              properties:
                                connect:
                                  exclusiveMinimum: 0
                                  type: number
                                  minimum: 0
                                read:
                                  exclusiveMinimum: 0
                                  type: number
                                  minimum: 0
                                send:
                                  exclusiveMinimum: 0
                                  type: number
                                  minimum: 0
                              type: object
                              required:
                                - connect
                                - send
                                - read
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            discovery_type:
                              type: string
                              description: discovery type
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            discovery_args:
                              properties:
                                group_name:
                                  type: string
                                  description: group name
                                namespace_id:
                                  type: string
                                  description: namespace id
                              type: object
                            nodes:
                              anyOf:
                                - patternProperties:
                                    .*:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                  type: object
                                - items:
                                    properties:
                                      weight:
                                        type: integer
                                        minimum: 0
                                        description: weight of node
                                      port:
                                        type: integer
                                        minimum: 1
                                        description: port of node
                                      metadata:
                                        type: object
                                        description: metadata of node
                                      host:
                                        type: string
                                      priority:
                                        type: integer
                                        default: 0
                                        description: priority of node
                                    type: object
                                    required:
                                      - host
                                      - port
                                      - weight
                                  type: array
                            tls:
                              properties:
                                verify:
                                  type: boolean
                                  default: false
                                  description: >-
                                    Turn on server certificate verification,
                                    currently only kafka upstream is supported
                                client_key:
                                  minLength: 128
                                  maxLength: 65536
                                  type: string
                                client_cert:
                                  minLength: 128
                                  maxLength: 65536
                                  type: string
                                client_cert_id:
                                  anyOf:
                                    - type: string
                                      minLength: 1
                                      maxLength: 64
                                      pattern: ^[a-zA-Z0-9-_.]+$
                                    - minimum: 1
                                      type: integer
                              type: object
                              dependencies:
                                client_cert_id:
                                  not:
                                    required:
                                      - client_client
                                      - client_key
                                client_cert:
                                  required:
                                    - client_key
                                  not:
                                    required:
                                      - client_cert_id
                                client_key:
                                  required:
                                    - client_cert
                                  not:
                                    required:
                                      - client_cert_id
                            create_time:
                              type: integer
                          type: object
                          oneOf:
                            - type: string
                            - type: string
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                      required:
                        - value
                        - key
                        - modifiedIndex
                        - createdIndex
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    list:
                      - value:
                          timeout:
                            send: 15
                            read: 15
                            connect: 15
                          desc: desc
                          id: '1'
                          create_time: 1684290697
                          retries: 1
                          pass_host: pass
                          update_time: 1684291419
                          type: roundrobin
                          name: upstream-for-test
                          hash_on: vars
                          nodes:
                            httpbin.org:443: 1
                          scheme: https
                        key: /apisix/upstreams/1
                        modifiedIndex: 126
                        createdIndex: 121
                      - value:
                          timeout:
                            send: 15
                            read: 15
                            connect: 15
                          desc: desc
                          id: '2'
                          create_time: 1684291436
                          retries: 1
                          pass_host: pass
                          update_time: 1684291436
                          type: roundrobin
                          name: upstream-for-test
                          hash_on: vars
                          nodes:
                            httpbin.org:443: 1
                          scheme: https
                        key: /apisix/upstreams/2
                        modifiedIndex: 127
                        createdIndex: 127
                    total: 2
    post:
      summary: Create Upstream
      deprecated: false
      description: Create an upstream with an ID generated.
      tags:
        - Upstream
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                key:
                  type: string
                  description: >-
                    The key used with `hash_on` when `type` is `chash`. When
                    `hash_on` is set to `header` or `cookie`, `key` is required.
                    When `hash_on` is set to `consumer`, `key` is not required
                    as the consumer name will be used as the key automatically.
                retries:
                  minimum: 0
                  type: integer
                retry_timeout:
                  minimum: 0
                  type: number
                pass_host:
                  default: pass
                  type: string
                  enum:
                    - pass
                    - node
                    - rewrite
                  description: >-
                    Configure the host when the request is forwarded to the
                    upstream. `pass` is used to pass the request's host to the
                    upstream without modification. `node` sets the host to the
                    host of the upstream node. `rewrite` sets the host to the
                    value of `upstream_host`.
                upstream_host:
                  type: string
                type:
                  type: string
                  default: roundrobin
                  enum:
                    - roundrobin
                    - chash
                    - ewma
                    - least_conn
                  description: >-
                    Load balancing algorithm. Support weighted round robin,
                    consistent hashing, exponentially weighted moving average,
                    and least connections algorithms.
                checks:
                  properties:
                    active:
                      properties:
                        port:
                          type: integer
                          minimum: 1
                          maximum: 65535
                        healthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 200
                                - 302
                            interval:
                              type: integer
                              minimum: 1
                              default: 1
                            successes:
                              default: 2
                              type: integer
                              minimum: 1
                              maximum: 254
                          type: object
                        http_path:
                          default: /
                          type: string
                        https_verify_certificate:
                          default: true
                          type: boolean
                        unhealthy:
                          properties:
                            interval:
                              type: integer
                              minimum: 1
                              default: 1
                            tcp_failures:
                              default: 2
                              type: integer
                              minimum: 1
                              maximum: 254
                            timeouts:
                              default: 3
                              type: integer
                              minimum: 1
                              maximum: 254
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 429
                                - 404
                                - 500
                                - 501
                                - 502
                                - 503
                                - 504
                                - 505
                            http_failures:
                              default: 5
                              type: integer
                              minimum: 1
                              maximum: 254
                          type: object
                        req_headers:
                          items:
                            uniqueItems: true
                            type: string
                          type: array
                          minItems: 1
                        timeout:
                          default: 1
                          type: number
                        type:
                          enum:
                            - http
                            - https
                            - tcp
                          default: http
                          type: string
                        host:
                          type: string
                        concurrency:
                          default: 10
                          type: integer
                      type: object
                    passive:
                      properties:
                        healthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 200
                                - 201
                                - 202
                                - 203
                                - 204
                                - 205
                                - 206
                                - 207
                                - 208
                                - 226
                                - 300
                                - 301
                                - 302
                                - 303
                                - 304
                                - 305
                                - 306
                                - 307
                                - 308
                            successes:
                              default: 5
                              type: integer
                              minimum: 0
                              maximum: 254
                          type: object
                        unhealthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 429
                                - 500
                                - 503
                            http_failures:
                              default: 5
                              type: integer
                              minimum: 0
                              maximum: 254
                            tcp_failures:
                              default: 2
                              type: integer
                              minimum: 0
                              maximum: 254
                            timeouts:
                              default: 7
                              type: integer
                              minimum: 0
                              maximum: 254
                          type: object
                        type:
                          enum:
                            - http
                            - https
                            - tcp
                          default: http
                          type: string
                      type: object
                  type: object
                  anyOf:
                    - required:
                        - active
                    - required:
                        - active
                        - passive
                hash_on:
                  default: vars
                  enum:
                    - vars
                    - header
                    - cookie
                    - consumer
                    - vars_combinations
                  description: Type of value to hash on when `type` is `chash`.
                  type: string
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                scheme:
                  enum:
                    - grpc
                    - grpcs
                    - http
                    - https
                    - tcp
                    - tls
                    - udp
                    - kafka
                  default: http
                  description: Protocol to communicate with the upstream.
                service_name:
                  type: string
                  maxLength: 256
                  minLength: 1
                keepalive_pool:
                  properties:
                    size:
                      default: 320
                      minimum: 1
                      type: integer
                    idle_timeout:
                      default: 60
                      minimum: 0
                      type: number
                    requests:
                      default: 1000
                      minimum: 1
                      type: integer
                  type: object
                timeout:
                  properties:
                    connect:
                      exclusiveMinimum: 0
                      type: number
                    read:
                      exclusiveMinimum: 0
                      type: number
                    send:
                      exclusiveMinimum: 0
                      type: number
                  type: object
                  required:
                    - connect
                    - send
                    - read
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                discovery_type:
                  type: string
                  description: discovery type
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                discovery_args:
                  properties:
                    group_name:
                      type: string
                      description: group name
                    namespace_id:
                      type: string
                      description: namespace id
                  type: object
                nodes:
                  anyOf:
                    - patternProperties:
                        .*:
                          type: integer
                          minimum: 0
                          description: weight of node
                      type: object
                    - items:
                        properties:
                          weight:
                            type: integer
                            minimum: 0
                            description: weight of node
                          port:
                            type: integer
                            minimum: 1
                            description: port of node
                          metadata:
                            type: object
                            description: metadata of node
                          host:
                            type: string
                          priority:
                            type: integer
                            default: 0
                            description: priority of node
                        type: object
                        required:
                          - host
                          - port
                          - weight
                      type: array
                tls:
                  properties:
                    verify:
                      type: boolean
                      default: false
                      description: >-
                        Turn on server certificate verification, currently only
                        kafka upstream is supported
                    client_key:
                      minLength: 128
                      maxLength: 65536
                      type: string
                    client_cert:
                      minLength: 128
                      maxLength: 65536
                      type: string
                    client_cert_id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                  type: object
                  dependencies:
                    client_cert_id:
                      not:
                        required:
                          - client_client
                          - client_key
                    client_cert:
                      required:
                        - client_key
                      not:
                        required:
                          - client_cert_id
                    client_key:
                      required:
                        - client_cert
                      not:
                        required:
                          - client_cert_id
              type: object
              oneOf:
                - required:
                    - nodes
                - required:
                    - service_name
                    - discovery_type
            example:
              name: upstream-for-test
              desc: desc
              scheme: http
              retries: 1
              type: roundrobin
              nodes:
                127.0.0.1:1980: 1
              timeout:
                connect: 15
                send: 15
                read: 15
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      key:
                        type: string
                        description: >-
                          The key used with `hash_on` when `type` is `chash`.
                          When `hash_on` is set to `header` or `cookie`, `key`
                          is required. When `hash_on` is set to `consumer`,
                          `key` is not required as the consumer name will be
                          used as the key automatically.
                      retries:
                        minimum: 0
                        type: integer
                      retry_timeout:
                        minimum: 0
                        type: number
                      pass_host:
                        default: pass
                        type: string
                        enum:
                          - pass
                          - node
                          - rewrite
                        description: >-
                          Configure the host when the request is forwarded to
                          the upstream. `pass` is used to pass the request's
                          host to the upstream without modification. `node` sets
                          the host to the host of the upstream node. `rewrite`
                          sets the host to the value of `upstream_host`.
                      upstream_host:
                        type: string
                      type:
                        type: string
                        default: roundrobin
                        enum:
                          - roundrobin
                          - chash
                          - ewma
                          - least_conn
                        description: >-
                          Load balancing algorithm. Support weighted round
                          robin, consistent hashing, exponentially weighted
                          moving average, and least connections algorithms.
                      checks:
                        properties:
                          active:
                            properties:
                              port:
                                type: integer
                                minimum: 1
                                maximum: 65535
                              healthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 200
                                      - 302
                                  interval:
                                    type: integer
                                    minimum: 1
                                    default: 1
                                  successes:
                                    default: 2
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                type: object
                              http_path:
                                default: /
                                type: string
                              https_verify_certificate:
                                default: true
                                type: boolean
                              unhealthy:
                                properties:
                                  interval:
                                    type: integer
                                    minimum: 1
                                    default: 1
                                  tcp_failures:
                                    default: 2
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                  timeouts:
                                    default: 3
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 429
                                      - 404
                                      - 500
                                      - 501
                                      - 502
                                      - 503
                                      - 504
                                      - 505
                                  http_failures:
                                    default: 5
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                type: object
                              req_headers:
                                items:
                                  uniqueItems: true
                                  type: string
                                type: array
                                minItems: 1
                              timeout:
                                default: 1
                                type: number
                              type:
                                enum:
                                  - http
                                  - https
                                  - tcp
                                default: http
                                type: string
                              host:
                                type: string
                              concurrency:
                                default: 10
                                type: integer
                            type: object
                          passive:
                            properties:
                              healthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 200
                                      - 201
                                      - 202
                                      - 203
                                      - 204
                                      - 205
                                      - 206
                                      - 207
                                      - 208
                                      - 226
                                      - 300
                                      - 301
                                      - 302
                                      - 303
                                      - 304
                                      - 305
                                      - 306
                                      - 307
                                      - 308
                                  successes:
                                    default: 5
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                type: object
                              unhealthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 429
                                      - 500
                                      - 503
                                  http_failures:
                                    default: 5
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                  tcp_failures:
                                    default: 2
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                  timeouts:
                                    default: 7
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                type: object
                              type:
                                enum:
                                  - http
                                  - https
                                  - tcp
                                default: http
                                type: string
                            type: object
                        type: object
                        anyOf:
                          - required:
                              - active
                          - required:
                              - active
                              - passive
                      hash_on:
                        default: vars
                        enum:
                          - vars
                          - header
                          - cookie
                          - consumer
                          - vars_combinations
                        description: Type of value to hash on when `type` is `chash`.
                        type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      scheme:
                        enum:
                          - grpc
                          - grpcs
                          - http
                          - https
                          - tcp
                          - tls
                          - udp
                          - kafka
                        default: http
                        description: Protocol to communicate with the upstream.
                      service_name:
                        type: string
                        maxLength: 256
                        minLength: 1
                      keepalive_pool:
                        properties:
                          size:
                            default: 320
                            minimum: 1
                            type: integer
                          idle_timeout:
                            default: 60
                            minimum: 0
                            type: number
                          requests:
                            default: 1000
                            minimum: 1
                            type: integer
                        type: object
                      timeout:
                        properties:
                          connect:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          read:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          send:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                        type: object
                        required:
                          - connect
                          - send
                          - read
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      discovery_type:
                        type: string
                        description: discovery type
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      discovery_args:
                        properties:
                          group_name:
                            type: string
                            description: group name
                          namespace_id:
                            type: string
                            description: namespace id
                        type: object
                      nodes:
                        anyOf:
                          - patternProperties:
                              .*:
                                type: integer
                                minimum: 0
                                description: weight of node
                            type: object
                          - items:
                              properties:
                                weight:
                                  type: integer
                                  minimum: 0
                                  description: weight of node
                                port:
                                  type: integer
                                  minimum: 1
                                  description: port of node
                                metadata:
                                  type: object
                                  description: metadata of node
                                host:
                                  type: string
                                priority:
                                  type: integer
                                  default: 0
                                  description: priority of node
                              type: object
                              required:
                                - host
                                - port
                                - weight
                            type: array
                      tls:
                        properties:
                          verify:
                            type: boolean
                            default: false
                            description: >-
                              Turn on server certificate verification, currently
                              only kafka upstream is supported
                          client_key:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          client_cert:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          client_cert_id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                        type: object
                        dependencies:
                          client_cert_id:
                            not:
                              required:
                                - client_client
                                - client_key
                          client_cert:
                            required:
                              - client_key
                            not:
                              required:
                                - client_cert_id
                          client_key:
                            required:
                              - client_cert
                            not:
                              required:
                                - client_cert_id
                      create_time:
                        type: integer
                    type: object
                    oneOf:
                      - type: string
                      - type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/upstreams/00000000000000000128
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '00000000000000000128'
                      create_time: 1684291897
                      retries: 1
                      pass_host: pass
                      update_time: 1684291897
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        127.0.0.1:1980: 1
                      scheme: http
        '400':
          description: Invalid configuration
          content: {}
  /apisix/admin/upstreams/{id}:
    patch:
      summary: Update Upstream
      deprecated: false
      description: Update an upstream.
      tags:
        - Upstream
      parameters:
        - name: id
          in: path
          description: Specified upstream ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                key:
                  type: string
                  description: >-
                    The key used with `hash_on` when `type` is `chash`. When
                    `hash_on` is set to `header` or `cookie`, `key` is required.
                    When `hash_on` is set to `consumer`, `key` is not required
                    as the consumer name will be used as the key automatically.
                retries:
                  minimum: 0
                  type: integer
                retry_timeout:
                  minimum: 0
                  type: number
                pass_host:
                  default: pass
                  type: string
                  enum:
                    - pass
                    - node
                    - rewrite
                  description: >-
                    Configure the host when the request is forwarded to the
                    upstream. `pass` is used to pass the request's host to the
                    upstream without modification. `node` sets the host to the
                    host of the upstream node. `rewrite` sets the host to the
                    value of `upstream_host`.
                upstream_host:
                  type: string
                type:
                  type: string
                  default: roundrobin
                  enum:
                    - roundrobin
                    - chash
                    - ewma
                    - least_conn
                  description: >-
                    Load balancing algorithm. Support weighted round robin,
                    consistent hashing, exponentially weighted moving average,
                    and least connections algorithms.
                checks:
                  properties:
                    active:
                      properties:
                        port:
                          type: integer
                          minimum: 1
                          maximum: 65535
                        healthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 200
                                - 302
                            interval:
                              type: integer
                              minimum: 1
                              default: 1
                            successes:
                              default: 2
                              type: integer
                              minimum: 1
                              maximum: 254
                          type: object
                        http_path:
                          default: /
                          type: string
                        https_verify_certificate:
                          default: true
                          type: boolean
                        unhealthy:
                          properties:
                            interval:
                              type: integer
                              minimum: 1
                              default: 1
                            tcp_failures:
                              default: 2
                              type: integer
                              minimum: 1
                              maximum: 254
                            timeouts:
                              default: 3
                              type: integer
                              minimum: 1
                              maximum: 254
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 429
                                - 404
                                - 500
                                - 501
                                - 502
                                - 503
                                - 504
                                - 505
                            http_failures:
                              default: 5
                              type: integer
                              minimum: 1
                              maximum: 254
                          type: object
                        req_headers:
                          items:
                            uniqueItems: true
                            type: string
                          type: array
                          minItems: 1
                        timeout:
                          default: 1
                          type: number
                        type:
                          enum:
                            - http
                            - https
                            - tcp
                          default: http
                          type: string
                        host:
                          type: string
                        concurrency:
                          default: 10
                          type: integer
                      type: object
                    passive:
                      properties:
                        healthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 200
                                - 201
                                - 202
                                - 203
                                - 204
                                - 205
                                - 206
                                - 207
                                - 208
                                - 226
                                - 300
                                - 301
                                - 302
                                - 303
                                - 304
                                - 305
                                - 306
                                - 307
                                - 308
                            successes:
                              default: 5
                              type: integer
                              minimum: 0
                              maximum: 254
                          type: object
                        unhealthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 429
                                - 500
                                - 503
                            http_failures:
                              default: 5
                              type: integer
                              minimum: 0
                              maximum: 254
                            tcp_failures:
                              default: 2
                              type: integer
                              minimum: 0
                              maximum: 254
                            timeouts:
                              default: 7
                              type: integer
                              minimum: 0
                              maximum: 254
                          type: object
                        type:
                          enum:
                            - http
                            - https
                            - tcp
                          default: http
                          type: string
                      type: object
                  type: object
                  anyOf:
                    - required:
                        - active
                    - required:
                        - active
                        - passive
                hash_on:
                  default: vars
                  enum:
                    - vars
                    - header
                    - cookie
                    - consumer
                    - vars_combinations
                  description: Type of value to hash on when `type` is `chash`.
                  type: string
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                scheme:
                  enum:
                    - grpc
                    - grpcs
                    - http
                    - https
                    - tcp
                    - tls
                    - udp
                    - kafka
                  default: http
                  description: Protocol to communicate with the upstream.
                service_name:
                  type: string
                  maxLength: 256
                  minLength: 1
                keepalive_pool:
                  properties:
                    size:
                      default: 320
                      minimum: 1
                      type: integer
                    idle_timeout:
                      default: 60
                      minimum: 0
                      type: number
                    requests:
                      default: 1000
                      minimum: 1
                      type: integer
                  type: object
                timeout:
                  properties:
                    connect:
                      exclusiveMinimum: 0
                      type: number
                    read:
                      exclusiveMinimum: 0
                      type: number
                    send:
                      exclusiveMinimum: 0
                      type: number
                  type: object
                  required:
                    - connect
                    - send
                    - read
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                discovery_type:
                  type: string
                  description: discovery type
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                discovery_args:
                  properties:
                    group_name:
                      type: string
                      description: group name
                    namespace_id:
                      type: string
                      description: namespace id
                  type: object
                nodes:
                  anyOf:
                    - patternProperties:
                        .*:
                          type: integer
                          minimum: 0
                          description: weight of node
                      type: object
                    - items:
                        properties:
                          weight:
                            type: integer
                            minimum: 0
                            description: weight of node
                          port:
                            type: integer
                            minimum: 1
                            description: port of node
                          metadata:
                            type: object
                            description: metadata of node
                          host:
                            type: string
                          priority:
                            type: integer
                            default: 0
                            description: priority of node
                        type: object
                        required:
                          - host
                          - port
                          - weight
                      type: array
                tls:
                  properties:
                    verify:
                      type: boolean
                      default: false
                      description: >-
                        Turn on server certificate verification, currently only
                        kafka upstream is supported
                    client_key:
                      minLength: 128
                      maxLength: 65536
                      type: string
                    client_cert:
                      minLength: 128
                      maxLength: 65536
                      type: string
                    client_cert_id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                  type: object
                  dependencies:
                    client_cert_id:
                      not:
                        required:
                          - client_client
                          - client_key
                    client_cert:
                      required:
                        - client_key
                      not:
                        required:
                          - client_cert_id
                    client_key:
                      required:
                        - client_cert
                      not:
                        required:
                          - client_cert_id
              type: object
              oneOf:
                - required:
                    - nodes
                - required:
                    - service_name
                    - discovery_type
            example:
              nodes:
                127.0.0.1:1981: 1
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      key:
                        type: string
                        description: >-
                          The key used with `hash_on` when `type` is `chash`.
                          When `hash_on` is set to `header` or `cookie`, `key`
                          is required. When `hash_on` is set to `consumer`,
                          `key` is not required as the consumer name will be
                          used as the key automatically.
                      retries:
                        minimum: 0
                        type: integer
                      retry_timeout:
                        minimum: 0
                        type: number
                      pass_host:
                        default: pass
                        type: string
                        enum:
                          - pass
                          - node
                          - rewrite
                        description: >-
                          Configure the host when the request is forwarded to
                          the upstream. `pass` is used to pass the request's
                          host to the upstream without modification. `node` sets
                          the host to the host of the upstream node. `rewrite`
                          sets the host to the value of `upstream_host`.
                      upstream_host:
                        type: string
                      type:
                        type: string
                        default: roundrobin
                        enum:
                          - roundrobin
                          - chash
                          - ewma
                          - least_conn
                        description: >-
                          Load balancing algorithm. Support weighted round
                          robin, consistent hashing, exponentially weighted
                          moving average, and least connections algorithms.
                      checks:
                        properties:
                          active:
                            properties:
                              port:
                                type: integer
                                minimum: 1
                                maximum: 65535
                              healthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 200
                                      - 302
                                  interval:
                                    type: integer
                                    minimum: 1
                                    default: 1
                                  successes:
                                    default: 2
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                type: object
                              http_path:
                                default: /
                                type: string
                              https_verify_certificate:
                                default: true
                                type: boolean
                              unhealthy:
                                properties:
                                  interval:
                                    type: integer
                                    minimum: 1
                                    default: 1
                                  tcp_failures:
                                    default: 2
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                  timeouts:
                                    default: 3
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 429
                                      - 404
                                      - 500
                                      - 501
                                      - 502
                                      - 503
                                      - 504
                                      - 505
                                  http_failures:
                                    default: 5
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                type: object
                              req_headers:
                                items:
                                  uniqueItems: true
                                  type: string
                                type: array
                                minItems: 1
                              timeout:
                                default: 1
                                type: number
                              type:
                                enum:
                                  - http
                                  - https
                                  - tcp
                                default: http
                                type: string
                              host:
                                type: string
                              concurrency:
                                default: 10
                                type: integer
                            type: object
                          passive:
                            properties:
                              healthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 200
                                      - 201
                                      - 202
                                      - 203
                                      - 204
                                      - 205
                                      - 206
                                      - 207
                                      - 208
                                      - 226
                                      - 300
                                      - 301
                                      - 302
                                      - 303
                                      - 304
                                      - 305
                                      - 306
                                      - 307
                                      - 308
                                  successes:
                                    default: 5
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                type: object
                              unhealthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 429
                                      - 500
                                      - 503
                                  http_failures:
                                    default: 5
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                  tcp_failures:
                                    default: 2
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                  timeouts:
                                    default: 7
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                type: object
                              type:
                                enum:
                                  - http
                                  - https
                                  - tcp
                                default: http
                                type: string
                            type: object
                        type: object
                        anyOf:
                          - required:
                              - active
                          - required:
                              - active
                              - passive
                      hash_on:
                        default: vars
                        enum:
                          - vars
                          - header
                          - cookie
                          - consumer
                          - vars_combinations
                        description: Type of value to hash on when `type` is `chash`.
                        type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      scheme:
                        enum:
                          - grpc
                          - grpcs
                          - http
                          - https
                          - tcp
                          - tls
                          - udp
                          - kafka
                        default: http
                        description: Protocol to communicate with the upstream.
                      service_name:
                        type: string
                        maxLength: 256
                        minLength: 1
                      keepalive_pool:
                        properties:
                          size:
                            default: 320
                            minimum: 1
                            type: integer
                          idle_timeout:
                            default: 60
                            minimum: 0
                            type: number
                          requests:
                            default: 1000
                            minimum: 1
                            type: integer
                        type: object
                      timeout:
                        properties:
                          connect:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          read:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          send:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                        type: object
                        required:
                          - connect
                          - send
                          - read
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      discovery_type:
                        type: string
                        description: discovery type
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      discovery_args:
                        properties:
                          group_name:
                            type: string
                            description: group name
                          namespace_id:
                            type: string
                            description: namespace id
                        type: object
                      nodes:
                        anyOf:
                          - patternProperties:
                              .*:
                                type: integer
                                minimum: 0
                                description: weight of node
                            type: object
                          - items:
                              properties:
                                weight:
                                  type: integer
                                  minimum: 0
                                  description: weight of node
                                port:
                                  type: integer
                                  minimum: 1
                                  description: port of node
                                metadata:
                                  type: object
                                  description: metadata of node
                                host:
                                  type: string
                                priority:
                                  type: integer
                                  default: 0
                                  description: priority of node
                              type: object
                              required:
                                - host
                                - port
                                - weight
                            type: array
                      tls:
                        properties:
                          verify:
                            type: boolean
                            default: false
                            description: >-
                              Turn on server certificate verification, currently
                              only kafka upstream is supported
                          client_key:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          client_cert:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          client_cert_id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                        type: object
                        dependencies:
                          client_cert_id:
                            not:
                              required:
                                - client_client
                                - client_key
                          client_cert:
                            required:
                              - client_key
                            not:
                              required:
                                - client_cert_id
                          client_key:
                            required:
                              - client_cert
                            not:
                              required:
                                - client_cert_id
                      create_time:
                        type: integer
                    type: object
                    oneOf:
                      - type: string
                      - type: string
              examples:
                '1':
                  summary: Add Node for Upstream
                  value:
                    key: /apisix/upstreams/1
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684291001
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        127.0.0.1:1981: 1
                        127.0.0.1:1980: 1
                      scheme: http
                '2':
                  summary: Delete a Node for Upstream
                  value:
                    key: /apisix/upstreams/1
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684291110
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        127.0.0.1:1980: 1
                      scheme: http
        '400':
          description: Invalid configuration
          content: {}
        '404':
          description: Key not found
          content: {}
    get:
      summary: Get Upstream by ID
      deprecated: false
      description: Get an upstream by ID.
      tags:
        - Upstream
      parameters:
        - name: id
          in: path
          description: Specified upstream ID.
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      key:
                        type: string
                        description: >-
                          The key used with `hash_on` when `type` is `chash`.
                          When `hash_on` is set to `header` or `cookie`, `key`
                          is required. When `hash_on` is set to `consumer`,
                          `key` is not required as the consumer name will be
                          used as the key automatically.
                      retries:
                        minimum: 0
                        type: integer
                      retry_timeout:
                        minimum: 0
                        type: number
                      pass_host:
                        default: pass
                        type: string
                        enum:
                          - pass
                          - node
                          - rewrite
                        description: >-
                          Configure the host when the request is forwarded to
                          the upstream. `pass` is used to pass the request's
                          host to the upstream without modification. `node` sets
                          the host to the host of the upstream node. `rewrite`
                          sets the host to the value of `upstream_host`.
                      upstream_host:
                        type: string
                      type:
                        type: string
                        default: roundrobin
                        enum:
                          - roundrobin
                          - chash
                          - ewma
                          - least_conn
                        description: >-
                          Load balancing algorithm. Support weighted round
                          robin, consistent hashing, exponentially weighted
                          moving average, and least connections algorithms.
                      checks:
                        properties:
                          active:
                            properties:
                              port:
                                type: integer
                                minimum: 1
                                maximum: 65535
                              healthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 200
                                      - 302
                                  interval:
                                    type: integer
                                    minimum: 1
                                    default: 1
                                  successes:
                                    default: 2
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                type: object
                              http_path:
                                default: /
                                type: string
                              https_verify_certificate:
                                default: true
                                type: boolean
                              unhealthy:
                                properties:
                                  interval:
                                    type: integer
                                    minimum: 1
                                    default: 1
                                  tcp_failures:
                                    default: 2
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                  timeouts:
                                    default: 3
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 429
                                      - 404
                                      - 500
                                      - 501
                                      - 502
                                      - 503
                                      - 504
                                      - 505
                                  http_failures:
                                    default: 5
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                type: object
                              req_headers:
                                items:
                                  uniqueItems: true
                                  type: string
                                type: array
                                minItems: 1
                              timeout:
                                default: 1
                                type: number
                              type:
                                enum:
                                  - http
                                  - https
                                  - tcp
                                default: http
                                type: string
                              host:
                                type: string
                              concurrency:
                                default: 10
                                type: integer
                            type: object
                          passive:
                            properties:
                              healthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 200
                                      - 201
                                      - 202
                                      - 203
                                      - 204
                                      - 205
                                      - 206
                                      - 207
                                      - 208
                                      - 226
                                      - 300
                                      - 301
                                      - 302
                                      - 303
                                      - 304
                                      - 305
                                      - 306
                                      - 307
                                      - 308
                                  successes:
                                    default: 5
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                type: object
                              unhealthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 429
                                      - 500
                                      - 503
                                  http_failures:
                                    default: 5
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                  tcp_failures:
                                    default: 2
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                  timeouts:
                                    default: 7
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                type: object
                              type:
                                enum:
                                  - http
                                  - https
                                  - tcp
                                default: http
                                type: string
                            type: object
                        type: object
                        anyOf:
                          - required:
                              - active
                          - required:
                              - active
                              - passive
                      hash_on:
                        default: vars
                        enum:
                          - vars
                          - header
                          - cookie
                          - consumer
                          - vars_combinations
                        description: Type of value to hash on when `type` is `chash`.
                        type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      scheme:
                        enum:
                          - grpc
                          - grpcs
                          - http
                          - https
                          - tcp
                          - tls
                          - udp
                          - kafka
                        default: http
                        description: Protocol to communicate with the upstream.
                      service_name:
                        type: string
                        maxLength: 256
                        minLength: 1
                      keepalive_pool:
                        properties:
                          size:
                            default: 320
                            minimum: 1
                            type: integer
                          idle_timeout:
                            default: 60
                            minimum: 0
                            type: number
                          requests:
                            default: 1000
                            minimum: 1
                            type: integer
                        type: object
                      timeout:
                        properties:
                          connect:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          read:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          send:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                        type: object
                        required:
                          - connect
                          - send
                          - read
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      discovery_type:
                        type: string
                        description: discovery type
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      discovery_args:
                        properties:
                          group_name:
                            type: string
                            description: group name
                          namespace_id:
                            type: string
                            description: namespace id
                        type: object
                      nodes:
                        anyOf:
                          - patternProperties:
                              .*:
                                type: integer
                                minimum: 0
                                description: weight of node
                            type: object
                          - items:
                              properties:
                                weight:
                                  type: integer
                                  minimum: 0
                                  description: weight of node
                                port:
                                  type: integer
                                  minimum: 1
                                  description: port of node
                                metadata:
                                  type: object
                                  description: metadata of node
                                host:
                                  type: string
                                priority:
                                  type: integer
                                  default: 0
                                  description: priority of node
                              type: object
                              required:
                                - host
                                - port
                                - weight
                            type: array
                      tls:
                        properties:
                          verify:
                            type: boolean
                            default: false
                            description: >-
                              Turn on server certificate verification, currently
                              only kafka upstream is supported
                          client_key:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          client_cert:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          client_cert_id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                        type: object
                        dependencies:
                          client_cert_id:
                            not:
                              required:
                                - client_client
                                - client_key
                          client_cert:
                            required:
                              - client_key
                            not:
                              required:
                                - client_cert_id
                          client_key:
                            required:
                              - client_cert
                            not:
                              required:
                                - client_cert_id
                      create_time:
                        type: integer
                    type: object
                    oneOf:
                      - type: string
                      - type: string
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684291419
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        httpbin.org:443: 1
                      scheme: https
                    key: /apisix/upstreams/1
                    modifiedIndex: 126
                    createdIndex: 121
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Upstream by ID
      deprecated: false
      description: Delete an upstream by ID.
      tags:
        - Upstream
      parameters:
        - name: id
          in: path
          description: Specified upstream ID.
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/upstreams/1
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
    put:
      summary: Create an Upstream by ID
      deprecated: false
      description: Create an upstream with a custom ID.
      tags:
        - Upstream
      parameters:
        - name: id
          in: path
          description: Specified upstream ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                key:
                  type: string
                  description: >-
                    The key used with `hash_on` when `type` is `chash`. When
                    `hash_on` is set to `header` or `cookie`, `key` is required.
                    When `hash_on` is set to `consumer`, `key` is not required
                    as the consumer name will be used as the key automatically.
                retries:
                  minimum: 0
                  type: integer
                retry_timeout:
                  minimum: 0
                  type: number
                pass_host:
                  default: pass
                  type: string
                  enum:
                    - pass
                    - node
                    - rewrite
                  description: >-
                    Configure the host when the request is forwarded to the
                    upstream. `pass` is used to pass the request's host to the
                    upstream without modification. `node` sets the host to the
                    host of the upstream node. `rewrite` sets the host to the
                    value of `upstream_host`.
                upstream_host:
                  type: string
                type:
                  type: string
                  default: roundrobin
                  enum:
                    - roundrobin
                    - chash
                    - ewma
                    - least_conn
                  description: >-
                    Load balancing algorithm. Support weighted round robin,
                    consistent hashing, exponentially weighted moving average,
                    and least connections algorithms.
                checks:
                  properties:
                    active:
                      properties:
                        port:
                          type: integer
                          minimum: 1
                          maximum: 65535
                        healthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 200
                                - 302
                            interval:
                              type: integer
                              minimum: 1
                              default: 1
                            successes:
                              default: 2
                              type: integer
                              minimum: 1
                              maximum: 254
                          type: object
                        http_path:
                          default: /
                          type: string
                        https_verify_certificate:
                          default: true
                          type: boolean
                        unhealthy:
                          properties:
                            interval:
                              type: integer
                              minimum: 1
                              default: 1
                            tcp_failures:
                              default: 2
                              type: integer
                              minimum: 1
                              maximum: 254
                            timeouts:
                              default: 3
                              type: integer
                              minimum: 1
                              maximum: 254
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 429
                                - 404
                                - 500
                                - 501
                                - 502
                                - 503
                                - 504
                                - 505
                            http_failures:
                              default: 5
                              type: integer
                              minimum: 1
                              maximum: 254
                          type: object
                        req_headers:
                          items:
                            uniqueItems: true
                            type: string
                          type: array
                          minItems: 1
                        timeout:
                          default: 1
                          type: number
                        type:
                          enum:
                            - http
                            - https
                            - tcp
                          default: http
                          type: string
                        host:
                          type: string
                        concurrency:
                          default: 10
                          type: integer
                      type: object
                    passive:
                      properties:
                        healthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 200
                                - 201
                                - 202
                                - 203
                                - 204
                                - 205
                                - 206
                                - 207
                                - 208
                                - 226
                                - 300
                                - 301
                                - 302
                                - 303
                                - 304
                                - 305
                                - 306
                                - 307
                                - 308
                            successes:
                              default: 5
                              type: integer
                              minimum: 0
                              maximum: 254
                          type: object
                        unhealthy:
                          properties:
                            http_statuses:
                              uniqueItems: true
                              items:
                                type: integer
                                minimum: 200
                                maximum: 599
                              type: array
                              minItems: 1
                              default:
                                - 429
                                - 500
                                - 503
                            http_failures:
                              default: 5
                              type: integer
                              minimum: 0
                              maximum: 254
                            tcp_failures:
                              default: 2
                              type: integer
                              minimum: 0
                              maximum: 254
                            timeouts:
                              default: 7
                              type: integer
                              minimum: 0
                              maximum: 254
                          type: object
                        type:
                          enum:
                            - http
                            - https
                            - tcp
                          default: http
                          type: string
                      type: object
                  type: object
                  anyOf:
                    - required:
                        - active
                    - required:
                        - active
                        - passive
                hash_on:
                  default: vars
                  enum:
                    - vars
                    - header
                    - cookie
                    - consumer
                    - vars_combinations
                  description: Type of value to hash on when `type` is `chash`.
                  type: string
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                scheme:
                  enum:
                    - grpc
                    - grpcs
                    - http
                    - https
                    - tcp
                    - tls
                    - udp
                    - kafka
                  default: http
                  description: Protocol to communicate with the upstream.
                service_name:
                  type: string
                  maxLength: 256
                  minLength: 1
                keepalive_pool:
                  properties:
                    size:
                      default: 320
                      minimum: 1
                      type: integer
                    idle_timeout:
                      default: 60
                      minimum: 0
                      type: number
                    requests:
                      default: 1000
                      minimum: 1
                      type: integer
                  type: object
                timeout:
                  properties:
                    connect:
                      exclusiveMinimum: 0
                      type: number
                    read:
                      exclusiveMinimum: 0
                      type: number
                    send:
                      exclusiveMinimum: 0
                      type: number
                  type: object
                  required:
                    - connect
                    - send
                    - read
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                discovery_type:
                  type: string
                  description: discovery type
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                discovery_args:
                  properties:
                    group_name:
                      type: string
                      description: group name
                    namespace_id:
                      type: string
                      description: namespace id
                  type: object
                nodes:
                  anyOf:
                    - patternProperties:
                        .*:
                          type: integer
                          minimum: 0
                          description: weight of node
                      type: object
                    - items:
                        properties:
                          weight:
                            type: integer
                            minimum: 0
                            description: weight of node
                          port:
                            type: integer
                            minimum: 1
                            description: port of node
                          metadata:
                            type: object
                            description: metadata of node
                          host:
                            type: string
                          priority:
                            type: integer
                            default: 0
                            description: priority of node
                        type: object
                        required:
                          - host
                          - port
                          - weight
                      type: array
                tls:
                  properties:
                    verify:
                      type: boolean
                      default: false
                      description: >-
                        Turn on server certificate verification, currently only
                        kafka upstream is supported
                    client_key:
                      minLength: 128
                      maxLength: 65536
                      type: string
                    client_cert:
                      minLength: 128
                      maxLength: 65536
                      type: string
                    client_cert_id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                  type: object
                  dependencies:
                    client_cert_id:
                      not:
                        required:
                          - client_client
                          - client_key
                    client_cert:
                      required:
                        - client_key
                      not:
                        required:
                          - client_cert_id
                    client_key:
                      required:
                        - client_cert
                      not:
                        required:
                          - client_cert_id
              type: object
              oneOf:
                - required:
                    - nodes
                - required:
                    - service_name
                    - discovery_type
            example:
              name: upstream-for-test
              desc: desc
              scheme: http
              retries: 1
              type: roundrobin
              nodes:
                127.0.0.1:1980: 1
              timeout:
                connect: 15
                send: 15
                read: 15
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      update_time:
                        type: integer
                      key:
                        type: string
                        description: >-
                          The key used with `hash_on` when `type` is `chash`.
                          When `hash_on` is set to `header` or `cookie`, `key`
                          is required. When `hash_on` is set to `consumer`,
                          `key` is not required as the consumer name will be
                          used as the key automatically.
                      retries:
                        minimum: 0
                        type: integer
                      retry_timeout:
                        minimum: 0
                        type: number
                      pass_host:
                        default: pass
                        type: string
                        enum:
                          - pass
                          - node
                          - rewrite
                        description: >-
                          Configure the host when the request is forwarded to
                          the upstream. `pass` is used to pass the request's
                          host to the upstream without modification. `node` sets
                          the host to the host of the upstream node. `rewrite`
                          sets the host to the value of `upstream_host`.
                      upstream_host:
                        type: string
                      type:
                        type: string
                        default: roundrobin
                        enum:
                          - roundrobin
                          - chash
                          - ewma
                          - least_conn
                        description: >-
                          Load balancing algorithm. Support weighted round
                          robin, consistent hashing, exponentially weighted
                          moving average, and least connections algorithms.
                      checks:
                        properties:
                          active:
                            properties:
                              port:
                                type: integer
                                minimum: 1
                                maximum: 65535
                              healthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 200
                                      - 302
                                  interval:
                                    type: integer
                                    minimum: 1
                                    default: 1
                                  successes:
                                    default: 2
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                type: object
                              http_path:
                                default: /
                                type: string
                              https_verify_certificate:
                                default: true
                                type: boolean
                              unhealthy:
                                properties:
                                  interval:
                                    type: integer
                                    minimum: 1
                                    default: 1
                                  tcp_failures:
                                    default: 2
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                  timeouts:
                                    default: 3
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 429
                                      - 404
                                      - 500
                                      - 501
                                      - 502
                                      - 503
                                      - 504
                                      - 505
                                  http_failures:
                                    default: 5
                                    type: integer
                                    minimum: 1
                                    maximum: 254
                                type: object
                              req_headers:
                                items:
                                  uniqueItems: true
                                  type: string
                                type: array
                                minItems: 1
                              timeout:
                                default: 1
                                type: number
                              type:
                                enum:
                                  - http
                                  - https
                                  - tcp
                                default: http
                                type: string
                              host:
                                type: string
                              concurrency:
                                default: 10
                                type: integer
                            type: object
                          passive:
                            properties:
                              healthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 200
                                      - 201
                                      - 202
                                      - 203
                                      - 204
                                      - 205
                                      - 206
                                      - 207
                                      - 208
                                      - 226
                                      - 300
                                      - 301
                                      - 302
                                      - 303
                                      - 304
                                      - 305
                                      - 306
                                      - 307
                                      - 308
                                  successes:
                                    default: 5
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                type: object
                              unhealthy:
                                properties:
                                  http_statuses:
                                    uniqueItems: true
                                    items:
                                      type: integer
                                      minimum: 200
                                      maximum: 599
                                    type: array
                                    minItems: 1
                                    default:
                                      - 429
                                      - 500
                                      - 503
                                  http_failures:
                                    default: 5
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                  tcp_failures:
                                    default: 2
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                  timeouts:
                                    default: 7
                                    type: integer
                                    minimum: 0
                                    maximum: 254
                                type: object
                              type:
                                enum:
                                  - http
                                  - https
                                  - tcp
                                default: http
                                type: string
                            type: object
                        type: object
                        anyOf:
                          - required:
                              - active
                          - required:
                              - active
                              - passive
                      hash_on:
                        default: vars
                        enum:
                          - vars
                          - header
                          - cookie
                          - consumer
                          - vars_combinations
                        description: Type of value to hash on when `type` is `chash`.
                        type: string
                      name:
                        type: string
                        maxLength: 100
                        minLength: 1
                      scheme:
                        enum:
                          - grpc
                          - grpcs
                          - http
                          - https
                          - tcp
                          - tls
                          - udp
                          - kafka
                        default: http
                        description: Protocol to communicate with the upstream.
                      service_name:
                        type: string
                        maxLength: 256
                        minLength: 1
                      keepalive_pool:
                        properties:
                          size:
                            default: 320
                            minimum: 1
                            type: integer
                          idle_timeout:
                            default: 60
                            minimum: 0
                            type: number
                          requests:
                            default: 1000
                            minimum: 1
                            type: integer
                        type: object
                      timeout:
                        properties:
                          connect:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          read:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                          send:
                            exclusiveMinimum: 0
                            type: number
                            minimum: 0
                        type: object
                        required:
                          - connect
                          - send
                          - read
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      discovery_type:
                        type: string
                        description: discovery type
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      discovery_args:
                        properties:
                          group_name:
                            type: string
                            description: group name
                          namespace_id:
                            type: string
                            description: namespace id
                        type: object
                      nodes:
                        anyOf:
                          - patternProperties:
                              .*:
                                type: integer
                                minimum: 0
                                description: weight of node
                            type: object
                          - items:
                              properties:
                                weight:
                                  type: integer
                                  minimum: 0
                                  description: weight of node
                                port:
                                  type: integer
                                  minimum: 1
                                  description: port of node
                                metadata:
                                  type: object
                                  description: metadata of node
                                host:
                                  type: string
                                priority:
                                  type: integer
                                  default: 0
                                  description: priority of node
                              type: object
                              required:
                                - host
                                - port
                                - weight
                            type: array
                      tls:
                        properties:
                          verify:
                            type: boolean
                            default: false
                            description: >-
                              Turn on server certificate verification, currently
                              only kafka upstream is supported
                          client_key:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          client_cert:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          client_cert_id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                        type: object
                        dependencies:
                          client_cert_id:
                            not:
                              required:
                                - client_client
                                - client_key
                          client_cert:
                            required:
                              - client_key
                            not:
                              required:
                                - client_cert_id
                          client_key:
                            required:
                              - client_cert
                            not:
                              required:
                                - client_cert_id
                      create_time:
                        type: integer
                    type: object
                    oneOf:
                      - type: string
                      - type: string
              examples:
                '1':
                  summary: Create an Upstream by ID
                  value:
                    key: /apisix/upstreams/1
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684290697
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        127.0.0.1:1980: 1
                      scheme: http
                '2':
                  summary: Create HTTPS Upstream
                  value:
                    key: /apisix/upstreams/1
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684291419
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        httpbin.org:443: 1
                      scheme: https
                '3':
                  summary: Enable Health Check
                  value:
                    key: /apisix/upstreams/1
                    value:
                      hash_on: vars
                      desc: desc
                      id: '1'
                      create_time: 1684292372
                      checks:
                        passive:
                          type: http
                          healthy:
                            http_statuses:
                              - 200
                              - 201
                            successes: 3
                          unhealthy:
                            timeouts: 7
                            http_statuses:
                              - 500
                            http_failures: 3
                            tcp_failures: 3
                        active:
                          host: foo.com
                          concurrency: 10
                          http_path: /status
                          https_verify_certificate: true
                          type: http
                          req_headers:
                            - 'User-Agent: curl/7.29.0'
                          healthy:
                            successes: 1
                            http_statuses:
                              - 200
                              - 302
                            interval: 2
                          timeout: 5
                          unhealthy:
                            timeouts: 3
                            http_statuses:
                              - 429
                              - 404
                              - 500
                              - 501
                              - 502
                              - 503
                              - 504
                              - 505
                            interval: 1
                            http_failures: 2
                            tcp_failures: 2
                      pass_host: pass
                      update_time: 1684292372
                      type: roundrobin
                      name: upstream-for-test
                      retries: 1
                      nodes:
                        127.0.0.1:1980: 1
                        127.0.0.1:1970: 1
                      scheme: http
        '400':
          description: Invalid configuration
          content: {}
  /apisix/admin/ssls:
    get:
      summary: Get All SSL
      deprecated: false
      description: Get all configured SSL.
      tags:
        - SSL
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            create_time:
                              type: integer
                            validity_end:
                              type: integer
                            validity_start:
                              type: integer
                            status:
                              default: 1
                              type: integer
                              enum:
                                - 1
                                - 0
                              description: 'SSL status. `1`: enable. `0`: disable.'
                            keys:
                              items:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              type: array
                            update_time:
                              type: integer
                            key:
                              minLength: 128
                              maxLength: 65536
                              type: string
                            sni:
                              type: string
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            client:
                              properties:
                                ca:
                                  minLength: 128
                                  maxLength: 65536
                                  type: string
                                depth:
                                  type: integer
                                  minimum: 0
                                  default: 1
                              type: object
                              required:
                                - ca
                            exptime:
                              minimum: 1588262400
                              type: integer
                            certs:
                              items:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              type: array
                            type:
                              enum:
                                - server
                                - client
                              type: string
                              default: server
                              description: APISIX acts as an SSL server or client.
                            cert:
                              minLength: 128
                              maxLength: 65536
                              type: string
                            snis:
                              items:
                                type: string
                              type: array
                              minItems: 1
                          then:
                            oneOf:
                              - required:
                                  - sni
                                  - key
                                  - cert
                              - required:
                                  - snis
                                  - key
                                  - cert
                          else:
                            required:
                              - key
                              - cert
                          type: object
                          if:
                            properties:
                              type:
                                enum:
                                  - server
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    list:
                      - value:
                          type: server
                          key: <content of server.key>
                          snis:
                            - test.com
                          id: '1'
                          create_time: 1684373523
                          status: 1
                          cert: <content of server.crt>
                          update_time: 1684373523
                        key: /apisix/ssls/1
                        modifiedIndex: 133
                        createdIndex: 133
                    total: 1
    post:
      summary: Create SSL
      deprecated: false
      description: Create an SSL with an ID generated.
      tags:
        - SSL
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              properties:
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                status:
                  default: 1
                  type: integer
                  enum:
                    - 1
                    - 0
                  description: 'SSL status. `1`: enable. `0`: disable.'
                keys:
                  items:
                    minLength: 128
                    maxLength: 65536
                    type: string
                  type: array
                key:
                  minLength: 128
                  maxLength: 65536
                  type: string
                sni:
                  type: string
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                client:
                  properties:
                    ca:
                      minLength: 128
                      maxLength: 65536
                      type: string
                    depth:
                      type: integer
                      minimum: 0
                      default: 1
                  type: object
                  required:
                    - ca
                certs:
                  items:
                    minLength: 128
                    maxLength: 65536
                    type: string
                  type: array
                type:
                  enum:
                    - server
                    - client
                  type: string
                  default: server
                  description: APISIX acts as an SSL server or client.
                cert:
                  minLength: 128
                  maxLength: 65536
                  type: string
                snis:
                  items:
                    type: string
                  type: array
                  minItems: 1
              then:
                oneOf:
                  - required:
                      - sni
                      - key
                      - cert
                  - required:
                      - snis
                      - key
                      - cert
              else:
                required:
                  - key
                  - cert
              type: object
              if:
                properties:
                  type:
                    enum:
                      - server
            example:
              type: server
              sni: test.com
              cert: <content of server.crt>
              key: <content of server.key>
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      create_time:
                        type: integer
                      validity_end:
                        type: integer
                      validity_start:
                        type: integer
                      status:
                        default: 1
                        type: integer
                        enum:
                          - 1
                          - 0
                        description: 'SSL status. `1`: enable. `0`: disable.'
                      keys:
                        items:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        type: array
                      update_time:
                        type: integer
                      key:
                        minLength: 128
                        maxLength: 65536
                        type: string
                      sni:
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      client:
                        properties:
                          ca:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          depth:
                            type: integer
                            minimum: 0
                            default: 1
                        type: object
                        required:
                          - ca
                      exptime:
                        minimum: 1588262400
                        type: integer
                      certs:
                        items:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        type: array
                      type:
                        enum:
                          - server
                          - client
                        type: string
                        default: server
                        description: APISIX acts as an SSL server or client.
                      cert:
                        minLength: 128
                        maxLength: 65536
                        type: string
                      snis:
                        items:
                          type: string
                        type: array
                        minItems: 1
                    then:
                      oneOf:
                        - required:
                            - sni
                            - key
                            - cert
                        - required:
                            - snis
                            - key
                            - cert
                    else:
                      required:
                        - key
                        - cert
                    type: object
                    if:
                      properties:
                        type:
                          enum:
                            - server
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/ssls/00000000000000000134
                    value:
                      type: server
                      cert: <content of server.crt>
                      key: <content of server.key>
                      id: '00000000000000000134'
                      create_time: 1684374944
                      status: 1
                      snis:
                        - test.com
                      update_time: 1684374944
        '400':
          description: Invalid configuration
          content: {}
  /apisix/admin/ssls/{id}:
    put:
      summary: Create an SSL by ID
      deprecated: false
      description: Create an SSL with a custom ID.
      tags:
        - SSL
      parameters:
        - name: id
          in: path
          description: Specified SSL ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                status:
                  default: 1
                  type: integer
                  enum:
                    - 1
                    - 0
                  description: 'SSL status. `1`: enable. `0`: disable.'
                keys:
                  items:
                    minLength: 128
                    maxLength: 65536
                    type: string
                  type: array
                key:
                  minLength: 128
                  maxLength: 65536
                  type: string
                sni:
                  type: string
                ssl_protocols:
                  items:
                    type: string
                    enum:
                      - TLSv1.1
                      - TLSv1.2
                      - TLSv1.3
                  type: array
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                client:
                  properties:
                    ca:
                      minLength: 128
                      maxLength: 65536
                      type: string
                    depth:
                      type: integer
                      minimum: 0
                      default: 1
                  type: object
                  required:
                    - ca
                certs:
                  items:
                    minLength: 128
                    maxLength: 65536
                    type: string
                  type: array
                type:
                  enum:
                    - server
                    - client
                  type: string
                  default: server
                  description: APISIX acts as an SSL server or client.
                cert:
                  minLength: 128
                  maxLength: 65536
                  type: string
                snis:
                  items:
                    type: string
                  type: array
                  minItems: 1
              then:
                oneOf:
                  - required:
                      - sni
                      - key
                      - cert
                  - required:
                      - snis
                      - key
                      - cert
              else:
                required:
                  - key
                  - cert
              type: object
              if:
                properties:
                  type:
                    enum:
                      - server
            example:
              type: server
              snis:
                - test.com
              cert: <content of server.crt>
              key: <content of key.crt>
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      create_time:
                        type: integer
                      validity_end:
                        type: integer
                      validity_start:
                        type: integer
                      status:
                        default: 1
                        type: integer
                        enum:
                          - 1
                          - 0
                        description: 'SSL status. `1`: enable. `0`: disable.'
                      keys:
                        items:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        type: array
                      update_time:
                        type: integer
                      key:
                        minLength: 128
                        maxLength: 65536
                        type: string
                      sni:
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      client:
                        properties:
                          ca:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          depth:
                            type: integer
                            minimum: 0
                            default: 1
                        type: object
                        required:
                          - ca
                      exptime:
                        minimum: 1588262400
                        type: integer
                      certs:
                        items:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        type: array
                      type:
                        enum:
                          - server
                          - client
                        type: string
                        default: server
                        description: APISIX acts as an SSL server or client.
                      cert:
                        minLength: 128
                        maxLength: 65536
                        type: string
                      snis:
                        items:
                          type: string
                        type: array
                        minItems: 1
                    then:
                      oneOf:
                        - required:
                            - sni
                            - key
                            - cert
                        - required:
                            - snis
                            - key
                            - cert
                    else:
                      required:
                        - key
                        - cert
                    type: object
                    if:
                      properties:
                        type:
                          enum:
                            - server
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/ssls/1
                    value:
                      type: server
                      key: <content of server.key>
                      snis:
                        - test.com
                      id: '1'
                      create_time: 1684373523
                      status: 1
                      cert: <content of server.crt>
                      update_time: 1684373523
        '400':
          description: Invalid configuration
          content: {}
    get:
      summary: Get SSL by ID
      deprecated: false
      description: Get an SSL by ID.
      tags:
        - SSL
      parameters:
        - name: id
          in: path
          description: Specified SSL ID.
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    properties:
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      create_time:
                        type: integer
                      validity_end:
                        type: integer
                      validity_start:
                        type: integer
                      status:
                        default: 1
                        type: integer
                        enum:
                          - 1
                          - 0
                        description: 'SSL status. `1`: enable. `0`: disable.'
                      keys:
                        items:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        type: array
                      update_time:
                        type: integer
                      key:
                        minLength: 128
                        maxLength: 65536
                        type: string
                      sni:
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      client:
                        properties:
                          ca:
                            minLength: 128
                            maxLength: 65536
                            type: string
                          depth:
                            type: integer
                            minimum: 0
                            default: 1
                        type: object
                        required:
                          - ca
                      exptime:
                        minimum: 1588262400
                        type: integer
                      certs:
                        items:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        type: array
                      type:
                        enum:
                          - server
                          - client
                        type: string
                        default: server
                        description: APISIX acts as an SSL server or client.
                      cert:
                        minLength: 128
                        maxLength: 65536
                        type: string
                      snis:
                        items:
                          type: string
                        type: array
                        minItems: 1
                    then:
                      oneOf:
                        - required:
                            - sni
                            - key
                            - cert
                        - required:
                            - snis
                            - key
                            - cert
                    else:
                      required:
                        - key
                        - cert
                    type: object
                    if:
                      properties:
                        type:
                          enum:
                            - server
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      type: server
                      snis:
                        - test.com
                      id: '1'
                      create_time: 1684373523
                      status: 1
                      cert: <content of server.crt>
                      update_time: 1684373523
                    key: /apisix/ssls/1
                    modifiedIndex: 133
                    createdIndex: 133
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete SSL by ID
      deprecated: false
      description: Delete an SSL by ID.
      tags:
        - SSL
      parameters:
        - name: id
          in: path
          description: Specified SSL ID.
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/ssls/00000000000000000134
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
  /apisix/admin/global_rules:
    get:
      summary: Get All Global Rules
      deprecated: false
      description: Get all configured plugin global rules.
      tags:
        - Global Rule
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            plugins:
                              type: object
                              properties: {}
                            update_time:
                              type: integer
                            create_time:
                              type: integer
                          type: object
                          required:
                            - plugins
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    list:
                      - value:
                          plugins:
                            limit-count:
                              rejected_code: 503
                              time_window: 60
                              key: remote_addr
                              key_type: var
                              count: 2
                              allow_degradation: false
                              show_limit_quota_header: true
                              policy: local
                          update_time: 1684375502
                          create_time: 1684375502
                          id: '1'
                        key: /apisix/global_rules/1
                        modifiedIndex: 137
                        createdIndex: 137
                    total: 1
  /apisix/admin/global_rules/{id}:
    put:
      summary: Create Global Rule by ID
      deprecated: false
      description: Create a plugin global rule with a custom ID.
      tags:
        - Global Rule
      parameters:
        - name: id
          in: path
          description: Specified global rule ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                plugins:
                  type: object
                  properties: {}
              type: object
              required:
                - id
                - plugins
            example:
              plugins:
                limit-count:
                  count: 2
                  time_window: 60
                  rejected_code: 503
                  key: remote_addr
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      plugins:
                        type: object
                        properties: {}
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - plugins
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/global_rules/1
                    value:
                      plugins:
                        limit-count:
                          time_window: 60
                          rejected_code: 503
                          key: remote_addr
                          key_type: var
                          count: 2
                          show_limit_quota_header: true
                          allow_degradation: false
                          policy: local
                      id: '1'
                      create_time: 1684375502
                      update_time: 1684375502
        '400':
          description: Invalid configuration
          content: {}
    get:
      summary: Get Global Rule by ID
      deprecated: false
      description: Get a global rule by ID.
      tags:
        - Global Rule
      parameters:
        - name: id
          in: path
          description: Specified global rule ID.
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    properties:
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      plugins:
                        type: object
                        properties: {}
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - plugins
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      update_time: 1684375502
                      create_time: 1684375502
                      id: '1'
                    key: /apisix/global_rules/1
                    modifiedIndex: 137
                    createdIndex: 137
        '404':
          description: Key not found
          content: {}
    patch:
      summary: Update Global Rule
      deprecated: false
      description: Update a plugin global rule.
      tags:
        - Global Rule
      parameters:
        - name: id
          in: path
          description: Specified global rule ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                plugins:
                  type: object
                  properties: {}
              type: object
              required:
                - plugins
            example:
              plugins:
                limit-count:
                  count: 3
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      plugins:
                        type: object
                        properties: {}
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - plugins
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/global_rules/1
                    value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 3
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      update_time: 1684376614
                      create_time: 1684375502
                      id: '1'
        '400':
          description: Invalid configuration
          content: {}
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Global Rule by ID
      deprecated: false
      description: Delete a plugin global rule by ID.
      tags:
        - Global Rule
      parameters:
        - name: id
          in: path
          description: Specified global rule ID.
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/global_rules/1
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
  /apisix/admin/consumer_groups:
    get:
      summary: Get All Consumer Group
      deprecated: false
      description: Get all configured consumer groups.
      tags:
        - Consumer Group
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            plugins:
                              type: object
                              properties: {}
                            desc:
                              maxLength: 256
                              type: string
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            update_time:
                              type: integer
                            create_time:
                              type: integer
                          type: object
                          required:
                            - id
                            - plugins
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    list:
                      - value:
                          plugins:
                            limit-count:
                              allow_degradation: false
                              count: 2
                              group: consumer_group_name
                              time_window: 60
                              show_limit_quota_header: true
                              key: remote_addr
                              rejected_code: 503
                              key_type: var
                              policy: local
                          desc: desc
                          id: company_a
                          create_time: 1684377809
                          update_time: 1684378459
                        key: /apisix/consumer_groups/company_a
                        modifiedIndex: 144
                        createdIndex: 143
                    total: 1
  /apisix/admin/consumer_groups/{id}:
    put:
      summary: Create Consumer Group by ID
      deprecated: false
      description: Create a consumer group with a custom ID.
      tags:
        - Consumer Group
      parameters:
        - name: id
          in: path
          description: Specified consumer groups ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                plugins:
                  type: object
                  properties: {}
                desc:
                  maxLength: 256
                  type: string
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
              type: object
              required:
                - id
                - plugins
            example:
              desc: desc
              plugins:
                limit-count:
                  count: 2
                  time_window: 60
                  rejected_code: 503
                  key: remote_addr
                  group: consumer_group_name
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      plugins:
                        type: object
                        properties: {}
                      desc:
                        maxLength: 256
                        type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - id
                      - plugins
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/consumer_groups/company_a
                    value:
                      plugins:
                        limit-count:
                          allow_degradation: false
                          count: 2
                          group: company_a
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          show_limit_quota_header: true
                          rejected_code: 503
                          policy: local
                      desc: desc
                      id: company_a
                      create_time: 1684377809
                      update_time: 1684378459
        '400':
          description: Invalid configuration
          content: {}
    get:
      summary: Get Consumer Group by ID
      deprecated: false
      description: Get a consumer group by ID.
      tags:
        - Consumer Group
      parameters:
        - name: id
          in: path
          description: Specified consumer groups ID.
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    properties:
                      plugins:
                        type: object
                        properties: {}
                      desc:
                        maxLength: 256
                        type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - id
                      - plugins
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      plugins:
                        limit-count:
                          allow_degradation: false
                          count: 2
                          group: consumer_group_name
                          time_window: 60
                          show_limit_quota_header: true
                          key: remote_addr
                          rejected_code: 503
                          key_type: var
                          policy: local
                      desc: desc
                      id: company_a
                      create_time: 1684377809
                      update_time: 1684378459
                    key: /apisix/consumer_groups/company_a
                    modifiedIndex: 144
                    createdIndex: 143
        '404':
          description: Key not found
          content: {}
    patch:
      summary: Update Consumer Group
      deprecated: false
      description: Update a consumer group.
      tags:
        - Consumer Group
      parameters:
        - name: id
          in: path
          description: Specified consumer group ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                plugins:
                  type: object
                  properties: {}
                desc:
                  maxLength: 256
                  type: string
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
              type: object
              required:
                - id
                - plugins
            example:
              plugins:
                prometheus: {}
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      plugins:
                        type: object
                        properties: {}
                      desc:
                        maxLength: 256
                        type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - id
                      - plugins
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/consumer_groups/company_a
                    value:
                      plugins:
                        limit-count:
                          allow_degradation: false
                          count: 2
                          group: consumer_group_name
                          time_window: 60
                          show_limit_quota_header: true
                          key: remote_addr
                          rejected_code: 503
                          key_type: var
                          policy: local
                        prometheus:
                          prefer_name: false
                      desc: desc
                      id: company_a
                      create_time: 1684377809
                      update_time: 1684379208
        '400':
          description: Invalid configuration
          content: {}
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Consumer Group by ID
      deprecated: false
      description: Delete a consumer group by ID.
      tags:
        - Consumer Group
      parameters:
        - name: id
          in: path
          description: Specified consumer group ID.
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/consumer_groups/company_a
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
  /apisix/admin/consumers/{consumer}/credentials:
    get:
      summary: Get All Credentials of a Consumer
      deprecated: false
      description: Get all configured credentials of a consumer.
      tags:
        - Credentials
      parameters:
        - name: consumer
          in: path
          description: Specified consumer username.
          required: true
          example: john
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            plugins:
                              type: object
                              properties: {}
                            desc:
                              maxLength: 256
                              type: string
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            update_time:
                              type: integer
                            create_time:
                              type: integer
                          type: object
                          required:
                            - id
                            - plugins
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    total: 1
                    list:
                      - total: 2
                        list:
                          - key: >-
                              /apisix/consumers/john/credentials/cred-john-basic-auth
                            value:
                              update_time: 1725991703
                              id: cred-john-basic-auth
                              plugins:
                                basic-auth:
                                  password: john-pass
                                  username: john-key
                              create_time: 1725991529
                            createdIndex: 42
                            modifiedIndex: 44
                          - key: >-
                              /apisix/consumers/john/credentials/cred-john-key-auth
                            value:
                              update_time: 1725991703
                              id: cred-john-key-auth
                              plugins:
                                key-auth:
                                  key: john-key
                              create_time: 1725991703
                            createdIndex: 43
                            modifiedIndex: 43
  /apisix/admin/consumers/{consumer}/credentials/{id}:
    get:
      summary: Get Credential by ID
      deprecated: false
      description: Get credential of a consumer by ID.
      tags:
        - Credentials
      parameters:
        - name: consumer
          in: path
          description: Specified consumer username.
          required: true
          example: john
          schema:
            type: string
        - name: id
          in: path
          description: Specified credential ID.
          required: true
          example: john-key-auth-cred
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            plugins:
                              type: object
                              properties: {}
                            desc:
                              maxLength: 256
                              type: string
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            update_time:
                              type: integer
                            create_time:
                              type: integer
                          type: object
                          required:
                            - id
                            - plugins
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    total: 1
                    list:
                      - key: >-
                          /apisix/consumers/john/credentials/cred-john-basic-auth
                        value:
                          update_time: 1725991529
                          id: cred-john-basic-auth
                          plugins:
                            basic-auth:
                              password: john-pass
                              username: john-key
                          create_time: 1725991529
                        createdIndex: 42
                        modifiedIndex: 42
    put:
      summary: Create Credential by ID
      deprecated: false
      description: Create a credential by ID.
      tags:
        - Credentials
      parameters:
        - name: consumer
          in: path
          description: Specified consumer username.
          required: true
          example: john
          schema:
            type: string
        - name: id
          in: path
          description: Specified credential ID.
          required: true
          example: john-key-auth-cred
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                plugins:
                  type: object
                  description: >-
                    `basic-auth`, `key-auth`, `hmac-auth` or `jwt-auth`
                    configurations.
                label:
                  type: object
                  properties: {}
                  description: >-
                    Key-value pairs of custom labels. When the `custom_id` label
                    is set and if a request is authenticated, the value will be
                    forwarded to the upstream service in the `X-Custom-ID`
                    header.
                name:
                  type: string
                  maxLength: 100
                  minLength: 1
                desc:
                  maxLength: 256
                  type: string
                  description: Description for the credential.
              examples:
                - plugins:
                    key-auth:
                      key: john-key
            example:
              plugins:
                key-auth:
                  key: john-key
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    type: object
                    properties: {}
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/consumers/john/credentials/cred-john-key-auth
                    value:
                      create_time: 1725991703
                      id: cred-john-key-auth
                      plugins:
                        key-auth:
                          key: john-key
                      update_time: 1725991703
        '400':
          description: Invalid configuration
          content: {}
    delete:
      summary: Delete Credential by ID
      deprecated: false
      description: Delete a credential by ID.
      tags:
        - Credentials
      parameters:
        - name: consumer
          in: path
          description: Specified consumer username.
          required: true
          example: john
          schema:
            type: string
        - name: id
          in: path
          description: Specified credential ID.
          required: true
          example: john-key-auth-cred
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/consumers/john/credentials/cred-john-key-auth
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
  /apisix/admin/plugin_configs:
    get:
      summary: Get All Plugin Configs
      deprecated: false
      description: Get all configured plugin configs.
      tags:
        - Plugin Config
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            plugins:
                              type: object
                              properties: {}
                            desc:
                              maxLength: 256
                              type: string
                            labels:
                              type: object
                              patternProperties:
                                .*:
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^\S+$
                                  type: string
                                  description: value of label
                              description: Key-value pairs to specify attributes.
                              properties: {}
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            update_time:
                              type: integer
                            create_time:
                              type: integer
                          type: object
                          required:
                            - id
                            - plugins
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    list:
                      - value:
                          plugins:
                            limit-count:
                              rejected_code: 503
                              time_window: 60
                              key: remote_addr
                              key_type: var
                              count: 2
                              allow_degradation: false
                              show_limit_quota_header: true
                              policy: local
                          desc: desc
                          id: '1'
                          create_time: 1684380007
                          update_time: 1684380034
                        key: /apisix/plugin_configs/1
                        modifiedIndex: 151
                        createdIndex: 150
                    total: 1
  /apisix/admin/plugin_configs/{id}:
    put:
      summary: Create Plugin Config by ID
      deprecated: false
      description: Create a plugin config with a custom ID.
      tags:
        - Plugin Config
      parameters:
        - name: id
          in: path
          description: Specified plugin config ID.
          required: true
          example: '1'
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                plugins:
                  type: object
                  properties: {}
                desc:
                  maxLength: 256
                  type: string
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
              type: object
              required:
                - id
                - plugins
            example:
              desc: desc
              plugins:
                limit-count:
                  count: 2
                  time_window: 60
                  rejected_code: 503
                  key: remote_addr
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      plugins:
                        type: object
                        properties: {}
                      desc:
                        maxLength: 256
                        type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - id
                      - plugins
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/plugin_configs/1
                    value:
                      plugins:
                        limit-count:
                          time_window: 60
                          rejected_code: 503
                          key: remote_addr
                          key_type: var
                          count: 2
                          show_limit_quota_header: true
                          allow_degradation: false
                          policy: local
                      desc: desc
                      id: '1'
                      create_time: 1684380007
                      update_time: 1684380034
        '400':
          description: Invalid configuration
          content: {}
    get:
      summary: Get Plugin Config by ID
      deprecated: false
      description: Get a plugin config by ID.
      tags:
        - Plugin Config
      parameters:
        - name: id
          in: path
          description: Specified plugin config ID.
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    properties:
                      plugins:
                        type: object
                        properties: {}
                      desc:
                        maxLength: 256
                        type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - id
                      - plugins
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      desc: desc
                      id: '1'
                      create_time: 1684380007
                      update_time: 1684380034
                    key: /apisix/plugin_configs/1
                    modifiedIndex: 151
                    createdIndex: 150
        '404':
          description: Key not found
          content: {}
    patch:
      summary: Update Plugin Config
      deprecated: false
      description: Update a plugin config.
      tags:
        - Plugin Config
      parameters:
        - name: id
          in: path
          description: Specified plugin config ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                plugins:
                  type: object
                  properties: {}
                desc:
                  maxLength: 256
                  type: string
                labels:
                  type: object
                  patternProperties:
                    .*:
                      minLength: 1
                      maxLength: 64
                      pattern: ^\S+$
                      type: string
                      description: value of label
                  description: Key-value pairs to specify attributes.
                  properties: {}
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
              type: object
              required:
                - id
                - plugins
            example:
              plugins:
                prometheus: {}
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      plugins:
                        type: object
                        properties: {}
                      desc:
                        maxLength: 256
                        type: string
                      labels:
                        type: object
                        patternProperties:
                          .*:
                            minLength: 1
                            maxLength: 64
                            pattern: ^\S+$
                            type: string
                            description: value of label
                        description: Key-value pairs to specify attributes.
                        properties: {}
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - id
                      - plugins
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/plugin_configs/1
                    value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                        prometheus:
                          prefer_name: false
                      desc: desc
                      id: '1'
                      create_time: 1684380007
                      update_time: 1684380472
        '400':
          description: Invalid configuration
          content: {}
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Plugin Config by ID
      deprecated: false
      description: Delete a plugin config by ID.
      tags:
        - Plugin Config
      parameters:
        - name: id
          in: path
          description: Specified plugin config ID.
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/plugin_configs/1
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
  /apisix/admin/plugin_metadata:
    get:
      summary: Get All Plugin Metadata
      deprecated: false
      description: Get all plugin metadata.
      tags:
        - Plugin Metadata
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          type: object
                          properties: {}
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    list:
                      - value:
                          log_format:
                            host: $host
                            '@timestamp': $time_iso8601
                            client_ip: $remote_addr
                        key: /apisix/plugin_metadata/syslog
                        modifiedIndex: 283
                        createdIndex: 283
                    total: 1
  /apisix/admin/plugin_metadata/{plugin_name}:
    put:
      summary: Create Plugin Metadata by Name
      deprecated: false
      description: Create a plugin metadata by plugin name.
      tags:
        - Plugin Metadata
      parameters:
        - name: plugin_name
          in: path
          description: The specified plugin name
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              examples:
                - log_format:
                    host: $host
                    '@timestamp': $time_iso8601
                    client_ip: $remote_addr
              properties: {}
            example:
              log_format:
                host: $host
                '@timestamp': $time_iso8601
                client_ip: $remote_addr
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    type: object
                    properties: {}
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/plugin_metadata/syslog
                    value:
                      log_format:
                        host: $host
                        '@timestamp': $time_iso8601
                        client_ip: $remote_addr
        '400':
          description: Invalid configuration
          content: {}
    get:
      summary: Get Plugin Metadata by Name
      deprecated: false
      description: Get plugin metadata by plugin name.
      tags:
        - Plugin Metadata
      parameters:
        - name: plugin_name
          in: path
          description: The specified plugin name
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    type: object
                    properties: {}
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      log_format:
                        host: $host
                        '@timestamp': $time_iso8601
                        client_ip: $remote_addr
                    key: /apisix/plugin_metadata/syslog
                    modifiedIndex: 156
                    createdIndex: 156
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Plugin Metadata by Name
      deprecated: false
      description: Delete a plugin metadata by plugin name.
      tags:
        - Plugin Metadata
      parameters:
        - name: plugin_name
          in: path
          description: The specified plugin name
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/plugin_metadata/syslog
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
  /apisix/admin/plugins/list:
    get:
      summary: Get All Plugin Names
      deprecated: false
      description: Get all configured plugin names.
      tags:
        - Plugin
      parameters:
        - name: subsystem
          in: query
          description: Get HTTP or Stream plugin names.
          required: false
          example: stream
          schema:
            type: string
            enum:
              - http
              - stream
            default: http
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    - real-ip
                    - ai
                    - client-control
                    - proxy-control
                    - request-id
                    - zipkin
                    - ext-plugin-pre-req
                    - fault-injection
                    - mocking
                    - serverless-pre-function
                    - cors
                    - ip-restriction
                    - ua-restriction
                    - referer-restriction
                    - csrf
                    - uri-blocker
                    - request-validation
                    - openid-connect
                    - cas-auth
                    - authz-casbin
                    - authz-casdoor
                    - wolf-rbac
                    - ldap-auth
                    - hmac-auth
                    - basic-auth
                    - jwt-auth
                    - key-auth
                    - consumer-restriction
                    - forward-auth
                    - opa
                    - authz-keycloak
                    - body-transformer
                    - proxy-mirror
                    - proxy-cache
                    - proxy-rewrite
                    - workflow
                    - api-breaker
                    - limit-conn
                    - limit-count
                    - limit-req
                    - gzip
                    - server-info
                    - traffic-split
                    - redirect
                    - response-rewrite
                    - degraphql
                    - kafka-proxy
                    - grpc-transcode
                    - grpc-web
                    - public-api
                    - prometheus
                    - datadog
                    - elasticsearch-logger
                    - echo
                    - loggly
                    - http-logger
                    - splunk-hec-logging
                    - skywalking-logger
                    - google-cloud-logging
                    - sls-logger
                    - tcp-logger
                    - kafka-logger
                    - rocketmq-logger
                    - syslog
                    - udp-logger
                    - file-logger
                    - clickhouse-logger
                    - tencent-cloud-cls
                    - inspect
                    - example-plugin
                    - aws-lambda
                    - azure-functions
                    - openwhisk
                    - openfunction
                    - serverless-post-function
                    - ext-plugin-post-req
                    - ext-plugin-post-resp
  /apisix/admin/plugins/{plugin_name}:
    get:
      summary: Get Plugin Attributes by Name
      deprecated: false
      description: Get attributes of a plugin by plugin name.
      tags:
        - Plugin
      parameters:
        - name: plugin_name
          in: path
          description: The specified plugin name
          required: true
          example: ''
          schema:
            type: string
        - name: subsystem
          in: query
          description: >-
            Get attributes of the specified plugin name in HTTP or Stream
            subsystem.
          required: false
          example: stream
          schema:
            type: string
            enum:
              - http
              - stream
            default: http
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  if:
                    type: object
                    properties:
                      properties:
                        type: object
                        properties:
                          policy:
                            type: object
                            properties:
                              enum:
                                type: array
                                items:
                                  type: string
                            required:
                              - enum
                        required:
                          - policy
                    required:
                      - properties
                  else:
                    type: object
                    properties:
                      then:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          properties:
                            type: object
                            properties:
                              redis_password:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - type
                              redis_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              redis_cluster_nodes:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      maxLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - maxLength
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              redis_cluster_name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              redis_cluster_ssl:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              redis_cluster_ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - redis_password
                              - redis_timeout
                              - redis_cluster_nodes
                              - redis_cluster_name
                              - redis_cluster_ssl
                              - redis_cluster_ssl_verify
                        required:
                          - required
                          - properties
                      if:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              policy:
                                type: object
                                properties:
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - enum
                            required:
                              - policy
                        required:
                          - properties
                    required:
                      - then
                      - if
                  required:
                    type: array
                    items:
                      type: string
                  then:
                    type: object
                    properties:
                      required:
                        type: array
                        items:
                          type: string
                      properties:
                        type: object
                        properties:
                          redis_password:
                            type: object
                            properties:
                              minLength:
                                type: integer
                              type:
                                type: string
                            required:
                              - minLength
                              - type
                          redis_database:
                            type: object
                            properties:
                              type:
                                type: string
                              minimum:
                                type: integer
                              default:
                                type: integer
                            required:
                              - type
                              - minimum
                              - default
                          redis_timeout:
                            type: object
                            properties:
                              type:
                                type: string
                              minimum:
                                type: integer
                              default:
                                type: integer
                            required:
                              - type
                              - minimum
                              - default
                          redis_host:
                            type: object
                            properties:
                              minLength:
                                type: integer
                              type:
                                type: string
                            required:
                              - minLength
                              - type
                          redis_port:
                            type: object
                            properties:
                              type:
                                type: string
                              minimum:
                                type: integer
                              default:
                                type: integer
                            required:
                              - type
                              - minimum
                              - default
                        required:
                          - redis_password
                          - redis_database
                          - redis_timeout
                          - redis_host
                          - redis_port
                    required:
                      - required
                      - properties
                  type:
                    type: string
                  $comment:
                    type: string
                  properties:
                    type: object
                    properties:
                      rejected_code:
                        type: object
                        properties:
                          maximum:
                            type: integer
                          type:
                            type: string
                          minimum:
                            type: integer
                          default:
                            type: integer
                        required:
                          - maximum
                          - type
                          - minimum
                          - default
                      time_window:
                        type: object
                        properties:
                          exclusiveMinimum:
                            type: integer
                          type:
                            type: string
                        required:
                          - exclusiveMinimum
                          - type
                      group:
                        type: object
                        properties:
                          type:
                            type: string
                        required:
                          - type
                      key:
                        type: object
                        properties:
                          default:
                            type: string
                          type:
                            type: string
                        required:
                          - default
                          - type
                      count:
                        type: object
                        properties:
                          exclusiveMinimum:
                            type: integer
                          type:
                            type: string
                        required:
                          - exclusiveMinimum
                          - type
                      _meta:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              filter:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              error_response:
                                type: object
                                properties:
                                  oneOf:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        type:
                                          type: string
                                      required:
                                        - type
                                required:
                                  - oneOf
                              priority:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              disable:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - filter
                              - error_response
                              - priority
                              - disable
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      rejected_msg:
                        type: object
                        properties:
                          minLength:
                            type: integer
                          type:
                            type: string
                        required:
                          - minLength
                          - type
                      key_type:
                        type: object
                        properties:
                          type:
                            type: string
                          default:
                            type: string
                          enum:
                            type: array
                            items:
                              type: string
                        required:
                          - type
                          - default
                          - enum
                      show_limit_quota_header:
                        type: object
                        properties:
                          default:
                            type: boolean
                          type:
                            type: string
                        required:
                          - default
                          - type
                      policy:
                        type: object
                        properties:
                          type:
                            type: string
                          default:
                            type: string
                          enum:
                            type: array
                            items:
                              type: string
                        required:
                          - type
                          - default
                          - enum
                      allow_degradation:
                        type: object
                        properties:
                          default:
                            type: boolean
                          type:
                            type: string
                        required:
                          - default
                          - type
                    required:
                      - rejected_code
                      - time_window
                      - group
                      - key
                      - count
                      - _meta
                      - rejected_msg
                      - key_type
                      - show_limit_quota_header
                      - policy
                      - allow_degradation
                required:
                  - if
                  - else
                  - required
                  - then
                  - type
                  - $comment
                  - properties
              examples:
                '1':
                  summary: Successful Example
                  value:
                    type: object
                    then:
                      properties:
                        redis_port:
                          type: integer
                          default: 6379
                          minimum: 1
                        redis_password:
                          type: string
                          minLength: 0
                        redis_database:
                          type: integer
                          default: 0
                          minimum: 0
                        redis_timeout:
                          type: integer
                          default: 1000
                          minimum: 1
                        redis_host:
                          type: string
                          minLength: 2
                      required:
                        - redis_host
                    required:
                      - count
                      - time_window
                    if:
                      properties:
                        policy:
                          enum:
                            - redis
                    else:
                      if:
                        properties:
                          policy:
                            enum:
                              - redis-cluster
                      then:
                        properties:
                          redis_cluster_ssl_verify:
                            type: boolean
                            default: false
                          redis_password:
                            type: string
                            minLength: 0
                          redis_timeout:
                            type: integer
                            default: 1000
                            minimum: 1
                          redis_cluster_nodes:
                            type: array
                            minItems: 2
                            items:
                              type: string
                              minLength: 2
                              maxLength: 100
                          redis_cluster_name:
                            type: string
                          redis_cluster_ssl:
                            type: boolean
                            default: false
                        required:
                          - redis_cluster_nodes
                          - redis_cluster_name
                    $comment: this is a mark for our injected plugin schema
                    properties:
                      _meta:
                        type: object
                        properties:
                          filter:
                            type: array
                            description: >-
                              filter determines whether the plugin needs to be
                              executed at runtime
                          error_response:
                            oneOf:
                              - type: string
                              - type: object
                          priority:
                            type: integer
                            description: priority of plugins by customized order
                          disable:
                            type: boolean
                      key_type:
                        type: string
                        enum:
                          - var
                          - var_combination
                          - constant
                        default: var
                      count:
                        type: integer
                        exclusiveMinimum: 0
                      group:
                        type: string
                      rejected_code:
                        type: integer
                        default: 503
                        maximum: 599
                        minimum: 200
                      key:
                        type: string
                        default: remote_addr
                      show_limit_quota_header:
                        type: boolean
                        default: true
                      allow_degradation:
                        type: boolean
                        default: false
                      time_window:
                        type: integer
                        exclusiveMinimum: 0
                      rejected_msg:
                        type: string
                        minLength: 1
                      policy:
                        type: string
                        enum:
                          - local
                          - redis
                          - redis-cluster
                        default: local
        '404':
          description: Key not found
          content: {}
  /apisix/admin/plugins:
    get:
      summary: Get All Plugin Attributes
      deprecated: false
      description: >-
        Get all configured plugin attributes. This API is being
        [deprecated](https://apisix.apache.org/blog/2023/09/01/release-apache-apisix-3.5.0/#refactor-and-improve-the-plugin-interface-in-admin-api)
        soon.
      tags:
        - Plugin
      parameters:
        - name: all
          in: query
          description: Get all plugin attributes.
          required: true
          example: 'true'
          schema:
            type: string
        - name: subsystem
          in: query
          description: Get HTTP or Stream plugin attributes.
          required: false
          example: stream
          schema:
            type: string
            enum:
              - http
              - stream
            default: http
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  mqtt-proxy:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              protocol_name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              protocol_level:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - _meta
                              - protocol_name
                              - protocol_level
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  syslog:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              drop_limit:
                                type: object
                                properties:
                                  default:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              pool_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              sock_type:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - enum
                                  - default
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              flush_limit:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              port:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              tls:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              host:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - drop_limit
                              - sock_type
                              - host
                              - name
                              - batch_max_size
                              - log_format
                              - inactive_timeout
                              - _meta
                              - tls
                              - port
                              - timeout
                              - max_retry_count
                              - retry_delay
                              - buffer_duration
                              - include_req_body
                              - pool_size
                              - flush_limit
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  limit-conn:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              default_conn_delay:
                                type: object
                                properties:
                                  exclusiveMinimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - exclusiveMinimum
                                  - type
                              only_use_default_delay:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              key_type:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              burst:
                                type: object
                                properties:
                                  minimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minimum
                                  - type
                              key:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              conn:
                                type: object
                                properties:
                                  exclusiveMinimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - exclusiveMinimum
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              rejected_msg:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - type
                              rejected_code:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - type
                                  - minimum
                                  - default
                              allow_degradation:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - default_conn_delay
                              - only_use_default_delay
                              - key_type
                              - burst
                              - key
                              - _meta
                              - rejected_msg
                              - rejected_code
                              - conn
                              - allow_degradation
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  ip-restriction:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          oneOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              blacklist:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      anyOf:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            format:
                                              type: string
                                            type:
                                              type: string
                                            title:
                                              type: string
                                            pattern:
                                              type: string
                                          required:
                                            - type
                                            - title
                                            - format
                                            - pattern
                                    required:
                                      - anyOf
                                required:
                                  - type
                                  - minItems
                                  - items
                              message:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  default:
                                    type: string
                                required:
                                  - type
                                  - minLength
                                  - maxLength
                                  - default
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              whitelist:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      anyOf:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            format:
                                              type: string
                                            type:
                                              type: string
                                            title:
                                              type: string
                                            pattern:
                                              type: string
                                          required:
                                            - type
                                            - title
                                            - format
                                            - pattern
                                    required:
                                      - anyOf
                                required:
                                  - type
                                  - minItems
                                  - items
                            required:
                              - blacklist
                              - message
                              - _meta
                              - whitelist
                        required:
                          - oneOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  referer-restriction:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          oneOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              blacklist:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                required:
                                  - type
                                  - minItems
                                  - items
                              message:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  default:
                                    type: string
                                required:
                                  - type
                                  - minLength
                                  - maxLength
                                  - default
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              bypass_missing:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              whitelist:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                required:
                                  - type
                                  - minItems
                                  - items
                            required:
                              - blacklist
                              - message
                              - _meta
                              - bypass_missing
                              - whitelist
                        required:
                          - oneOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  wolf-rbac:
                    type: object
                    properties:
                      version:
                        type: number
                      type:
                        type: string
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              header_prefix:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              server:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              appid:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - header_prefix
                              - server
                              - appid
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - type
                      - schema
                      - priority
                  response-rewrite:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          dependencies:
                            type: object
                            properties:
                              filters:
                                type: object
                                properties:
                                  not:
                                    type: object
                                    properties:
                                      required:
                                        type: array
                                        items:
                                          type: string
                                    required:
                                      - required
                                required:
                                  - not
                              body:
                                type: object
                                properties:
                                  not:
                                    type: object
                                    properties:
                                      required:
                                        type: array
                                        items:
                                          type: string
                                    required:
                                      - required
                                required:
                                  - not
                            required:
                              - filters
                              - body
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              headers:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  anyOf:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        minProperties:
                                          type: integer
                                        type:
                                          type: string
                                        patternProperties:
                                          type: object
                                          properties:
                                            ^[^:]+$:
                                              type: object
                                              properties:
                                                oneOf:
                                                  type: array
                                                  items:
                                                    type: object
                                                    properties:
                                                      type:
                                                        type: string
                                                    required:
                                                      - type
                                              required:
                                                - oneOf
                                          required:
                                            - ^[^:]+$
                                        properties:
                                          type: object
                                          properties:
                                            add:
                                              type: object
                                              properties:
                                                minItems:
                                                  type: integer
                                                type:
                                                  type: string
                                                items:
                                                  type: object
                                                  properties:
                                                    pattern:
                                                      type: string
                                                    type:
                                                      type: string
                                                  required:
                                                    - pattern
                                                    - type
                                              required:
                                                - minItems
                                                - type
                                                - items
                                            set:
                                              type: object
                                              properties:
                                                minProperties:
                                                  type: integer
                                                type:
                                                  type: string
                                                patternProperties:
                                                  type: object
                                                  properties:
                                                    ^[^:]+$:
                                                      type: object
                                                      properties:
                                                        oneOf:
                                                          type: array
                                                          items:
                                                            type: object
                                                            properties:
                                                              type:
                                                                type: string
                                                            required:
                                                              - type
                                                      required:
                                                        - oneOf
                                                  required:
                                                    - ^[^:]+$
                                              required:
                                                - minProperties
                                                - type
                                                - patternProperties
                                            remove:
                                              type: object
                                              properties:
                                                minItems:
                                                  type: integer
                                                type:
                                                  type: string
                                                items:
                                                  type: object
                                                  properties:
                                                    pattern:
                                                      type: string
                                                    type:
                                                      type: string
                                                  required:
                                                    - pattern
                                                    - type
                                              required:
                                                - minItems
                                                - type
                                                - items
                                          required:
                                            - add
                                            - set
                                            - remove
                                required:
                                  - description
                                  - anyOf
                              status_code:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  minimum:
                                    type: integer
                                required:
                                  - maximum
                                  - type
                                  - description
                                  - minimum
                              body:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              filters:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      required:
                                        type: array
                                        items:
                                          type: string
                                      type:
                                        type: string
                                      description:
                                        type: string
                                      properties:
                                        type: object
                                        properties:
                                          regex:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              description:
                                                type: string
                                              minLength:
                                                type: integer
                                            required:
                                              - type
                                              - description
                                              - minLength
                                          scope:
                                            type: object
                                            properties:
                                              default:
                                                type: string
                                              type:
                                                type: string
                                              description:
                                                type: string
                                              enum:
                                                type: array
                                                items:
                                                  type: string
                                            required:
                                              - default
                                              - type
                                              - description
                                              - enum
                                          options:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              description:
                                                type: string
                                              default:
                                                type: string
                                            required:
                                              - type
                                              - description
                                              - default
                                          replace:
                                            type: object
                                            properties:
                                              description:
                                                type: string
                                              type:
                                                type: string
                                            required:
                                              - description
                                              - type
                                        required:
                                          - regex
                                          - scope
                                          - options
                                          - replace
                                    required:
                                      - required
                                      - type
                                      - description
                                      - properties
                                required:
                                  - minItems
                                  - type
                                  - description
                                  - items
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              vars:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              body_base64:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                            required:
                              - headers
                              - status_code
                              - body
                              - filters
                              - _meta
                              - vars
                              - body_base64
                        required:
                          - dependencies
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  server-info:
                    type: object
                    properties:
                      version:
                        type: number
                      scope:
                        type: string
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - _meta
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - scope
                      - schema
                      - priority
                  proxy-cache:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              cache_zone:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  default:
                                    type: string
                                required:
                                  - type
                                  - minLength
                                  - maxLength
                                  - default
                              cache_strategy:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              cache_key:
                                type: object
                                properties:
                                  default:
                                    type: array
                                    items:
                                      type: string
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                      description:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                      - description
                                required:
                                  - default
                                  - minItems
                                  - type
                                  - items
                              cache_http_status:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      maximum:
                                        type: integer
                                      type:
                                        type: string
                                      description:
                                        type: string
                                      minimum:
                                        type: integer
                                    required:
                                      - maximum
                                      - type
                                      - description
                                      - minimum
                                  default:
                                    type: array
                                    items:
                                      type: integer
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  uniqueItems:
                                    type: boolean
                                required:
                                  - items
                                  - default
                                  - minItems
                                  - type
                                  - uniqueItems
                              cache_method:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      description:
                                        type: string
                                      enum:
                                        type: array
                                        items:
                                          type: string
                                    required:
                                      - type
                                      - description
                                      - enum
                                  default:
                                    type: array
                                    items:
                                      type: string
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  uniqueItems:
                                    type: boolean
                                required:
                                  - items
                                  - default
                                  - minItems
                                  - type
                                  - uniqueItems
                              cache_ttl:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              hide_cache_headers:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              cache_control:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              cache_bypass:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              no_cache:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                            required:
                              - _meta
                              - cache_zone
                              - cache_strategy
                              - cache_key
                              - cache_http_status
                              - cache_method
                              - cache_ttl
                              - hide_cache_headers
                              - cache_control
                              - cache_bypass
                              - no_cache
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  cors:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              allow_origins:
                                type: object
                                properties:
                                  additionalProperties:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                  type:
                                    type: string
                                required:
                                  - additionalProperties
                                  - type
                            required:
                              - allow_origins
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              expose_headers:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - description
                                  - default
                              allow_credential:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              allow_origins:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - pattern
                                  - type
                                  - description
                                  - default
                              max_age:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - description
                                  - default
                              allow_origins_by_regex:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      maxLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - maxLength
                                      - type
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  description:
                                    type: string
                                  uniqueItems:
                                    type: boolean
                                required:
                                  - items
                                  - type
                                  - minItems
                                  - description
                                  - uniqueItems
                              allow_methods:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - description
                                  - default
                              allow_origins_by_metadata:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      maxLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - maxLength
                                      - type
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  description:
                                    type: string
                                  uniqueItems:
                                    type: boolean
                                required:
                                  - items
                                  - type
                                  - minItems
                                  - description
                                  - uniqueItems
                              allow_headers:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - description
                                  - default
                            required:
                              - _meta
                              - expose_headers
                              - allow_credential
                              - allow_origins
                              - max_age
                              - allow_origins_by_regex
                              - allow_methods
                              - allow_origins_by_metadata
                              - allow_headers
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  kafka-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          oneOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              brokers:
                                type: object
                                properties:
                                  uniqueItems:
                                    type: boolean
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      required:
                                        type: array
                                        items:
                                          type: string
                                      properties:
                                        type: object
                                        properties:
                                          host:
                                            type: object
                                            properties:
                                              description:
                                                type: string
                                              type:
                                                type: string
                                            required:
                                              - description
                                              - type
                                          sasl_config:
                                            type: object
                                            properties:
                                              required:
                                                type: array
                                                items:
                                                  type: string
                                              type:
                                                type: string
                                              description:
                                                type: string
                                              properties:
                                                type: object
                                                properties:
                                                  mechanism:
                                                    type: object
                                                    properties:
                                                      type:
                                                        type: string
                                                      enum:
                                                        type: array
                                                        items:
                                                          type: string
                                                      default:
                                                        type: string
                                                    required:
                                                      - type
                                                      - enum
                                                      - default
                                                  password:
                                                    type: object
                                                    properties:
                                                      description:
                                                        type: string
                                                      type:
                                                        type: string
                                                    required:
                                                      - description
                                                      - type
                                                  user:
                                                    type: object
                                                    properties:
                                                      description:
                                                        type: string
                                                      type:
                                                        type: string
                                                    required:
                                                      - description
                                                      - type
                                                required:
                                                  - mechanism
                                                  - password
                                                  - user
                                            required:
                                              - required
                                              - type
                                              - description
                                              - properties
                                          port:
                                            type: object
                                            properties:
                                              description:
                                                type: string
                                              type:
                                                type: string
                                              minimum:
                                                type: integer
                                              maximum:
                                                type: integer
                                            required:
                                              - description
                                              - type
                                              - minimum
                                              - maximum
                                        required:
                                          - host
                                          - sasl_config
                                          - port
                                    required:
                                      - type
                                      - required
                                      - properties
                                required:
                                  - uniqueItems
                                  - minItems
                                  - type
                                  - items
                              meta_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - enum
                                  - default
                              kafka_topic:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              producer_type:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - enum
                                  - default
                              required_acks:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - enum
                                  - default
                              cluster_name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              producer_batch_num:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              producer_batch_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              producer_max_buffering:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_resp_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              meta_refresh_interval:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              key:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              include_resp_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              producer_time_linger:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              broker_list:
                                type: object
                                properties:
                                  minProperties:
                                    type: integer
                                  type:
                                    type: string
                                  patternProperties:
                                    type: object
                                    properties:
                                      .*:
                                        type: object
                                        properties:
                                          maximum:
                                            type: integer
                                          type:
                                            type: string
                                          description:
                                            type: string
                                          minimum:
                                            type: integer
                                        required:
                                          - maximum
                                          - type
                                          - description
                                          - minimum
                                    required:
                                      - .*
                                required:
                                  - minProperties
                                  - type
                                  - patternProperties
                              include_req_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - brokers
                              - meta_format
                              - kafka_topic
                              - producer_type
                              - required_acks
                              - cluster_name
                              - producer_batch_num
                              - producer_batch_size
                              - producer_max_buffering
                              - include_resp_body
                              - meta_refresh_interval
                              - _meta
                              - batch_max_size
                              - inactive_timeout
                              - name
                              - key
                              - buffer_duration
                              - log_format
                              - include_resp_body_expr
                              - producer_time_linger
                              - max_retry_count
                              - retry_delay
                              - include_req_body
                              - broker_list
                              - include_req_body_expr
                              - timeout
                        required:
                          - oneOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  google-cloud-logging:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          oneOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              resource:
                                type: object
                                properties:
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  type:
                                    type: string
                                  default:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                  properties:
                                    type: object
                                    properties:
                                      labels:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      type:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - labels
                                      - type
                                required:
                                  - required
                                  - type
                                  - default
                                  - properties
                              auth_file:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              log_id:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              auth_config:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      private_key:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      project_id:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      token_uri:
                                        type: object
                                        properties:
                                          default:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - default
                                          - type
                                      scopes:
                                        type: object
                                        properties:
                                          items:
                                            type: object
                                            properties:
                                              description:
                                                type: string
                                              type:
                                                type: string
                                            required:
                                              - description
                                              - type
                                          default:
                                            type: array
                                            items:
                                              type: string
                                          type:
                                            type: string
                                          minItems:
                                            type: integer
                                          uniqueItems:
                                            type: boolean
                                        required:
                                          - items
                                          - default
                                          - type
                                          - minItems
                                          - uniqueItems
                                      entries_uri:
                                        type: object
                                        properties:
                                          default:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - default
                                          - type
                                    required:
                                      - private_key
                                      - project_id
                                      - token_uri
                                      - scopes
                                      - entries_uri
                                required:
                                  - type
                                  - required
                                  - properties
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - resource
                              - auth_file
                              - log_id
                              - batch_max_size
                              - auth_config
                              - name
                              - max_retry_count
                              - retry_delay
                              - buffer_duration
                              - log_format
                              - inactive_timeout
                              - ssl_verify
                        required:
                          - oneOf
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  loggly:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              protocol:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - enum
                                  - default
                              host:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              port:
                                type: object
                                properties:
                                  default:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - protocol
                              - host
                              - log_format
                              - port
                              - timeout
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              customer_token:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              tags:
                                type: object
                                properties:
                                  default:
                                    type: array
                                    items:
                                      type: string
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                required:
                                  - default
                                  - minItems
                                  - type
                                  - items
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              severity_map:
                                type: object
                                properties:
                                  additionalProperties:
                                    type: boolean
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  patternProperties:
                                    type: object
                                    properties:
                                      ^[1-5][0-9]{2}$:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          description:
                                            type: string
                                          enum:
                                            type: array
                                            items:
                                              type: string
                                        required:
                                          - type
                                          - description
                                          - enum
                                    required:
                                      - ^[1-5][0-9]{2}$
                                required:
                                  - additionalProperties
                                  - type
                                  - description
                                  - patternProperties
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              include_resp_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_resp_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              severity:
                                type: object
                                properties:
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - enum
                                  - type
                                  - description
                                  - default
                            required:
                              - _meta
                              - batch_max_size
                              - include_req_body
                              - customer_token
                              - name
                              - tags
                              - buffer_duration
                              - severity_map
                              - ssl_verify
                              - include_resp_body
                              - max_retry_count
                              - retry_delay
                              - include_resp_body_expr
                              - log_format
                              - inactive_timeout
                              - severity
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  authz-casbin:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          type:
                            type: string
                          required:
                            type: array
                            items:
                              type: string
                          properties:
                            type: object
                            properties:
                              policy:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              model:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - policy
                              - model
                        required:
                          - type
                          - required
                          - properties
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          oneOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              model_path:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              policy_path:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              model:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              policy:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              username:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - _meta
                              - model_path
                              - policy_path
                              - model
                              - policy
                              - username
                        required:
                          - oneOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  cas-auth:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              idp_uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              cas_callback_uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              logout_uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - idp_uri
                              - cas_callback_uri
                              - logout_uri
                              - _meta
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  request-id:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              include_in_response:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              algorithm:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              range_id:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      char_set:
                                        type: object
                                        properties:
                                          minLength:
                                            type: integer
                                          type:
                                            type: string
                                          default:
                                            type: string
                                        required:
                                          - minLength
                                          - type
                                          - default
                                      length:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          default:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - default
                                    required:
                                      - char_set
                                      - length
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              header_name:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - include_in_response
                              - algorithm
                              - range_id
                              - header_name
                              - _meta
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  ext-plugin-post-req:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              conf:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      required:
                                        type: array
                                        items:
                                          type: string
                                      properties:
                                        type: object
                                        properties:
                                          value:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                            required:
                                              - type
                                          name:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              maxLength:
                                                type: integer
                                              minLength:
                                                type: integer
                                            required:
                                              - type
                                              - maxLength
                                              - minLength
                                        required:
                                          - value
                                          - name
                                    required:
                                      - type
                                      - required
                                      - properties
                                required:
                                  - type
                                  - minItems
                                  - items
                              allow_degradation:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - conf
                              - allow_degradation
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  fault-injection:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          minProperties:
                            type: integer
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              abort:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      vars:
                                        type: object
                                        properties:
                                          maxItems:
                                            type: integer
                                          type:
                                            type: string
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                            required:
                                              - type
                                        required:
                                          - maxItems
                                          - type
                                          - items
                                      percentage:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          maximum:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - maximum
                                      http_status:
                                        type: object
                                        properties:
                                          minimum:
                                            type: integer
                                          type:
                                            type: string
                                        required:
                                          - minimum
                                          - type
                                      body:
                                        type: object
                                        properties:
                                          minLength:
                                            type: integer
                                          type:
                                            type: string
                                        required:
                                          - minLength
                                          - type
                                    required:
                                      - vars
                                      - percentage
                                      - http_status
                                      - body
                                required:
                                  - type
                                  - required
                                  - properties
                              delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      percentage:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          maximum:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - maximum
                                      duration:
                                        type: object
                                        properties:
                                          minimum:
                                            type: integer
                                          type:
                                            type: string
                                        required:
                                          - minimum
                                          - type
                                      vars:
                                        type: object
                                        properties:
                                          maxItems:
                                            type: integer
                                          type:
                                            type: string
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                            required:
                                              - type
                                        required:
                                          - maxItems
                                          - type
                                          - items
                                    required:
                                      - percentage
                                      - duration
                                      - vars
                                required:
                                  - type
                                  - required
                                  - properties
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - abort
                              - delay
                              - _meta
                        required:
                          - minProperties
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  csrf:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              expires:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - description
                                  - default
                              key:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - description
                                  - default
                            required:
                              - _meta
                              - expires
                              - key
                              - name
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  openfunction:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              keepalive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              function_uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              keepalive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              keepalive_pool:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              authorization:
                                type: object
                                properties:
                                  service_token:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - service_token
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - keepalive_timeout
                              - function_uri
                              - keepalive
                              - keepalive_pool
                              - ssl_verify
                              - authorization
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  file-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              include_resp_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              path:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              include_resp_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - include_resp_body_expr
                              - log_format
                              - path
                              - include_resp_body
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  openid-connect:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              public_key:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              introspection_endpoint:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              introspection_endpoint_auth_method:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              client_id:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              realm:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              client_secret:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              post_logout_redirect_uri:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              unauth_action:
                                type: object
                                properties:
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - enum
                                  - type
                                  - description
                                  - default
                              token_signing_alg_values_expected:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              use_pkce:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              set_access_token_header:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              redirect_uri:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              access_token_in_authorization_header:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              logout_path:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              timeout:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - description
                                  - type
                                  - minimum
                                  - default
                              set_id_token_header:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              scope:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              discovery:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              set_userinfo_header:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              bearer_only:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              set_refresh_token_header:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              session:
                                type: object
                                properties:
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  type:
                                    type: string
                                  additionalProperties:
                                    type: boolean
                                  properties:
                                    type: object
                                    properties:
                                      secret:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          description:
                                            type: string
                                          minLength:
                                            type: integer
                                        required:
                                          - type
                                          - description
                                          - minLength
                                    required:
                                      - secret
                                required:
                                  - required
                                  - type
                                  - additionalProperties
                                  - properties
                            required:
                              - public_key
                              - introspection_endpoint
                              - introspection_endpoint_auth_method
                              - client_id
                              - realm
                              - client_secret
                              - post_logout_redirect_uri
                              - unauth_action
                              - token_signing_alg_values_expected
                              - use_pkce
                              - set_access_token_header
                              - _meta
                              - redirect_uri
                              - access_token_in_authorization_header
                              - logout_path
                              - timeout
                              - set_id_token_header
                              - scope
                              - discovery
                              - set_userinfo_header
                              - bearer_only
                              - ssl_verify
                              - set_refresh_token_header
                              - session
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  tencent-cloud-cls:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              secret_id:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              secret_key:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              sample_ratio:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  type:
                                    type: string
                                  minimum:
                                    type: number
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - type
                                  - minimum
                                  - default
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              cls_host:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              cls_topic:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              global_tag:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_resp_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - batch_max_size
                              - secret_id
                              - name
                              - secret_key
                              - buffer_duration
                              - retry_delay
                              - sample_ratio
                              - max_retry_count
                              - log_format
                              - cls_host
                              - cls_topic
                              - include_req_body
                              - global_tag
                              - inactive_timeout
                              - include_resp_body
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  hmac-auth:
                    type: object
                    properties:
                      priority:
                        type: integer
                      consumer_schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          title:
                            type: string
                          properties:
                            type: object
                            properties:
                              algorithm:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              clock_skew:
                                type: object
                                properties:
                                  default:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              signed_headers:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      maxLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - maxLength
                                      - type
                                  type:
                                    type: string
                                required:
                                  - items
                                  - type
                              secret_key:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              encode_uri_params:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: boolean
                                  title:
                                    type: string
                                required:
                                  - type
                                  - default
                                  - title
                              validate_request_body:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: boolean
                                  title:
                                    type: string
                                required:
                                  - type
                                  - default
                                  - title
                              max_req_body:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: integer
                                  title:
                                    type: string
                                required:
                                  - type
                                  - default
                                  - title
                              access_key:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              keep_headers:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: boolean
                                  title:
                                    type: string
                                required:
                                  - type
                                  - default
                                  - title
                            required:
                              - algorithm
                              - clock_skew
                              - signed_headers
                              - secret_key
                              - encode_uri_params
                              - validate_request_body
                              - max_req_body
                              - access_key
                              - keep_headers
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - title
                          - properties
                      type:
                        type: string
                      schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - _meta
                          type:
                            type: string
                          $comment:
                            type: string
                          title:
                            type: string
                        required:
                          - properties
                          - type
                          - $comment
                          - title
                      version:
                        type: number
                    required:
                      - priority
                      - consumer_schema
                      - type
                      - schema
                      - version
                  azure-functions:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              master_clientid:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              master_apikey:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - master_clientid
                              - master_apikey
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              keepalive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              function_uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              keepalive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              keepalive_pool:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              authorization:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      clientid:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      apikey:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - clientid
                                      - apikey
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - keepalive_timeout
                              - function_uri
                              - keepalive
                              - keepalive_pool
                              - ssl_verify
                              - authorization
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  body-transformer:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          anyOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              response:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      template:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      input_format:
                                        type: object
                                        properties:
                                          enum:
                                            type: array
                                            items:
                                              type: string
                                          type:
                                            type: string
                                        required:
                                          - enum
                                          - type
                                    required:
                                      - template
                                      - input_format
                                required:
                                  - type
                                  - required
                                  - properties
                              request:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      template:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      input_format:
                                        type: object
                                        properties:
                                          enum:
                                            type: array
                                            items:
                                              type: string
                                          type:
                                            type: string
                                        required:
                                          - enum
                                          - type
                                    required:
                                      - template
                                      - input_format
                                required:
                                  - type
                                  - required
                                  - properties
                            required:
                              - _meta
                              - response
                              - request
                        required:
                          - anyOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  degraphql:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              variables:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - type
                                  - minItems
                                  - items
                              query:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              operation_name:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                            required:
                              - _meta
                              - variables
                              - query
                              - operation_name
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  sls-logger:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              port:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              access_key_secret:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              project:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              logstore:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              access_key_id:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              host:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - batch_max_size
                              - port
                              - name
                              - buffer_duration
                              - access_key_secret
                              - project
                              - logstore
                              - access_key_id
                              - host
                              - max_retry_count
                              - retry_delay
                              - include_req_body
                              - log_format
                              - inactive_timeout
                              - timeout
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  grpc-transcode:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          $comment:
                            type: string
                          type:
                            type: string
                          additionalProperties:
                            type: boolean
                          properties:
                            type: object
                            properties:
                              status_detail_type:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              proto_id:
                                type: object
                                properties:
                                  anyOf:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        pattern:
                                          type: string
                                        minLength:
                                          type: integer
                                        maxLength:
                                          type: integer
                                        type:
                                          type: string
                                        minimum:
                                          type: integer
                                      required:
                                        - type
                                required:
                                  - anyOf
                              method:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              deadline:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - description
                                  - default
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              pb_option:
                                type: object
                                properties:
                                  default:
                                    type: array
                                    items:
                                      type: string
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      anyOf:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            type:
                                              type: string
                                            description:
                                              type: string
                                            enum:
                                              type: array
                                              items:
                                                type: string
                                          required:
                                            - type
                                            - description
                                            - enum
                                      type:
                                        type: string
                                    required:
                                      - anyOf
                                      - type
                                required:
                                  - default
                                  - type
                                  - minItems
                                  - items
                              show_status_in_body:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              service:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                            required:
                              - status_detail_type
                              - proto_id
                              - method
                              - deadline
                              - _meta
                              - pb_option
                              - show_status_in_body
                              - service
                        required:
                          - required
                          - $comment
                          - type
                          - additionalProperties
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  limit-req:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              rejected_code:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - type
                                  - minimum
                                  - default
                              rejected_msg:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - type
                              key_type:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              burst:
                                type: object
                                properties:
                                  minimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minimum
                                  - type
                              nodelay:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              key:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              rate:
                                type: object
                                properties:
                                  exclusiveMinimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - exclusiveMinimum
                                  - type
                              allow_degradation:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - rejected_code
                              - rejected_msg
                              - key_type
                              - burst
                              - nodelay
                              - key
                              - _meta
                              - rate
                              - allow_degradation
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  skywalking-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              endpoint_addr:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              service_name:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              service_instance_name:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - batch_max_size
                              - endpoint_addr
                              - inactive_timeout
                              - name
                              - buffer_duration
                              - service_name
                              - max_retry_count
                              - retry_delay
                              - include_req_body
                              - log_format
                              - service_instance_name
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  key-auth:
                    type: object
                    properties:
                      priority:
                        type: integer
                      consumer_schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          properties:
                            type: object
                            properties:
                              key:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - key
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - properties
                      type:
                        type: string
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              hide_credentials:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              header:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              query:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - hide_credentials
                              - _meta
                              - header
                              - query
                        required:
                          - type
                          - $comment
                          - properties
                      version:
                        type: number
                    required:
                      - priority
                      - consumer_schema
                      - type
                      - schema
                      - version
                  ext-plugin-pre-req:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              conf:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      required:
                                        type: array
                                        items:
                                          type: string
                                      properties:
                                        type: object
                                        properties:
                                          value:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                            required:
                                              - type
                                          name:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              maxLength:
                                                type: integer
                                              minLength:
                                                type: integer
                                            required:
                                              - type
                                              - maxLength
                                              - minLength
                                        required:
                                          - value
                                          - name
                                    required:
                                      - type
                                      - required
                                      - properties
                                required:
                                  - type
                                  - minItems
                                  - items
                              allow_degradation:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - conf
                              - allow_degradation
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  real-ip:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              trusted_addresses:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      anyOf:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            format:
                                              type: string
                                            type:
                                              type: string
                                            title:
                                              type: string
                                            pattern:
                                              type: string
                                          required:
                                            - type
                                            - title
                                            - format
                                            - pattern
                                    required:
                                      - anyOf
                                required:
                                  - type
                                  - minItems
                                  - items
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              source:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - type
                              recursive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - trusted_addresses
                              - _meta
                              - source
                              - recursive
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  limit-count:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          if:
                            type: object
                            properties:
                              properties:
                                type: object
                                properties:
                                  policy:
                                    type: object
                                    properties:
                                      enum:
                                        type: array
                                        items:
                                          type: string
                                    required:
                                      - enum
                                required:
                                  - policy
                            required:
                              - properties
                          else:
                            type: object
                            properties:
                              then:
                                type: object
                                properties:
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      redis_password:
                                        type: object
                                        properties:
                                          minLength:
                                            type: integer
                                          type:
                                            type: string
                                        required:
                                          - minLength
                                          - type
                                      redis_timeout:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          default:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - default
                                      redis_cluster_nodes:
                                        type: object
                                        properties:
                                          minItems:
                                            type: integer
                                          type:
                                            type: string
                                          items:
                                            type: object
                                            properties:
                                              minLength:
                                                type: integer
                                              maxLength:
                                                type: integer
                                              type:
                                                type: string
                                            required:
                                              - minLength
                                              - maxLength
                                              - type
                                        required:
                                          - minItems
                                          - type
                                          - items
                                      redis_cluster_name:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      redis_cluster_ssl:
                                        type: object
                                        properties:
                                          default:
                                            type: boolean
                                          type:
                                            type: string
                                        required:
                                          - default
                                          - type
                                      redis_cluster_ssl_verify:
                                        type: object
                                        properties:
                                          default:
                                            type: boolean
                                          type:
                                            type: string
                                        required:
                                          - default
                                          - type
                                    required:
                                      - redis_password
                                      - redis_timeout
                                      - redis_cluster_nodes
                                      - redis_cluster_name
                                      - redis_cluster_ssl
                                      - redis_cluster_ssl_verify
                                required:
                                  - required
                                  - properties
                              if:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      policy:
                                        type: object
                                        properties:
                                          enum:
                                            type: array
                                            items:
                                              type: string
                                        required:
                                          - enum
                                    required:
                                      - policy
                                required:
                                  - properties
                            required:
                              - then
                              - if
                          required:
                            type: array
                            items:
                              type: string
                          then:
                            type: object
                            properties:
                              required:
                                type: array
                                items:
                                  type: string
                              properties:
                                type: object
                                properties:
                                  redis_password:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - type
                                  redis_database:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      minimum:
                                        type: integer
                                      default:
                                        type: integer
                                    required:
                                      - type
                                      - minimum
                                      - default
                                  redis_timeout:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      minimum:
                                        type: integer
                                      default:
                                        type: integer
                                    required:
                                      - type
                                      - minimum
                                      - default
                                  redis_host:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - type
                                  redis_port:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      minimum:
                                        type: integer
                                      default:
                                        type: integer
                                    required:
                                      - type
                                      - minimum
                                      - default
                                required:
                                  - redis_password
                                  - redis_database
                                  - redis_timeout
                                  - redis_host
                                  - redis_port
                            required:
                              - required
                              - properties
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              rejected_code:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - type
                                  - minimum
                                  - default
                              time_window:
                                type: object
                                properties:
                                  exclusiveMinimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - exclusiveMinimum
                                  - type
                              group:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              key:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              count:
                                type: object
                                properties:
                                  exclusiveMinimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - exclusiveMinimum
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              rejected_msg:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - type
                              key_type:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              show_limit_quota_header:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              policy:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              allow_degradation:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - rejected_code
                              - time_window
                              - group
                              - key
                              - count
                              - _meta
                              - rejected_msg
                              - key_type
                              - show_limit_quota_header
                              - policy
                              - allow_degradation
                        required:
                          - if
                          - else
                          - required
                          - then
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  consumer-restriction:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          anyOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              blacklist:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              rejected_msg:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              rejected_code:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              type:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              allowed_by_methods:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      properties:
                                        type: object
                                        properties:
                                          user:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                            required:
                                              - type
                                          methods:
                                            type: object
                                            properties:
                                              minItems:
                                                type: integer
                                              type:
                                                type: string
                                              items:
                                                type: object
                                                properties:
                                                  type:
                                                    type: string
                                                  description:
                                                    type: string
                                                  enum:
                                                    type: array
                                                    items:
                                                      type: string
                                                required:
                                                  - type
                                                  - description
                                                  - enum
                                            required:
                                              - minItems
                                              - type
                                              - items
                                        required:
                                          - user
                                          - methods
                                      type:
                                        type: string
                                    required:
                                      - properties
                                      - type
                                  type:
                                    type: string
                                required:
                                  - items
                                  - type
                              whitelist:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                            required:
                              - blacklist
                              - rejected_msg
                              - _meta
                              - rejected_code
                              - type
                              - allowed_by_methods
                              - whitelist
                        required:
                          - anyOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  client-control:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              max_body_size:
                                type: object
                                properties:
                                  minimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minimum
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - max_body_size
                              - _meta
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  authz-casdoor:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              callback_url:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - type
                              client_id:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              endpoint_addr:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              client_secret:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - callback_url
                              - client_id
                              - endpoint_addr
                              - _meta
                              - client_secret
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  zipkin:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              service_name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - description
                                  - default
                              endpoint:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              sample_ratio:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: number
                                  maximum:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - maximum
                              span_version:
                                type: object
                                properties:
                                  default:
                                    type: integer
                                  enum:
                                    type: array
                                    items:
                                      type: integer
                                required:
                                  - default
                                  - enum
                              server_addr:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                  description:
                                    type: string
                                required:
                                  - pattern
                                  - type
                                  - description
                            required:
                              - _meta
                              - service_name
                              - endpoint
                              - sample_ratio
                              - span_version
                              - server_addr
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  mocking:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          anyOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              response_status:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              response_schema:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              with_mock_header:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              content_type:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              delay:
                                type: object
                                properties:
                                  default:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              response_example:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - _meta
                              - response_status
                              - response_schema
                              - with_mock_header
                              - content_type
                              - delay
                              - response_example
                        required:
                          - anyOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  rocketmq-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              meta_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - enum
                                  - default
                              secret_key:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              topic:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              include_resp_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              access_key:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              include_resp_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              tag:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              nameserver_list:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              use_tls:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              key:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - meta_format
                              - secret_key
                              - topic
                              - name
                              - include_resp_body_expr
                              - log_format
                              - access_key
                              - include_resp_body
                              - tag
                              - nameserver_list
                              - use_tls
                              - key
                              - _meta
                              - batch_max_size
                              - inactive_timeout
                              - max_retry_count
                              - retry_delay
                              - include_req_body
                              - buffer_duration
                              - include_req_body_expr
                              - timeout
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  basic-auth:
                    type: object
                    properties:
                      priority:
                        type: integer
                      consumer_schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          title:
                            type: string
                          properties:
                            type: object
                            properties:
                              password:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              username:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - password
                              - username
                        required:
                          - required
                          - encrypt_fields
                          - type
                          - title
                          - properties
                      type:
                        type: string
                      schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              hide_credentials:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - hide_credentials
                              - _meta
                          type:
                            type: string
                          $comment:
                            type: string
                          title:
                            type: string
                        required:
                          - properties
                          - type
                          - $comment
                          - title
                      version:
                        type: number
                    required:
                      - priority
                      - consumer_schema
                      - type
                      - schema
                      - version
                  inspect:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - _meta
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  ua-restriction:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              message:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  default:
                                    type: string
                                required:
                                  - type
                                  - minLength
                                  - maxLength
                                  - default
                              allowlist:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              bypass_missing:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              denylist:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                            required:
                              - _meta
                              - message
                              - allowlist
                              - bypass_missing
                              - denylist
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  http-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              concat_method:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - enum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              uri:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - type
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              auth_header:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              include_resp_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_resp_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - batch_max_size
                              - include_req_body
                              - name
                              - concat_method
                              - buffer_duration
                              - retry_delay
                              - uri
                              - ssl_verify
                              - timeout
                              - max_retry_count
                              - auth_header
                              - include_resp_body_expr
                              - log_format
                              - inactive_timeout
                              - include_resp_body
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  public-api:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - _meta
                              - uri
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  aws-lambda:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              keepalive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              function_uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              keepalive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              keepalive_pool:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              authorization:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      iam:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          required:
                                            type: array
                                            items:
                                              type: string
                                          properties:
                                            type: object
                                            properties:
                                              secretkey:
                                                type: object
                                                properties:
                                                  description:
                                                    type: string
                                                  type:
                                                    type: string
                                                required:
                                                  - description
                                                  - type
                                              aws_region:
                                                type: object
                                                properties:
                                                  type:
                                                    type: string
                                                  description:
                                                    type: string
                                                  default:
                                                    type: string
                                                required:
                                                  - type
                                                  - description
                                                  - default
                                              accesskey:
                                                type: object
                                                properties:
                                                  description:
                                                    type: string
                                                  type:
                                                    type: string
                                                required:
                                                  - description
                                                  - type
                                              service:
                                                type: object
                                                properties:
                                                  type:
                                                    type: string
                                                  description:
                                                    type: string
                                                  default:
                                                    type: string
                                                required:
                                                  - type
                                                  - description
                                                  - default
                                            required:
                                              - secretkey
                                              - aws_region
                                              - accesskey
                                              - service
                                        required:
                                          - type
                                          - required
                                          - properties
                                      apikey:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - iam
                                      - apikey
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - keepalive_timeout
                              - function_uri
                              - keepalive
                              - keepalive_pool
                              - ssl_verify
                              - authorization
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  redirect:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          oneOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              http_to_https:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              encode_uri:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              append_query_string:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              ret_code:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              regex_uri:
                                type: object
                                properties:
                                  maxItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      description:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - description
                                      - type
                                  minItems:
                                    type: integer
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - maxItems
                                  - items
                                  - minItems
                                  - description
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              uri:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  minLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - minLength
                                  - type
                            required:
                              - http_to_https
                              - encode_uri
                              - append_query_string
                              - ret_code
                              - regex_uri
                              - _meta
                              - uri
                        required:
                          - oneOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  openwhisk:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              service_token:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              keepalive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              keepalive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              keepalive_pool:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              api_host:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              namespace:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                  maxLength:
                                    type: integer
                                required:
                                  - pattern
                                  - type
                                  - maxLength
                              result:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              package:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                  maxLength:
                                    type: integer
                                required:
                                  - pattern
                                  - type
                                  - maxLength
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              action:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                  maxLength:
                                    type: integer
                                required:
                                  - pattern
                                  - type
                                  - maxLength
                              timeout:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  description:
                                    type: string
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - description
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - service_token
                              - keepalive
                              - keepalive_timeout
                              - keepalive_pool
                              - api_host
                              - namespace
                              - result
                              - package
                              - ssl_verify
                              - action
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  ldap-auth:
                    type: object
                    properties:
                      priority:
                        type: integer
                      consumer_schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          properties:
                            type: object
                            properties:
                              user_dn:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - user_dn
                          title:
                            type: string
                        required:
                          - required
                          - type
                          - properties
                          - title
                      type:
                        type: string
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          title:
                            type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              ldap_uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              uid:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              tls_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              use_tls:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              base_dn:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - ldap_uri
                              - uid
                              - tls_verify
                              - _meta
                              - use_tls
                              - base_dn
                        required:
                          - required
                          - title
                          - type
                          - $comment
                          - properties
                      version:
                        type: number
                    required:
                      - priority
                      - consumer_schema
                      - type
                      - schema
                      - version
                  echo:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          minProperties:
                            type: integer
                          anyOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              headers:
                                type: object
                                properties:
                                  minProperties:
                                    type: integer
                                  type:
                                    type: string
                                  description:
                                    type: string
                                required:
                                  - minProperties
                                  - type
                                  - description
                              after_body:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              body:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              before_body:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - description
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - headers
                              - after_body
                              - body
                              - before_body
                              - _meta
                        required:
                          - minProperties
                          - anyOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  splunk-hec-logging:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              endpoint:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      timeout:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          default:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - default
                                      channel:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      uri:
                                        type: object
                                        properties:
                                          pattern:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - pattern
                                          - type
                                      token:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - timeout
                                      - channel
                                      - uri
                                      - token
                                required:
                                  - type
                                  - required
                                  - properties
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                            required:
                              - _meta
                              - batch_max_size
                              - ssl_verify
                              - endpoint
                              - max_retry_count
                              - retry_delay
                              - buffer_duration
                              - log_format
                              - inactive_timeout
                              - name
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  proxy-mirror:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              host:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - type
                              path_concat_mode:
                                type: object
                                properties:
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - enum
                                  - type
                                  - description
                                  - default
                              path:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - type
                              sample_ratio:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  type:
                                    type: string
                                  minimum:
                                    type: number
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - host
                              - path_concat_mode
                              - path
                              - sample_ratio
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  proxy-rewrite:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          minProperties:
                            type: integer
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              headers:
                                type: object
                                properties:
                                  description:
                                    type: string
                                  oneOf:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        minProperties:
                                          type: integer
                                        type:
                                          type: string
                                        additionalProperties:
                                          type: boolean
                                        properties:
                                          type: object
                                          properties:
                                            add:
                                              type: object
                                              properties:
                                                minProperties:
                                                  type: integer
                                                type:
                                                  type: string
                                                patternProperties:
                                                  type: object
                                                  properties:
                                                    ^[^:]+$:
                                                      type: object
                                                      properties:
                                                        oneOf:
                                                          type: array
                                                          items:
                                                            type: object
                                                            properties:
                                                              type:
                                                                type: string
                                                            required:
                                                              - type
                                                      required:
                                                        - oneOf
                                                  required:
                                                    - ^[^:]+$
                                              required:
                                                - minProperties
                                                - type
                                                - patternProperties
                                            set:
                                              type: object
                                              properties:
                                                minProperties:
                                                  type: integer
                                                type:
                                                  type: string
                                                patternProperties:
                                                  type: object
                                                  properties:
                                                    ^[^:]+$:
                                                      type: object
                                                      properties:
                                                        oneOf:
                                                          type: array
                                                          items:
                                                            type: object
                                                            properties:
                                                              type:
                                                                type: string
                                                            required:
                                                              - type
                                                      required:
                                                        - oneOf
                                                  required:
                                                    - ^[^:]+$
                                              required:
                                                - minProperties
                                                - type
                                                - patternProperties
                                            remove:
                                              type: object
                                              properties:
                                                minItems:
                                                  type: integer
                                                type:
                                                  type: string
                                                items:
                                                  type: object
                                                  properties:
                                                    pattern:
                                                      type: string
                                                    type:
                                                      type: string
                                                  required:
                                                    - pattern
                                                    - type
                                              required:
                                                - minItems
                                                - type
                                                - items
                                          required:
                                            - add
                                            - set
                                            - remove
                                        patternProperties:
                                          type: object
                                          properties:
                                            ^[^:]+$:
                                              type: object
                                              properties:
                                                oneOf:
                                                  type: array
                                                  items:
                                                    type: object
                                                    properties:
                                                      type:
                                                        type: string
                                                    required:
                                                      - type
                                              required:
                                                - oneOf
                                          required:
                                            - ^[^:]+$
                                      required:
                                        - minProperties
                                        - type
                                required:
                                  - description
                                  - oneOf
                              host:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                  description:
                                    type: string
                                required:
                                  - pattern
                                  - type
                                  - description
                              method:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - description
                                  - enum
                              regex_uri:
                                type: object
                                properties:
                                  maxItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      description:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - description
                                      - type
                                  minItems:
                                    type: integer
                                  description:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - maxItems
                                  - items
                                  - minItems
                                  - description
                                  - type
                              use_real_request_uri_unsafe:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: boolean
                                required:
                                  - type
                                  - description
                                  - default
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              uri:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                  maxLength:
                                    type: integer
                                  description:
                                    type: string
                                required:
                                  - minLength
                                  - pattern
                                  - type
                                  - maxLength
                                  - description
                            required:
                              - headers
                              - host
                              - method
                              - regex_uri
                              - use_real_request_uri_unsafe
                              - _meta
                              - uri
                        required:
                          - minProperties
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  example-plugin:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          type:
                            type: string
                          required:
                            type: array
                            items:
                              type: string
                          properties:
                            type: object
                            properties:
                              ikey:
                                type: object
                                properties:
                                  minimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minimum
                                  - type
                              skey:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - ikey
                              - skey
                        required:
                          - type
                          - required
                          - properties
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              i:
                                type: object
                                properties:
                                  minimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minimum
                                  - type
                              ip:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              t:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minItems
                                  - type
                              s:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              port:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - i
                              - ip
                              - _meta
                              - t
                              - s
                              - port
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  prometheus:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              prefer_name:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - prefer_name
                              - _meta
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  opa:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              with_route:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              with_service:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              keepalive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              keepalive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              host:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              with_consumer:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              keepalive_pool:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              policy:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              timeout:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  description:
                                    type: string
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - description
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - with_route
                              - with_service
                              - keepalive
                              - keepalive_timeout
                              - host
                              - with_consumer
                              - keepalive_pool
                              - ssl_verify
                              - policy
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  traffic-split:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              rules:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      properties:
                                        type: object
                                        properties:
                                          weighted_upstreams:
                                            type: object
                                            properties:
                                              maxItems:
                                                type: integer
                                              items:
                                                type: object
                                                properties:
                                                  properties:
                                                    type: object
                                                    properties:
                                                      upstream:
                                                        type: object
                                                        properties:
                                                          oneOf:
                                                            type: array
                                                            items:
                                                              type: object
                                                              properties:
                                                                required:
                                                                  type: array
                                                                  items:
                                                                    type: string
                                                              required:
                                                                - required
                                                          type:
                                                            type: string
                                                          properties:
                                                            type: object
                                                            properties:
                                                              nodes:
                                                                type: object
                                                                properties:
                                                                  anyOf:
                                                                    type: array
                                                                    items:
                                                                      type: object
                                                                      properties:
                                                                        patternProperties:
                                                                          type: object
                                                                          properties:
                                                                            .*:
                                                                              type: object
                                                                              properties:
                                                                                type:
                                                                                  type: string
                                                                                description:
                                                                                  type: string
                                                                                minimum:
                                                                                  type: integer
                                                                              required:
                                                                                - type
                                                                                - description
                                                                                - minimum
                                                                          required:
                                                                            - .*
                                                                        type:
                                                                          type: string
                                                                        items:
                                                                          type: object
                                                                          properties:
                                                                            type:
                                                                              type: string
                                                                            required:
                                                                              type: array
                                                                              items:
                                                                                type: string
                                                                            properties:
                                                                              type: object
                                                                              properties:
                                                                                host:
                                                                                  type: object
                                                                                  properties:
                                                                                    pattern:
                                                                                      type: string
                                                                                    type:
                                                                                      type: string
                                                                                  required:
                                                                                    - pattern
                                                                                    - type
                                                                                priority:
                                                                                  type: object
                                                                                  properties:
                                                                                    type:
                                                                                      type: string
                                                                                    description:
                                                                                      type: string
                                                                                    default:
                                                                                      type: integer
                                                                                  required:
                                                                                    - type
                                                                                    - description
                                                                                    - default
                                                                                metadata:
                                                                                  type: object
                                                                                  properties:
                                                                                    description:
                                                                                      type: string
                                                                                    type:
                                                                                      type: string
                                                                                  required:
                                                                                    - description
                                                                                    - type
                                                                                weight:
                                                                                  type: object
                                                                                  properties:
                                                                                    type:
                                                                                      type: string
                                                                                    description:
                                                                                      type: string
                                                                                    minimum:
                                                                                      type: integer
                                                                                  required:
                                                                                    - type
                                                                                    - description
                                                                                    - minimum
                                                                                port:
                                                                                  type: object
                                                                                  properties:
                                                                                    type:
                                                                                      type: string
                                                                                    description:
                                                                                      type: string
                                                                                    minimum:
                                                                                      type: integer
                                                                                  required:
                                                                                    - type
                                                                                    - description
                                                                                    - minimum
                                                                              required:
                                                                                - host
                                                                                - priority
                                                                                - metadata
                                                                                - weight
                                                                                - port
                                                                          required:
                                                                            - type
                                                                            - required
                                                                            - properties
                                                                      required:
                                                                        - type
                                                                required:
                                                                  - anyOf
                                                              discovery_args:
                                                                type: object
                                                                properties:
                                                                  properties:
                                                                    type: object
                                                                    properties:
                                                                      namespace_id:
                                                                        type: object
                                                                        properties:
                                                                          description:
                                                                            type: string
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - description
                                                                          - type
                                                                      group_name:
                                                                        type: object
                                                                        properties:
                                                                          description:
                                                                            type: string
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - description
                                                                          - type
                                                                    required:
                                                                      - namespace_id
                                                                      - group_name
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - properties
                                                                  - type
                                                              type:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                  description:
                                                                    type: string
                                                                  default:
                                                                    type: string
                                                                required:
                                                                  - type
                                                                  - description
                                                                  - default
                                                              scheme:
                                                                type: object
                                                                properties:
                                                                  default:
                                                                    type: string
                                                                  description:
                                                                    type: string
                                                                  enum:
                                                                    type: array
                                                                    items:
                                                                      type: string
                                                                required:
                                                                  - default
                                                                  - description
                                                                  - enum
                                                              id:
                                                                type: object
                                                                properties:
                                                                  anyOf:
                                                                    type: array
                                                                    items:
                                                                      type: object
                                                                      properties:
                                                                        pattern:
                                                                          type: string
                                                                        minLength:
                                                                          type: integer
                                                                        maxLength:
                                                                          type: integer
                                                                        type:
                                                                          type: string
                                                                        minimum:
                                                                          type: integer
                                                                      required:
                                                                        - type
                                                                required:
                                                                  - anyOf
                                                              name:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                  maxLength:
                                                                    type: integer
                                                                  minLength:
                                                                    type: integer
                                                                required:
                                                                  - type
                                                                  - maxLength
                                                                  - minLength
                                                              create_time:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - type
                                                              retries:
                                                                type: object
                                                                properties:
                                                                  minimum:
                                                                    type: integer
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - minimum
                                                                  - type
                                                              labels:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                  description:
                                                                    type: string
                                                                  patternProperties:
                                                                    type: object
                                                                    properties:
                                                                      .*:
                                                                        type: object
                                                                        properties:
                                                                          minLength:
                                                                            type: integer
                                                                          pattern:
                                                                            type: string
                                                                          type:
                                                                            type: string
                                                                          description:
                                                                            type: string
                                                                          maxLength:
                                                                            type: integer
                                                                        required:
                                                                          - minLength
                                                                          - pattern
                                                                          - type
                                                                          - description
                                                                          - maxLength
                                                                    required:
                                                                      - .*
                                                                required:
                                                                  - type
                                                                  - description
                                                                  - patternProperties
                                                              upstream_host:
                                                                type: object
                                                                properties:
                                                                  pattern:
                                                                    type: string
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - pattern
                                                                  - type
                                                              tls:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                  dependencies:
                                                                    type: object
                                                                    properties:
                                                                      client_key:
                                                                        type: object
                                                                        properties:
                                                                          not:
                                                                            type: object
                                                                            properties:
                                                                              required:
                                                                                type: array
                                                                                items:
                                                                                  type: string
                                                                            required:
                                                                              - required
                                                                          required:
                                                                            type: array
                                                                            items:
                                                                              type: string
                                                                        required:
                                                                          - not
                                                                          - required
                                                                      client_cert_id:
                                                                        type: object
                                                                        properties:
                                                                          not:
                                                                            type: object
                                                                            properties:
                                                                              required:
                                                                                type: array
                                                                                items:
                                                                                  type: string
                                                                            required:
                                                                              - required
                                                                        required:
                                                                          - not
                                                                      client_cert:
                                                                        type: object
                                                                        properties:
                                                                          not:
                                                                            type: object
                                                                            properties:
                                                                              required:
                                                                                type: array
                                                                                items:
                                                                                  type: string
                                                                            required:
                                                                              - required
                                                                          required:
                                                                            type: array
                                                                            items:
                                                                              type: string
                                                                        required:
                                                                          - not
                                                                          - required
                                                                    required:
                                                                      - client_key
                                                                      - client_cert_id
                                                                      - client_cert
                                                                  properties:
                                                                    type: object
                                                                    properties:
                                                                      client_key:
                                                                        type: object
                                                                        properties:
                                                                          minLength:
                                                                            type: integer
                                                                          maxLength:
                                                                            type: integer
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - minLength
                                                                          - maxLength
                                                                          - type
                                                                      verify:
                                                                        type: object
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                          description:
                                                                            type: string
                                                                          default:
                                                                            type: boolean
                                                                        required:
                                                                          - type
                                                                          - description
                                                                          - default
                                                                      client_cert_id:
                                                                        type: object
                                                                        properties:
                                                                          anyOf:
                                                                            type: array
                                                                            items:
                                                                              type: object
                                                                              properties:
                                                                                pattern:
                                                                                  type: string
                                                                                minLength:
                                                                                  type: integer
                                                                                maxLength:
                                                                                  type: integer
                                                                                type:
                                                                                  type: string
                                                                                minimum:
                                                                                  type: integer
                                                                              required:
                                                                                - type
                                                                        required:
                                                                          - anyOf
                                                                      client_cert:
                                                                        type: object
                                                                        properties:
                                                                          minLength:
                                                                            type: integer
                                                                          maxLength:
                                                                            type: integer
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - minLength
                                                                          - maxLength
                                                                          - type
                                                                    required:
                                                                      - client_key
                                                                      - verify
                                                                      - client_cert_id
                                                                      - client_cert
                                                                required:
                                                                  - type
                                                                  - dependencies
                                                                  - properties
                                                              update_time:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - type
                                                              key:
                                                                type: object
                                                                properties:
                                                                  description:
                                                                    type: string
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - description
                                                                  - type
                                                              hash_on:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                  enum:
                                                                    type: array
                                                                    items:
                                                                      type: string
                                                                  default:
                                                                    type: string
                                                                required:
                                                                  - type
                                                                  - enum
                                                                  - default
                                                              desc:
                                                                type: object
                                                                properties:
                                                                  maxLength:
                                                                    type: integer
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - maxLength
                                                                  - type
                                                              service_name:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                  maxLength:
                                                                    type: integer
                                                                  minLength:
                                                                    type: integer
                                                                required:
                                                                  - type
                                                                  - maxLength
                                                                  - minLength
                                                              pass_host:
                                                                type: object
                                                                properties:
                                                                  default:
                                                                    type: string
                                                                  type:
                                                                    type: string
                                                                  description:
                                                                    type: string
                                                                  enum:
                                                                    type: array
                                                                    items:
                                                                      type: string
                                                                required:
                                                                  - default
                                                                  - type
                                                                  - description
                                                                  - enum
                                                              timeout:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                  required:
                                                                    type: array
                                                                    items:
                                                                      type: string
                                                                  properties:
                                                                    type: object
                                                                    properties:
                                                                      send:
                                                                        type: object
                                                                        properties:
                                                                          exclusiveMinimum:
                                                                            type: integer
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - exclusiveMinimum
                                                                          - type
                                                                      read:
                                                                        type: object
                                                                        properties:
                                                                          exclusiveMinimum:
                                                                            type: integer
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - exclusiveMinimum
                                                                          - type
                                                                      connect:
                                                                        type: object
                                                                        properties:
                                                                          exclusiveMinimum:
                                                                            type: integer
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - exclusiveMinimum
                                                                          - type
                                                                    required:
                                                                      - send
                                                                      - read
                                                                      - connect
                                                                required:
                                                                  - type
                                                                  - required
                                                                  - properties
                                                              keepalive_pool:
                                                                type: object
                                                                properties:
                                                                  properties:
                                                                    type: object
                                                                    properties:
                                                                      requests:
                                                                        type: object
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                          minimum:
                                                                            type: integer
                                                                          default:
                                                                            type: integer
                                                                        required:
                                                                          - type
                                                                          - minimum
                                                                          - default
                                                                      idle_timeout:
                                                                        type: object
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                          minimum:
                                                                            type: integer
                                                                          default:
                                                                            type: integer
                                                                        required:
                                                                          - type
                                                                          - minimum
                                                                          - default
                                                                      size:
                                                                        type: object
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                          minimum:
                                                                            type: integer
                                                                          default:
                                                                            type: integer
                                                                        required:
                                                                          - type
                                                                          - minimum
                                                                          - default
                                                                    required:
                                                                      - requests
                                                                      - idle_timeout
                                                                      - size
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - properties
                                                                  - type
                                                              retry_timeout:
                                                                type: object
                                                                properties:
                                                                  minimum:
                                                                    type: integer
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - minimum
                                                                  - type
                                                              checks:
                                                                type: object
                                                                properties:
                                                                  type:
                                                                    type: string
                                                                  anyOf:
                                                                    type: array
                                                                    items:
                                                                      type: object
                                                                      properties:
                                                                        required:
                                                                          type: array
                                                                          items:
                                                                            type: string
                                                                      required:
                                                                        - required
                                                                  properties:
                                                                    type: object
                                                                    properties:
                                                                      passive:
                                                                        type: object
                                                                        properties:
                                                                          properties:
                                                                            type: object
                                                                            properties:
                                                                              type:
                                                                                type: object
                                                                                properties:
                                                                                  type:
                                                                                    type: string
                                                                                  default:
                                                                                    type: string
                                                                                  enum:
                                                                                    type: array
                                                                                    items:
                                                                                      type: string
                                                                                required:
                                                                                  - type
                                                                                  - default
                                                                                  - enum
                                                                              healthy:
                                                                                type: object
                                                                                properties:
                                                                                  properties:
                                                                                    type: object
                                                                                    properties:
                                                                                      successes:
                                                                                        type: object
                                                                                        properties:
                                                                                          maximum:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - maximum
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                      http_statuses:
                                                                                        type: object
                                                                                        properties:
                                                                                          items:
                                                                                            type: object
                                                                                            properties:
                                                                                              type:
                                                                                                type: string
                                                                                              minimum:
                                                                                                type: integer
                                                                                              maximum:
                                                                                                type: integer
                                                                                            required:
                                                                                              - type
                                                                                              - minimum
                                                                                              - maximum
                                                                                          default:
                                                                                            type: array
                                                                                            items:
                                                                                              type: integer
                                                                                          minItems:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          uniqueItems:
                                                                                            type: boolean
                                                                                        required:
                                                                                          - items
                                                                                          - default
                                                                                          - minItems
                                                                                          - type
                                                                                          - uniqueItems
                                                                                    required:
                                                                                      - successes
                                                                                      - http_statuses
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - properties
                                                                                  - type
                                                                              unhealthy:
                                                                                type: object
                                                                                properties:
                                                                                  properties:
                                                                                    type: object
                                                                                    properties:
                                                                                      timeouts:
                                                                                        type: object
                                                                                        properties:
                                                                                          maximum:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - maximum
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                      http_statuses:
                                                                                        type: object
                                                                                        properties:
                                                                                          items:
                                                                                            type: object
                                                                                            properties:
                                                                                              type:
                                                                                                type: string
                                                                                              minimum:
                                                                                                type: integer
                                                                                              maximum:
                                                                                                type: integer
                                                                                            required:
                                                                                              - type
                                                                                              - minimum
                                                                                              - maximum
                                                                                          default:
                                                                                            type: array
                                                                                            items:
                                                                                              type: integer
                                                                                          minItems:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          uniqueItems:
                                                                                            type: boolean
                                                                                        required:
                                                                                          - items
                                                                                          - default
                                                                                          - minItems
                                                                                          - type
                                                                                          - uniqueItems
                                                                                      http_failures:
                                                                                        type: object
                                                                                        properties:
                                                                                          maximum:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - maximum
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                      tcp_failures:
                                                                                        type: object
                                                                                        properties:
                                                                                          maximum:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - maximum
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                    required:
                                                                                      - timeouts
                                                                                      - http_statuses
                                                                                      - http_failures
                                                                                      - tcp_failures
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - properties
                                                                                  - type
                                                                            required:
                                                                              - type
                                                                              - healthy
                                                                              - unhealthy
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - properties
                                                                          - type
                                                                      active:
                                                                        type: object
                                                                        properties:
                                                                          properties:
                                                                            type: object
                                                                            properties:
                                                                              req_headers:
                                                                                type: object
                                                                                properties:
                                                                                  minItems:
                                                                                    type: integer
                                                                                  type:
                                                                                    type: string
                                                                                  items:
                                                                                    type: object
                                                                                    properties:
                                                                                      uniqueItems:
                                                                                        type: boolean
                                                                                      type:
                                                                                        type: string
                                                                                    required:
                                                                                      - uniqueItems
                                                                                      - type
                                                                                required:
                                                                                  - minItems
                                                                                  - type
                                                                                  - items
                                                                              type:
                                                                                type: object
                                                                                properties:
                                                                                  type:
                                                                                    type: string
                                                                                  default:
                                                                                    type: string
                                                                                  enum:
                                                                                    type: array
                                                                                    items:
                                                                                      type: string
                                                                                required:
                                                                                  - type
                                                                                  - default
                                                                                  - enum
                                                                              healthy:
                                                                                type: object
                                                                                properties:
                                                                                  properties:
                                                                                    type: object
                                                                                    properties:
                                                                                      http_statuses:
                                                                                        type: object
                                                                                        properties:
                                                                                          items:
                                                                                            type: object
                                                                                            properties:
                                                                                              type:
                                                                                                type: string
                                                                                              minimum:
                                                                                                type: integer
                                                                                              maximum:
                                                                                                type: integer
                                                                                            required:
                                                                                              - type
                                                                                              - minimum
                                                                                              - maximum
                                                                                          default:
                                                                                            type: array
                                                                                            items:
                                                                                              type: integer
                                                                                          minItems:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          uniqueItems:
                                                                                            type: boolean
                                                                                        required:
                                                                                          - items
                                                                                          - default
                                                                                          - minItems
                                                                                          - type
                                                                                          - uniqueItems
                                                                                      successes:
                                                                                        type: object
                                                                                        properties:
                                                                                          maximum:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - maximum
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                      interval:
                                                                                        type: object
                                                                                        properties:
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                    required:
                                                                                      - http_statuses
                                                                                      - successes
                                                                                      - interval
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - properties
                                                                                  - type
                                                                              port:
                                                                                type: object
                                                                                properties:
                                                                                  type:
                                                                                    type: string
                                                                                  minimum:
                                                                                    type: integer
                                                                                  maximum:
                                                                                    type: integer
                                                                                required:
                                                                                  - type
                                                                                  - minimum
                                                                                  - maximum
                                                                              host:
                                                                                type: object
                                                                                properties:
                                                                                  pattern:
                                                                                    type: string
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - pattern
                                                                                  - type
                                                                              concurrency:
                                                                                type: object
                                                                                properties:
                                                                                  default:
                                                                                    type: integer
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - default
                                                                                  - type
                                                                              http_path:
                                                                                type: object
                                                                                properties:
                                                                                  default:
                                                                                    type: string
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - default
                                                                                  - type
                                                                              https_verify_certificate:
                                                                                type: object
                                                                                properties:
                                                                                  default:
                                                                                    type: boolean
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - default
                                                                                  - type
                                                                              unhealthy:
                                                                                type: object
                                                                                properties:
                                                                                  properties:
                                                                                    type: object
                                                                                    properties:
                                                                                      timeouts:
                                                                                        type: object
                                                                                        properties:
                                                                                          maximum:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - maximum
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                      http_statuses:
                                                                                        type: object
                                                                                        properties:
                                                                                          items:
                                                                                            type: object
                                                                                            properties:
                                                                                              type:
                                                                                                type: string
                                                                                              minimum:
                                                                                                type: integer
                                                                                              maximum:
                                                                                                type: integer
                                                                                            required:
                                                                                              - type
                                                                                              - minimum
                                                                                              - maximum
                                                                                          default:
                                                                                            type: array
                                                                                            items:
                                                                                              type: integer
                                                                                          minItems:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          uniqueItems:
                                                                                            type: boolean
                                                                                        required:
                                                                                          - items
                                                                                          - default
                                                                                          - minItems
                                                                                          - type
                                                                                          - uniqueItems
                                                                                      interval:
                                                                                        type: object
                                                                                        properties:
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                      http_failures:
                                                                                        type: object
                                                                                        properties:
                                                                                          maximum:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - maximum
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                      tcp_failures:
                                                                                        type: object
                                                                                        properties:
                                                                                          maximum:
                                                                                            type: integer
                                                                                          type:
                                                                                            type: string
                                                                                          minimum:
                                                                                            type: integer
                                                                                          default:
                                                                                            type: integer
                                                                                        required:
                                                                                          - maximum
                                                                                          - type
                                                                                          - minimum
                                                                                          - default
                                                                                    required:
                                                                                      - timeouts
                                                                                      - http_statuses
                                                                                      - interval
                                                                                      - http_failures
                                                                                      - tcp_failures
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - properties
                                                                                  - type
                                                                              timeout:
                                                                                type: object
                                                                                properties:
                                                                                  default:
                                                                                    type: integer
                                                                                  type:
                                                                                    type: string
                                                                                required:
                                                                                  - default
                                                                                  - type
                                                                            required:
                                                                              - req_headers
                                                                              - type
                                                                              - healthy
                                                                              - port
                                                                              - host
                                                                              - concurrency
                                                                              - http_path
                                                                              - https_verify_certificate
                                                                              - unhealthy
                                                                              - timeout
                                                                          type:
                                                                            type: string
                                                                        required:
                                                                          - properties
                                                                          - type
                                                                    required:
                                                                      - passive
                                                                      - active
                                                                required:
                                                                  - type
                                                                  - anyOf
                                                                  - properties
                                                              discovery_type:
                                                                type: object
                                                                properties:
                                                                  description:
                                                                    type: string
                                                                  type:
                                                                    type: string
                                                                required:
                                                                  - description
                                                                  - type
                                                            required:
                                                              - nodes
                                                              - discovery_args
                                                              - type
                                                              - scheme
                                                              - id
                                                              - name
                                                              - create_time
                                                              - retries
                                                              - labels
                                                              - upstream_host
                                                              - tls
                                                              - update_time
                                                              - key
                                                              - hash_on
                                                              - desc
                                                              - service_name
                                                              - pass_host
                                                              - timeout
                                                              - keepalive_pool
                                                              - retry_timeout
                                                              - checks
                                                              - discovery_type
                                                        required:
                                                          - oneOf
                                                          - type
                                                          - properties
                                                      weight:
                                                        type: object
                                                        properties:
                                                          minimum:
                                                            type: integer
                                                          type:
                                                            type: string
                                                          description:
                                                            type: string
                                                          default:
                                                            type: integer
                                                        required:
                                                          - minimum
                                                          - type
                                                          - description
                                                          - default
                                                      upstream_id:
                                                        type: object
                                                        properties:
                                                          anyOf:
                                                            type: array
                                                            items:
                                                              type: object
                                                              properties:
                                                                pattern:
                                                                  type: string
                                                                minLength:
                                                                  type: integer
                                                                maxLength:
                                                                  type: integer
                                                                type:
                                                                  type: string
                                                                minimum:
                                                                  type: integer
                                                              required:
                                                                - type
                                                        required:
                                                          - anyOf
                                                    required:
                                                      - upstream
                                                      - weight
                                                      - upstream_id
                                                  type:
                                                    type: string
                                                required:
                                                  - properties
                                                  - type
                                              minItems:
                                                type: integer
                                              type:
                                                type: string
                                              default:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    weight:
                                                      type: integer
                                            required:
                                              - maxItems
                                              - items
                                              - minItems
                                              - type
                                              - default
                                          match:
                                            type: object
                                            properties:
                                              items:
                                                type: object
                                                properties:
                                                  properties:
                                                    type: object
                                                    properties:
                                                      vars:
                                                        type: object
                                                        properties:
                                                          type:
                                                            type: string
                                                        required:
                                                          - type
                                                    required:
                                                      - vars
                                                  type:
                                                    type: string
                                                required:
                                                  - properties
                                                  - type
                                              type:
                                                type: string
                                            required:
                                              - items
                                              - type
                                        required:
                                          - weighted_upstreams
                                          - match
                                      type:
                                        type: string
                                    required:
                                      - properties
                                      - type
                                  type:
                                    type: string
                                required:
                                  - items
                                  - type
                            required:
                              - _meta
                              - rules
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  grpc-web:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - _meta
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  serverless-post-function:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              phase:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - enum
                                  - default
                              functions:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - type
                                  - minItems
                                  - items
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - phase
                              - functions
                              - _meta
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  uri-blocker:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              rejected_code:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              rejected_msg:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - type
                              block_rules:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  uniqueItems:
                                    type: boolean
                                  items:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      maxLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - maxLength
                                      - type
                                required:
                                  - type
                                  - uniqueItems
                                  - items
                              case_insensitive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - rejected_code
                              - rejected_msg
                              - block_rules
                              - case_insensitive
                              - _meta
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  authz-keycloak:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          allOf:
                            type: array
                            items:
                              type: object
                              properties:
                                anyOf:
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      required:
                                        type: array
                                        items:
                                          type: string
                                      properties:
                                        type: object
                                        properties:
                                          lazy_load_paths:
                                            type: object
                                            properties:
                                              enum:
                                                type: array
                                                items:
                                                  type: boolean
                                            required:
                                              - enum
                                        required:
                                          - lazy_load_paths
                                      anyOf:
                                        type: array
                                        items:
                                          type: object
                                          properties:
                                            required:
                                              type: array
                                              items:
                                                type: string
                                          required:
                                            - required
                                    required:
                                      - required
                                      - properties
                              required:
                                - anyOf
                          required:
                            type: array
                            items:
                              type: string
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              keepalive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              client_id:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              keepalive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              client_secret:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              grant_type:
                                type: object
                                properties:
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  type:
                                    type: string
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  default:
                                    type: string
                                required:
                                  - enum
                                  - type
                                  - minLength
                                  - maxLength
                                  - default
                              token_endpoint:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              resource_registration_endpoint:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              policy_enforcement_mode:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              password_grant_token_generation_incoming_uri:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              access_token_expires_leeway:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              lazy_load_paths:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              http_method_as_scope:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              cache_ttl_seconds:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              access_denied_redirect_uri:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              access_token_expires_in:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              permissions:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties: {}
                                  type:
                                    type: string
                                  uniqueItems:
                                    type: boolean
                                  items:
                                    type: object
                                    properties:
                                      minLength:
                                        type: integer
                                      maxLength:
                                        type: integer
                                      type:
                                        type: string
                                    required:
                                      - minLength
                                      - maxLength
                                      - type
                                required:
                                  - default
                                  - type
                                  - uniqueItems
                                  - items
                              refresh_token_expires_in:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              refresh_token_expires_leeway:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              keepalive_pool:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              discovery:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - keepalive
                              - client_id
                              - keepalive_timeout
                              - client_secret
                              - grant_type
                              - token_endpoint
                              - resource_registration_endpoint
                              - _meta
                              - policy_enforcement_mode
                              - password_grant_token_generation_incoming_uri
                              - access_token_expires_leeway
                              - lazy_load_paths
                              - http_method_as_scope
                              - cache_ttl_seconds
                              - access_denied_redirect_uri
                              - access_token_expires_in
                              - permissions
                              - refresh_token_expires_in
                              - refresh_token_expires_leeway
                              - keepalive_pool
                              - ssl_verify
                              - discovery
                              - timeout
                        required:
                          - allOf
                          - required
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  udp-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              port:
                                type: object
                                properties:
                                  minimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minimum
                                  - type
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              host:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - batch_max_size
                              - include_req_body
                              - port
                              - name
                              - host
                              - max_retry_count
                              - retry_delay
                              - buffer_duration
                              - log_format
                              - inactive_timeout
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  request-validation:
                    type: object
                    properties:
                      version:
                        type: number
                      type:
                        type: string
                      schema:
                        type: object
                        properties:
                          anyOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              rejected_code:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - type
                                  - minimum
                                  - default
                              rejected_msg:
                                type: object
                                properties:
                                  minLength:
                                    type: integer
                                  maxLength:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minLength
                                  - maxLength
                                  - type
                              header_schema:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              body_schema:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - rejected_code
                              - rejected_msg
                              - header_schema
                              - body_schema
                              - _meta
                        required:
                          - anyOf
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - type
                      - schema
                      - priority
                  ai:
                    type: object
                    properties:
                      version:
                        type: number
                      scope:
                        type: string
                      schema:
                        type: object
                        properties:
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - _meta
                        required:
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - scope
                      - schema
                      - priority
                  serverless-pre-function:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              phase:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - enum
                                  - default
                              functions:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - type
                                  - minItems
                                  - items
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                            required:
                              - phase
                              - functions
                              - _meta
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  forward-auth:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              upstream_headers:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: object
                                    properties: {}
                                required:
                                  - items
                                  - type
                                  - description
                                  - default
                              keepalive:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              keepalive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              request_method:
                                type: object
                                properties:
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - enum
                                  - type
                                  - description
                                  - default
                              request_headers:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: object
                                    properties: {}
                                required:
                                  - items
                                  - type
                                  - description
                                  - default
                              uri:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              keepalive_pool:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              client_headers:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                  type:
                                    type: string
                                  description:
                                    type: string
                                  default:
                                    type: object
                                    properties: {}
                                required:
                                  - items
                                  - type
                                  - description
                                  - default
                              timeout:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  description:
                                    type: string
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - description
                                  - type
                                  - minimum
                                  - default
                            required:
                              - _meta
                              - upstream_headers
                              - keepalive
                              - keepalive_timeout
                              - request_method
                              - request_headers
                              - uri
                              - keepalive_pool
                              - ssl_verify
                              - client_headers
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  api-breaker:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              break_response_code:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  maximum:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - maximum
                              break_response_body:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              break_response_headers:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      required:
                                        type: array
                                        items:
                                          type: string
                                      properties:
                                        type: object
                                        properties:
                                          value:
                                            type: object
                                            properties:
                                              minLength:
                                                type: integer
                                              type:
                                                type: string
                                            required:
                                              - minLength
                                              - type
                                          key:
                                            type: object
                                            properties:
                                              minLength:
                                                type: integer
                                              type:
                                                type: string
                                            required:
                                              - minLength
                                              - type
                                        required:
                                          - value
                                          - key
                                    required:
                                      - type
                                      - required
                                      - properties
                                  type:
                                    type: string
                                required:
                                  - items
                                  - type
                              max_breaker_sec:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              healthy:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: object
                                    properties:
                                      successes:
                                        type: integer
                                      http_statuses:
                                        type: array
                                        items:
                                          type: integer
                                    required:
                                      - successes
                                      - http_statuses
                                  properties:
                                    type: object
                                    properties:
                                      successes:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          default:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - default
                                      http_statuses:
                                        type: object
                                        properties:
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              minimum:
                                                type: integer
                                              maximum:
                                                type: integer
                                            required:
                                              - type
                                              - minimum
                                              - maximum
                                          default:
                                            type: array
                                            items:
                                              type: integer
                                          minItems:
                                            type: integer
                                          type:
                                            type: string
                                          uniqueItems:
                                            type: boolean
                                        required:
                                          - items
                                          - default
                                          - minItems
                                          - type
                                          - uniqueItems
                                    required:
                                      - successes
                                      - http_statuses
                                required:
                                  - type
                                  - default
                                  - properties
                              unhealthy:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: object
                                    properties:
                                      failures:
                                        type: integer
                                      http_statuses:
                                        type: array
                                        items:
                                          type: integer
                                    required:
                                      - failures
                                      - http_statuses
                                  properties:
                                    type: object
                                    properties:
                                      failures:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          default:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - default
                                      http_statuses:
                                        type: object
                                        properties:
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              minimum:
                                                type: integer
                                              maximum:
                                                type: integer
                                            required:
                                              - type
                                              - minimum
                                              - maximum
                                          default:
                                            type: array
                                            items:
                                              type: integer
                                          minItems:
                                            type: integer
                                          type:
                                            type: string
                                          uniqueItems:
                                            type: boolean
                                        required:
                                          - items
                                          - default
                                          - minItems
                                          - type
                                          - uniqueItems
                                    required:
                                      - failures
                                      - http_statuses
                                required:
                                  - type
                                  - default
                                  - properties
                            required:
                              - _meta
                              - break_response_code
                              - break_response_body
                              - break_response_headers
                              - max_breaker_sec
                              - healthy
                              - unhealthy
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  tcp-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          required:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              tls_options:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              tls:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              port:
                                type: object
                                properties:
                                  minimum:
                                    type: integer
                                  type:
                                    type: string
                                required:
                                  - minimum
                                  - type
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              host:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - tls_options
                              - tls
                              - _meta
                              - batch_max_size
                              - buffer_duration
                              - port
                              - name
                              - host
                              - max_retry_count
                              - retry_delay
                              - include_req_body
                              - log_format
                              - inactive_timeout
                              - timeout
                        required:
                          - required
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  elasticsearch-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          oneOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              endpoint_addrs:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              endpoint_addr:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - type
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              field:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      type:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      index:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - type
                                      - index
                                required:
                                  - type
                                  - required
                                  - properties
                              auth:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      password:
                                        type: object
                                        properties:
                                          minLength:
                                            type: integer
                                          type:
                                            type: string
                                        required:
                                          - minLength
                                          - type
                                      username:
                                        type: object
                                        properties:
                                          minLength:
                                            type: integer
                                          type:
                                            type: string
                                        required:
                                          - minLength
                                          - type
                                    required:
                                      - password
                                      - username
                                required:
                                  - type
                                  - required
                                  - properties
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - endpoint_addrs
                              - _meta
                              - batch_max_size
                              - endpoint_addr
                              - log_format
                              - field
                              - auth
                              - name
                              - max_retry_count
                              - retry_delay
                              - buffer_duration
                              - ssl_verify
                              - inactive_timeout
                              - timeout
                        required:
                          - oneOf
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  kafka-proxy:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              sasl:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  required:
                                    type: array
                                    items:
                                      type: string
                                  properties:
                                    type: object
                                    properties:
                                      password:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                      username:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - password
                                      - username
                                required:
                                  - type
                                  - required
                                  - properties
                            required:
                              - _meta
                              - sasl
                        required:
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  ext-plugin-post-resp:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              conf:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      required:
                                        type: array
                                        items:
                                          type: string
                                      properties:
                                        type: object
                                        properties:
                                          value:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                            required:
                                              - type
                                          name:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              maxLength:
                                                type: integer
                                              minLength:
                                                type: integer
                                            required:
                                              - type
                                              - maxLength
                                              - minLength
                                        required:
                                          - value
                                          - name
                                    required:
                                      - type
                                      - required
                                      - properties
                                required:
                                  - type
                                  - minItems
                                  - items
                              allow_degradation:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - conf
                              - allow_degradation
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  clickhouse-logger:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              log_format:
                                type: object
                                properties:
                                  default:
                                    type: object
                                    properties:
                                      client_ip:
                                        type: string
                                      host:
                                        type: string
                                      '@timestamp':
                                        type: string
                                    required:
                                      - client_ip
                                      - host
                                      - '@timestamp'
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - log_format
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          oneOf:
                            type: array
                            items:
                              type: object
                              properties:
                                required:
                                  type: array
                                  items:
                                    type: string
                              required:
                                - required
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              endpoint_addrs:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minItems:
                                    type: integer
                                  items:
                                    type: object
                                    properties:
                                      pattern:
                                        type: string
                                      type:
                                        type: string
                                    required:
                                      - pattern
                                      - type
                                required:
                                  - type
                                  - minItems
                                  - items
                              endpoint_addr:
                                type: object
                                properties:
                                  pattern:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - pattern
                                  - type
                              user:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              name:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              include_resp_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              log_format:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_resp_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              database:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              logtable:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              password:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              include_req_body:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              ssl_verify:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              include_req_body_expr:
                                type: object
                                properties:
                                  minItems:
                                    type: integer
                                  type:
                                    type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - minItems
                                  - type
                                  - items
                              timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - endpoint_addrs
                              - endpoint_addr
                              - user
                              - name
                              - include_resp_body_expr
                              - log_format
                              - inactive_timeout
                              - include_resp_body
                              - database
                              - logtable
                              - _meta
                              - batch_max_size
                              - buffer_duration
                              - password
                              - max_retry_count
                              - retry_delay
                              - include_req_body
                              - ssl_verify
                              - include_req_body_expr
                              - timeout
                        required:
                          - oneOf
                          - encrypt_fields
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  workflow:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              rules:
                                type: object
                                properties:
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                      required:
                                        type: array
                                        items:
                                          type: string
                                      properties:
                                        type: object
                                        properties:
                                          case:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                              minItems:
                                                type: integer
                                              items:
                                                type: object
                                                properties:
                                                  anyOf:
                                                    type: array
                                                    items:
                                                      type: object
                                                      properties:
                                                        type:
                                                          type: string
                                                      required:
                                                        - type
                                                required:
                                                  - anyOf
                                            required:
                                              - type
                                              - minItems
                                              - items
                                          actions:
                                            type: object
                                            properties:
                                              items:
                                                type: object
                                                properties:
                                                  minItems:
                                                    type: integer
                                                  type:
                                                    type: string
                                                required:
                                                  - minItems
                                                  - type
                                              type:
                                                type: string
                                            required:
                                              - items
                                              - type
                                        required:
                                          - case
                                          - actions
                                    required:
                                      - type
                                      - required
                                      - properties
                                  type:
                                    type: string
                                required:
                                  - items
                                  - type
                            required:
                              - _meta
                              - rules
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  gzip:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              types:
                                type: object
                                properties:
                                  default:
                                    type: array
                                    items:
                                      type: string
                                  anyOf:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        minItems:
                                          type: integer
                                        type:
                                          type: string
                                        items:
                                          type: object
                                          properties:
                                            minLength:
                                              type: integer
                                            type:
                                              type: string
                                          required:
                                            - minLength
                                            - type
                                        enum:
                                          type: array
                                          items:
                                            type: string
                                required:
                                  - default
                                  - anyOf
                              vary:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              buffers:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: object
                                    properties:
                                      number:
                                        type: integer
                                      size:
                                        type: integer
                                    required:
                                      - number
                                      - size
                                  properties:
                                    type: object
                                    properties:
                                      number:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          default:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - default
                                      size:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                          minimum:
                                            type: integer
                                          default:
                                            type: integer
                                        required:
                                          - type
                                          - minimum
                                          - default
                                    required:
                                      - number
                                      - size
                                required:
                                  - type
                                  - default
                                  - properties
                              comp_level:
                                type: object
                                properties:
                                  maximum:
                                    type: integer
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - maximum
                                  - type
                                  - minimum
                                  - default
                              http_version:
                                type: object
                                properties:
                                  default:
                                    type: number
                                  enum:
                                    type: array
                                    items:
                                      oneOf:
                                        - type: number
                                        - type: integer
                                required:
                                  - default
                                  - enum
                              min_length:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - types
                              - vary
                              - _meta
                              - buffers
                              - comp_level
                              - http_version
                              - min_length
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  proxy-control:
                    type: object
                    properties:
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              request_buffering:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - request_buffering
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - version
                      - schema
                      - priority
                  datadog:
                    type: object
                    properties:
                      metadata_schema:
                        type: object
                        properties:
                          properties:
                            type: object
                            properties:
                              constant_tags:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: array
                                    items:
                                      type: string
                                  items:
                                    type: object
                                    properties:
                                      type:
                                        type: string
                                    required:
                                      - type
                                required:
                                  - type
                                  - default
                                  - items
                              host:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              namespace:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              port:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                            required:
                              - constant_tags
                              - host
                              - namespace
                              - port
                          type:
                            type: string
                        required:
                          - properties
                          - type
                      version:
                        type: number
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              batch_max_size:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              max_retry_count:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              retry_delay:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              buffer_duration:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              name:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                required:
                                  - type
                                  - default
                              inactive_timeout:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              prefer_name:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - _meta
                              - batch_max_size
                              - max_retry_count
                              - retry_delay
                              - buffer_duration
                              - name
                              - inactive_timeout
                              - prefer_name
                        required:
                          - type
                          - $comment
                          - properties
                      priority:
                        type: integer
                    required:
                      - metadata_schema
                      - version
                      - schema
                      - priority
                  jwt-auth:
                    type: object
                    properties:
                      priority:
                        type: integer
                      consumer_schema:
                        type: object
                        properties:
                          dependencies:
                            type: object
                            properties:
                              algorithm:
                                type: object
                                properties:
                                  oneOf:
                                    type: array
                                    items:
                                      type: object
                                      properties:
                                        properties:
                                          type: object
                                          properties:
                                            algorithm:
                                              type: object
                                              properties:
                                                default:
                                                  type: string
                                                enum:
                                                  type: array
                                                  items:
                                                    type: string
                                              required:
                                                - enum
                                            public_key:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                            private_key:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                          required:
                                            - public_key
                                            - private_key
                                            - algorithm
                                        required:
                                          type: array
                                          items:
                                            type: string
                                      required:
                                        - properties
                                required:
                                  - oneOf
                            required:
                              - algorithm
                          encrypt_fields:
                            type: array
                            items:
                              type: string
                          type:
                            type: string
                          required:
                            type: array
                            items:
                              type: string
                          properties:
                            type: object
                            properties:
                              exp:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              algorithm:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  default:
                                    type: string
                                  enum:
                                    type: array
                                    items:
                                      type: string
                                required:
                                  - type
                                  - default
                                  - enum
                              base64_secret:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              secret:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                              lifetime_grace_period:
                                type: object
                                properties:
                                  type:
                                    type: string
                                  minimum:
                                    type: integer
                                  default:
                                    type: integer
                                required:
                                  - type
                                  - minimum
                                  - default
                              key:
                                type: object
                                properties:
                                  type:
                                    type: string
                                required:
                                  - type
                            required:
                              - exp
                              - algorithm
                              - base64_secret
                              - secret
                              - lifetime_grace_period
                              - key
                        required:
                          - dependencies
                          - encrypt_fields
                          - type
                          - required
                          - properties
                      type:
                        type: string
                      schema:
                        type: object
                        properties:
                          type:
                            type: string
                          $comment:
                            type: string
                          properties:
                            type: object
                            properties:
                              cookie:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              header:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              _meta:
                                type: object
                                properties:
                                  properties:
                                    type: object
                                    properties:
                                      filter:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      error_response:
                                        type: object
                                        properties:
                                          oneOf:
                                            type: array
                                            items:
                                              type: object
                                              properties:
                                                type:
                                                  type: string
                                              required:
                                                - type
                                        required:
                                          - oneOf
                                      priority:
                                        type: object
                                        properties:
                                          description:
                                            type: string
                                          type:
                                            type: string
                                        required:
                                          - description
                                          - type
                                      disable:
                                        type: object
                                        properties:
                                          type:
                                            type: string
                                        required:
                                          - type
                                    required:
                                      - filter
                                      - error_response
                                      - priority
                                      - disable
                                  type:
                                    type: string
                                required:
                                  - properties
                                  - type
                              query:
                                type: object
                                properties:
                                  default:
                                    type: string
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                              hide_credentials:
                                type: object
                                properties:
                                  default:
                                    type: boolean
                                  type:
                                    type: string
                                required:
                                  - default
                                  - type
                            required:
                              - cookie
                              - header
                              - _meta
                              - query
                              - hide_credentials
                        required:
                          - type
                          - $comment
                          - properties
                      version:
                        type: number
                    required:
                      - priority
                      - consumer_schema
                      - type
                      - schema
                      - version
                required:
                  - referer-restriction
                  - wolf-rbac
                  - response-rewrite
                  - server-info
                  - proxy-cache
                  - cors
                  - kafka-logger
                  - google-cloud-logging
                  - loggly
                  - authz-casbin
                  - cas-auth
                  - request-id
                  - ip-restriction
                  - ext-plugin-post-req
                  - fault-injection
                  - csrf
                  - openfunction
                  - file-logger
                  - openid-connect
                  - syslog
                  - tencent-cloud-cls
                  - hmac-auth
                  - azure-functions
                  - body-transformer
                  - degraphql
                  - sls-logger
                  - grpc-transcode
                  - limit-req
                  - skywalking-logger
                  - key-auth
                  - ext-plugin-pre-req
                  - real-ip
                  - limit-count
                  - consumer-restriction
                  - client-control
                  - authz-casdoor
                  - zipkin
                  - mocking
                  - rocketmq-logger
                  - basic-auth
                  - inspect
                  - ua-restriction
                  - http-logger
                  - public-api
                  - aws-lambda
                  - redirect
                  - openwhisk
                  - ldap-auth
                  - echo
                  - splunk-hec-logging
                  - proxy-mirror
                  - proxy-rewrite
                  - example-plugin
                  - prometheus
                  - opa
                  - traffic-split
                  - grpc-web
                  - serverless-post-function
                  - uri-blocker
                  - authz-keycloak
                  - udp-logger
                  - request-validation
                  - ai
                  - serverless-pre-function
                  - forward-auth
                  - api-breaker
                  - tcp-logger
                  - elasticsearch-logger
                  - kafka-proxy
                  - ext-plugin-post-resp
                  - clickhouse-logger
                  - workflow
                  - gzip
                  - proxy-control
                  - limit-conn
                  - datadog
                  - jwt-auth
                  - mqtt-proxy
              examples:
                '1':
                  summary: Successful Example
                  value:
                    limit-conn:
                      priority: 1003
                      version: 0.1
                      schema:
                        type: object
                        $comment: this is a mark for our injected plugin schema
                        required:
                          - conn
                          - burst
                          - default_conn_delay
                          - key
                        properties:
                          only_use_default_delay:
                            type: boolean
                            default: false
                          conn:
                            type: integer
                            exclusiveMinimum: 0
                          burst:
                            type: integer
                            minimum: 0
                          key_type:
                            type: string
                            enum:
                              - var
                              - var_combination
                            default: var
                          _meta:
                            type: object
                            properties:
                              filter:
                                type: array
                                description: >-
                                  filter determines whether the plugin needs to
                                  be executed at runtime
                              error_response:
                                oneOf:
                                  - type: string
                                  - type: object
                              priority:
                                type: integer
                                description: priority of plugins by customized order
                              disable:
                                type: boolean
                          key:
                            type: string
                          default_conn_delay:
                            type: number
                            exclusiveMinimum: 0
                    syslog:
                      schema:
                        type: object
                        $comment: this is a mark for our injected plugin schema
                        required:
                          - host
                          - port
                        properties:
                          _meta:
                            type: object
                            properties:
                              filter:
                                type: array
                                description: >-
                                  filter determines whether the plugin needs to
                                  be executed at runtime
                              error_response:
                                oneOf:
                                  - type: string
                                  - type: object
                              priority:
                                type: integer
                                description: priority of plugins by customized order
                              disable:
                                type: boolean
                          host:
                            type: string
                          max_retry_count:
                            type: integer
                            default: 0
                            minimum: 0
                          drop_limit:
                            type: integer
                            default: 1048576
                          flush_limit:
                            type: integer
                            default: 4096
                            minimum: 1
                          pool_size:
                            type: integer
                            default: 5
                            minimum: 5
                          sock_type:
                            type: string
                            default: tcp
                            enum:
                              - tcp
                              - udp
                          buffer_duration:
                            type: integer
                            default: 60
                            minimum: 1
                          retry_delay:
                            type: integer
                            default: 1
                            minimum: 0
                          tls:
                            type: boolean
                            default: false
                          name:
                            type: string
                            default: stream sys logger
                          log_format:
                            type: object
                          batch_max_size:
                            type: integer
                            default: 1000
                            minimum: 1
                          timeout:
                            type: integer
                            default: 3000
                            minimum: 1
                          inactive_timeout:
                            type: integer
                            default: 5
                            minimum: 1
                          port:
                            type: integer
                      priority: 401
                      version: 0.1
                      metadata_schema:
                        type: object
                        properties:
                          log_format:
                            type: object
                            default:
                              '@timestamp': $time_iso8601
                              host: $host
                              client_ip: $remote_addr
                    ip-restriction:
                      priority: 3000
                      version: 0.1
                      schema:
                        type: object
                        oneOf:
                          - required:
                              - whitelist
                          - required:
                              - blacklist
                        $comment: this is a mark for our injected plugin schema
                        properties:
                          message:
                            type: string
                            minLength: 1
                            maxLength: 1024
                            default: Your IP address is not allowed
                          _meta:
                            type: object
                            properties:
                              filter:
                                type: array
                                description: >-
                                  filter determines whether the plugin needs to
                                  be executed at runtime
                              error_response:
                                oneOf:
                                  - type: string
                                  - type: object
                              priority:
                                type: integer
                                description: priority of plugins by customized order
                              disable:
                                type: boolean
                          blacklist:
                            type: array
                            minItems: 1
                            items:
                              anyOf:
                                - type: string
                                  format: ipv4
                                  title: IPv4
                                - type: string
                                  pattern: >-
                                    ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                                  title: IPv4/CIDR
                                - type: string
                                  format: ipv6
                                  title: IPv6
                                - type: string
                                  pattern: >-
                                    ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                                  title: IPv6/CIDR
                          whitelist:
                            type: array
                            minItems: 1
                            items:
                              anyOf:
                                - type: string
                                  format: ipv4
                                  title: IPv4
                                - type: string
                                  pattern: >-
                                    ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                                  title: IPv4/CIDR
                                - type: string
                                  format: ipv6
                                  title: IPv6
                                - type: string
                                  pattern: >-
                                    ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                                  title: IPv6/CIDR
                    mqtt-proxy:
                      priority: 1000
                      version: 0.1
                      schema:
                        type: object
                        $comment: this is a mark for our injected plugin schema
                        required:
                          - protocol_name
                          - protocol_level
                        properties:
                          _meta:
                            type: object
                            properties:
                              filter:
                                type: array
                                description: >-
                                  filter determines whether the plugin needs to
                                  be executed at runtime
                              error_response:
                                oneOf:
                                  - type: string
                                  - type: object
                              priority:
                                type: integer
                                description: priority of plugins by customized order
                              disable:
                                type: boolean
                          protocol_name:
                            type: string
                          protocol_level:
                            type: integer
        '400':
          description: Not found plugin name
          content: {}
  /apisix/admin/plugins/reload:
    put:
      summary: Reload All Plugins
      deprecated: false
      description: >-
        Hot reload all plugins for changes to the plugin source files to take
        effect.
      tags:
        - Plugin
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: string
              examples:
                '1':
                  summary: Successful Example
                  value: done
  /apisix/admin/stream_routes:
    get:
      summary: Get All Stream Routes
      deprecated: false
      description: Get all configured stream routes.
      tags:
        - Stream Route
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            desc:
                              maxLength: 256
                              type: string
                            upstream_id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            update_time:
                              type: integer
                            create_time:
                              type: integer
                            sni:
                              type: string
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            remote_addr:
                              type: string
                              anyOf:
                                - format: ipv4
                                  type: string
                                  title: IPv4
                                - type: string
                                  title: IPv4/CIDR
                                  pattern: >-
                                    ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                                - format: ipv6
                                  type: string
                                  title: IPv6
                                - type: string
                                  title: IPv6/CIDR
                                  pattern: >-
                                    ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                              description: client IP
                            protocol:
                              properties:
                                logger:
                                  items:
                                    properties:
                                      conf:
                                        type: object
                                        description: logger plugin configuration
                                        properties: {}
                                      filter:
                                        type: array
                                        description: logger filter rules
                                        items:
                                          type: string
                                      name:
                                        type: string
                                    dependencies:
                                      name:
                                        - conf
                                    type: object
                                  type: array
                                conf:
                                  type: object
                                  description: protocol-specific configuration
                                  properties: {}
                                superior_id:
                                  anyOf:
                                    - type: string
                                      minLength: 1
                                      maxLength: 64
                                      pattern: ^[a-zA-Z0-9-_.]+$
                                    - minimum: 1
                                      type: integer
                                name:
                                  type: string
                              type: object
                              required:
                                - name
                            server_addr:
                              type: string
                              anyOf:
                                - format: ipv4
                                  type: string
                                  title: IPv4
                                - type: string
                                  title: IPv4/CIDR
                                  pattern: >-
                                    ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                                - format: ipv6
                                  type: string
                                  title: IPv6
                                - type: string
                                  title: IPv6/CIDR
                                  pattern: >-
                                    ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                              description: server IP
                            upstream:
                              properties:
                                desc:
                                  maxLength: 256
                                  type: string
                                update_time:
                                  type: integer
                                key:
                                  type: string
                                  description: >-
                                    The key used with `hash_on` when `type` is
                                    `chash`. When `hash_on` is set to `header`
                                    or `cookie`, `key` is required. When
                                    `hash_on` is set to `consumer`, `key` is not
                                    required as the consumer name will be used
                                    as the key automatically.
                                retries:
                                  minimum: 0
                                  type: integer
                                retry_timeout:
                                  minimum: 0
                                  type: number
                                pass_host:
                                  default: pass
                                  type: string
                                  enum:
                                    - pass
                                    - node
                                    - rewrite
                                  description: >-
                                    Configure the host when the request is
                                    forwarded to the upstream. `pass` is used to
                                    pass the request's host to the upstream
                                    without modification. `node` sets the host
                                    to the host of the upstream node. `rewrite`
                                    sets the host to the value of
                                    `upstream_host`.
                                upstream_host:
                                  type: string
                                type:
                                  type: string
                                  default: roundrobin
                                  enum:
                                    - roundrobin
                                    - chash
                                    - ewma
                                    - least_conn
                                  description: >-
                                    Load balancing algorithm. Support weighted
                                    round robin, consistent hashing,
                                    exponentially weighted moving average, and
                                    least connections algorithms.
                                checks:
                                  properties:
                                    active:
                                      properties:
                                        port:
                                          type: integer
                                          minimum: 1
                                          maximum: 65535
                                        healthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 200
                                                - 302
                                            interval:
                                              type: integer
                                              minimum: 1
                                              default: 1
                                            successes:
                                              default: 2
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                          type: object
                                        http_path:
                                          default: /
                                          type: string
                                        https_verify_certificate:
                                          default: true
                                          type: boolean
                                        unhealthy:
                                          properties:
                                            interval:
                                              type: integer
                                              minimum: 1
                                              default: 1
                                            tcp_failures:
                                              default: 2
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                            timeouts:
                                              default: 3
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 429
                                                - 404
                                                - 500
                                                - 501
                                                - 502
                                                - 503
                                                - 504
                                                - 505
                                            http_failures:
                                              default: 5
                                              type: integer
                                              minimum: 1
                                              maximum: 254
                                          type: object
                                        req_headers:
                                          items:
                                            uniqueItems: true
                                            type: string
                                          type: array
                                          minItems: 1
                                        timeout:
                                          default: 1
                                          type: number
                                        type:
                                          enum:
                                            - http
                                            - https
                                            - tcp
                                          default: http
                                          type: string
                                        host:
                                          type: string
                                        concurrency:
                                          default: 10
                                          type: integer
                                      type: object
                                    passive:
                                      properties:
                                        healthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 200
                                                - 201
                                                - 202
                                                - 203
                                                - 204
                                                - 205
                                                - 206
                                                - 207
                                                - 208
                                                - 226
                                                - 300
                                                - 301
                                                - 302
                                                - 303
                                                - 304
                                                - 305
                                                - 306
                                                - 307
                                                - 308
                                            successes:
                                              default: 5
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                          type: object
                                        unhealthy:
                                          properties:
                                            http_statuses:
                                              uniqueItems: true
                                              items:
                                                type: integer
                                                minimum: 200
                                                maximum: 599
                                              type: array
                                              minItems: 1
                                              default:
                                                - 429
                                                - 500
                                                - 503
                                            http_failures:
                                              default: 5
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                            tcp_failures:
                                              default: 2
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                            timeouts:
                                              default: 7
                                              type: integer
                                              minimum: 0
                                              maximum: 254
                                          type: object
                                        type:
                                          enum:
                                            - http
                                            - https
                                            - tcp
                                          default: http
                                          type: string
                                      type: object
                                  type: object
                                  anyOf:
                                    - required:
                                        - active
                                    - required:
                                        - active
                                        - passive
                                hash_on:
                                  default: vars
                                  enum:
                                    - vars
                                    - header
                                    - cookie
                                    - consumer
                                    - vars_combinations
                                  description: >-
                                    Type of value to hash on when `type` is
                                    `chash`.
                                  type: string
                                name:
                                  type: string
                                  maxLength: 100
                                  minLength: 1
                                scheme:
                                  enum:
                                    - grpc
                                    - grpcs
                                    - http
                                    - https
                                    - tcp
                                    - tls
                                    - udp
                                    - kafka
                                  default: http
                                  description: Protocol to communicate with the upstream.
                                service_name:
                                  type: string
                                  maxLength: 256
                                  minLength: 1
                                keepalive_pool:
                                  properties:
                                    size:
                                      default: 320
                                      minimum: 1
                                      type: integer
                                    idle_timeout:
                                      default: 60
                                      minimum: 0
                                      type: number
                                    requests:
                                      default: 1000
                                      minimum: 1
                                      type: integer
                                  type: object
                                timeout:
                                  properties:
                                    connect:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                    read:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                    send:
                                      exclusiveMinimum: 0
                                      type: number
                                      minimum: 0
                                  type: object
                                  required:
                                    - connect
                                    - send
                                    - read
                                id:
                                  anyOf:
                                    - type: string
                                      minLength: 1
                                      maxLength: 64
                                      pattern: ^[a-zA-Z0-9-_.]+$
                                    - minimum: 1
                                      type: integer
                                discovery_type:
                                  type: string
                                  description: discovery type
                                labels:
                                  type: object
                                  patternProperties:
                                    .*:
                                      minLength: 1
                                      maxLength: 64
                                      pattern: ^\S+$
                                      type: string
                                      description: value of label
                                  description: Key-value pairs to specify attributes.
                                  properties: {}
                                discovery_args:
                                  properties:
                                    group_name:
                                      type: string
                                      description: group name
                                    namespace_id:
                                      type: string
                                      description: namespace id
                                  type: object
                                nodes:
                                  anyOf:
                                    - patternProperties:
                                        .*:
                                          type: integer
                                          minimum: 0
                                          description: weight of node
                                      type: object
                                    - items:
                                        properties:
                                          weight:
                                            type: integer
                                            minimum: 0
                                            description: weight of node
                                          port:
                                            type: integer
                                            minimum: 1
                                            description: port of node
                                          metadata:
                                            type: object
                                            description: metadata of node
                                          host:
                                            type: string
                                          priority:
                                            type: integer
                                            default: 0
                                            description: priority of node
                                        type: object
                                        required:
                                          - host
                                          - port
                                          - weight
                                      type: array
                                tls:
                                  properties:
                                    verify:
                                      type: boolean
                                      default: false
                                      description: >-
                                        Turn on server certificate verification,
                                        currently only kafka upstream is
                                        supported
                                    client_key:
                                      minLength: 128
                                      maxLength: 65536
                                      type: string
                                    client_cert:
                                      minLength: 128
                                      maxLength: 65536
                                      type: string
                                    client_cert_id:
                                      anyOf:
                                        - type: string
                                          minLength: 1
                                          maxLength: 64
                                          pattern: ^[a-zA-Z0-9-_.]+$
                                        - minimum: 1
                                          type: integer
                                  type: object
                                  dependencies:
                                    client_cert_id:
                                      not:
                                        required:
                                          - client_client
                                          - client_key
                                    client_cert:
                                      required:
                                        - client_key
                                      not:
                                        required:
                                          - client_cert_id
                                    client_key:
                                      required:
                                        - client_cert
                                      not:
                                        required:
                                          - client_cert_id
                                create_time:
                                  type: integer
                              type: object
                              oneOf:
                                - type: string
                                - type: string
                            plugins:
                              type: object
                              properties: {}
                            server_port:
                              type: integer
                              description: server port
                          type: object
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                      required:
                        - value
                        - key
                        - modifiedIndex
                        - createdIndex
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    total: 1
                    list:
                      - createdIndex: 173
                        key: /apisix/stream_routes/1
                        value:
                          id: '1'
                          create_time: 1684392990
                          server_addr: 127.0.0.1
                          upstream:
                            hash_on: vars
                            pass_host: pass
                            nodes:
                              127.0.0.1:1995: 1
                            type: roundrobin
                            scheme: http
                          update_time: 1684392990
                          server_port: 2000
                        modifiedIndex: 173
    post:
      summary: Create Stream Route
      deprecated: false
      description: Create a stream route with an ID generated.
      tags:
        - Stream Route
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              properties:
                desc:
                  maxLength: 256
                  type: string
                upstream_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                service_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                sni:
                  type: string
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                remote_addr:
                  type: string
                  anyOf:
                    - format: ipv4
                      type: string
                      title: IPv4
                    - type: string
                      title: IPv4/CIDR
                      pattern: >-
                        ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                    - format: ipv6
                      type: string
                      title: IPv6
                    - type: string
                      title: IPv6/CIDR
                      pattern: >-
                        ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                  description: client IP
                protocol:
                  properties:
                    logger:
                      items:
                        properties:
                          conf:
                            type: object
                            description: logger plugin configuration
                            properties: {}
                          filter:
                            type: array
                            description: logger filter rules
                            items:
                              type: string
                          name:
                            type: string
                        dependencies:
                          name:
                            - conf
                        type: object
                      type: array
                    conf:
                      type: object
                      description: protocol-specific configuration
                      properties: {}
                    superior_id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    name:
                      type: string
                  type: object
                  required:
                    - name
                server_addr:
                  type: string
                  anyOf:
                    - format: ipv4
                      type: string
                      title: IPv4
                    - type: string
                      title: IPv4/CIDR
                      pattern: >-
                        ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                    - format: ipv6
                      type: string
                      title: IPv6
                    - type: string
                      title: IPv6/CIDR
                      pattern: >-
                        ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                  description: server IP
                upstream:
                  properties:
                    desc:
                      maxLength: 256
                      type: string
                    key:
                      type: string
                      description: >-
                        The key used with `hash_on` when `type` is `chash`. When
                        `hash_on` is set to `header` or `cookie`, `key` is
                        required. When `hash_on` is set to `consumer`, `key` is
                        not required as the consumer name will be used as the
                        key automatically.
                    retries:
                      minimum: 0
                      type: integer
                    retry_timeout:
                      minimum: 0
                      type: number
                    pass_host:
                      default: pass
                      type: string
                      enum:
                        - pass
                        - node
                        - rewrite
                      description: >-
                        Configure the host when the request is forwarded to the
                        upstream. `pass` is used to pass the request's host to
                        the upstream without modification. `node` sets the host
                        to the host of the upstream node. `rewrite` sets the
                        host to the value of `upstream_host`.
                    upstream_host:
                      type: string
                    type:
                      type: string
                      default: roundrobin
                      enum:
                        - roundrobin
                        - chash
                        - ewma
                        - least_conn
                      description: >-
                        Load balancing algorithm. Support weighted round robin,
                        consistent hashing, exponentially weighted moving
                        average, and least connections algorithms.
                    checks:
                      properties:
                        active:
                          properties:
                            port:
                              type: integer
                              minimum: 1
                              maximum: 65535
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 302
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                successes:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            http_path:
                              default: /
                              type: string
                            https_verify_certificate:
                              default: true
                              type: boolean
                            unhealthy:
                              properties:
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                timeouts:
                                  default: 3
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 404
                                    - 500
                                    - 501
                                    - 502
                                    - 503
                                    - 504
                                    - 505
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            req_headers:
                              items:
                                uniqueItems: true
                                type: string
                              type: array
                              minItems: 1
                            timeout:
                              default: 1
                              type: number
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                            host:
                              type: string
                            concurrency:
                              default: 10
                              type: integer
                          type: object
                        passive:
                          properties:
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 201
                                    - 202
                                    - 203
                                    - 204
                                    - 205
                                    - 206
                                    - 207
                                    - 208
                                    - 226
                                    - 300
                                    - 301
                                    - 302
                                    - 303
                                    - 304
                                    - 305
                                    - 306
                                    - 307
                                    - 308
                                successes:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            unhealthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 500
                                    - 503
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                timeouts:
                                  default: 7
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                          type: object
                      type: object
                      anyOf:
                        - required:
                            - active
                        - required:
                            - active
                            - passive
                    hash_on:
                      default: vars
                      enum:
                        - vars
                        - header
                        - cookie
                        - consumer
                        - vars_combinations
                      description: Type of value to hash on when `type` is `chash`.
                      type: string
                    name:
                      type: string
                      maxLength: 100
                      minLength: 1
                    scheme:
                      enum:
                        - grpc
                        - grpcs
                        - http
                        - https
                        - tcp
                        - tls
                        - udp
                        - kafka
                      default: http
                      description: Protocol to communicate with the upstream.
                    service_name:
                      type: string
                      maxLength: 256
                      minLength: 1
                    keepalive_pool:
                      properties:
                        size:
                          default: 320
                          minimum: 1
                          type: integer
                        idle_timeout:
                          default: 60
                          minimum: 0
                          type: number
                        requests:
                          default: 1000
                          minimum: 1
                          type: integer
                      type: object
                    timeout:
                      properties:
                        connect:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        read:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        send:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                      type: object
                      required:
                        - connect
                        - send
                        - read
                    id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    discovery_type:
                      type: string
                      description: discovery type
                    labels:
                      type: object
                      patternProperties:
                        .*:
                          minLength: 1
                          maxLength: 64
                          pattern: ^\S+$
                          type: string
                          description: value of label
                      description: Key-value pairs to specify attributes.
                      properties: {}
                    discovery_args:
                      properties:
                        group_name:
                          type: string
                          description: group name
                        namespace_id:
                          type: string
                          description: namespace id
                      type: object
                    nodes:
                      anyOf:
                        - patternProperties:
                            .*:
                              type: integer
                              minimum: 0
                              description: weight of node
                          type: object
                        - items:
                            properties:
                              weight:
                                type: integer
                                minimum: 0
                                description: weight of node
                              port:
                                type: integer
                                minimum: 1
                                description: port of node
                              metadata:
                                type: object
                                description: metadata of node
                              host:
                                type: string
                              priority:
                                type: integer
                                default: 0
                                description: priority of node
                            type: object
                            required:
                              - host
                              - port
                              - weight
                          type: array
                    tls:
                      properties:
                        verify:
                          type: boolean
                          default: false
                          description: >-
                            Turn on server certificate verification, currently
                            only kafka upstream is supported
                        client_key:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert_id:
                          anyOf:
                            - type: string
                              minLength: 1
                              maxLength: 64
                              pattern: ^[a-zA-Z0-9-_.]+$
                            - minimum: 1
                              type: integer
                      type: object
                      dependencies:
                        client_cert_id:
                          not:
                            required:
                              - client_client
                              - client_key
                        client_cert:
                          required:
                            - client_key
                          not:
                            required:
                              - client_cert_id
                        client_key:
                          required:
                            - client_cert
                          not:
                            required:
                              - client_cert_id
                  type: object
                  oneOf:
                    - type: string
                    - type: string
                plugins:
                  type: object
                  properties: {}
                server_port:
                  type: integer
                  description: server port
              type: object
            example:
              server_addr: 127.0.0.1
              server_port: 2000
              upstream:
                nodes:
                  127.0.0.1:1995: 1
                type: roundrobin
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      sni:
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      remote_addr:
                        type: string
                        anyOf:
                          - format: ipv4
                            type: string
                            title: IPv4
                          - type: string
                            title: IPv4/CIDR
                            pattern: >-
                              ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                          - format: ipv6
                            type: string
                            title: IPv6
                          - type: string
                            title: IPv6/CIDR
                            pattern: >-
                              ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                        description: client IP
                      protocol:
                        properties:
                          logger:
                            items:
                              properties:
                                conf:
                                  type: object
                                  description: logger plugin configuration
                                  properties: {}
                                filter:
                                  type: array
                                  description: logger filter rules
                                  items:
                                    type: string
                                name:
                                  type: string
                              dependencies:
                                name:
                                  - conf
                              type: object
                            type: array
                          conf:
                            type: object
                            description: protocol-specific configuration
                            properties: {}
                          superior_id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          name:
                            type: string
                        type: object
                        required:
                          - name
                      server_addr:
                        type: string
                        anyOf:
                          - format: ipv4
                            type: string
                            title: IPv4
                          - type: string
                            title: IPv4/CIDR
                            pattern: >-
                              ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                          - format: ipv6
                            type: string
                            title: IPv6
                          - type: string
                            title: IPv6/CIDR
                            pattern: >-
                              ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                        description: server IP
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - type: string
                          - type: string
                      plugins:
                        type: object
                        properties: {}
                      server_port:
                        type: integer
                        description: server port
                    type: object
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      id: '00000000000000000176'
                      create_time: 1684393167
                      server_addr: 127.0.0.1
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          127.0.0.1:1995: 1
                        type: roundrobin
                        scheme: http
                      update_time: 1684393167
                      server_port: 2000
                    key: /apisix/stream_routes/00000000000000000176
        '400':
          description: Invalid configuration
          content: {}
  /apisix/admin/stream_routes/{id]:
    get:
      summary: Get Stream Route by ID
      deprecated: false
      description: Get stream route by ID.
      tags:
        - Stream Route
      parameters:
        - name: id
          in: path
          description: Specified stream route ID.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: object
                    properties:
                      value:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          upstream_id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          update_time:
                            type: integer
                          create_time:
                            type: integer
                          sni:
                            type: string
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          remote_addr:
                            type: string
                            anyOf:
                              - format: ipv4
                                type: string
                                title: IPv4
                              - type: string
                                title: IPv4/CIDR
                                pattern: >-
                                  ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                              - format: ipv6
                                type: string
                                title: IPv6
                              - type: string
                                title: IPv6/CIDR
                                pattern: >-
                                  ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                            description: client IP
                          protocol:
                            properties:
                              logger:
                                items:
                                  properties:
                                    conf:
                                      type: object
                                      description: logger plugin configuration
                                      properties: {}
                                    filter:
                                      type: array
                                      description: logger filter rules
                                      items:
                                        type: string
                                    name:
                                      type: string
                                  dependencies:
                                    name:
                                      - conf
                                  type: object
                                type: array
                              conf:
                                type: object
                                description: protocol-specific configuration
                                properties: {}
                              superior_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                              name:
                                type: string
                            type: object
                            required:
                              - name
                          server_addr:
                            type: string
                            anyOf:
                              - format: ipv4
                                type: string
                                title: IPv4
                              - type: string
                                title: IPv4/CIDR
                                pattern: >-
                                  ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                              - format: ipv6
                                type: string
                                title: IPv6
                              - type: string
                                title: IPv6/CIDR
                                pattern: >-
                                  ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                            description: server IP
                          upstream:
                            properties:
                              desc:
                                maxLength: 256
                                type: string
                              update_time:
                                type: integer
                              key:
                                type: string
                                description: >-
                                  The key used with `hash_on` when `type` is
                                  `chash`. When `hash_on` is set to `header` or
                                  `cookie`, `key` is required. When `hash_on` is
                                  set to `consumer`, `key` is not required as
                                  the consumer name will be used as the key
                                  automatically.
                              retries:
                                minimum: 0
                                type: integer
                              retry_timeout:
                                minimum: 0
                                type: number
                              pass_host:
                                default: pass
                                type: string
                                enum:
                                  - pass
                                  - node
                                  - rewrite
                                description: >-
                                  Configure the host when the request is
                                  forwarded to the upstream. `pass` is used to
                                  pass the request's host to the upstream
                                  without modification. `node` sets the host to
                                  the host of the upstream node. `rewrite` sets
                                  the host to the value of `upstream_host`.
                              upstream_host:
                                type: string
                              type:
                                type: string
                                default: roundrobin
                                enum:
                                  - roundrobin
                                  - chash
                                  - ewma
                                  - least_conn
                                description: >-
                                  Load balancing algorithm. Support weighted
                                  round robin, consistent hashing, exponentially
                                  weighted moving average, and least connections
                                  algorithms.
                              checks:
                                properties:
                                  active:
                                    properties:
                                      port:
                                        type: integer
                                        minimum: 1
                                        maximum: 65535
                                      healthy:
                                        properties:
                                          http_statuses:
                                            uniqueItems: true
                                            items:
                                              type: integer
                                              minimum: 200
                                              maximum: 599
                                            type: array
                                            minItems: 1
                                            default:
                                              - 200
                                              - 302
                                          interval:
                                            type: integer
                                            minimum: 1
                                            default: 1
                                          successes:
                                            default: 2
                                            type: integer
                                            minimum: 1
                                            maximum: 254
                                        type: object
                                      http_path:
                                        default: /
                                        type: string
                                      https_verify_certificate:
                                        default: true
                                        type: boolean
                                      unhealthy:
                                        properties:
                                          interval:
                                            type: integer
                                            minimum: 1
                                            default: 1
                                          tcp_failures:
                                            default: 2
                                            type: integer
                                            minimum: 1
                                            maximum: 254
                                          timeouts:
                                            default: 3
                                            type: integer
                                            minimum: 1
                                            maximum: 254
                                          http_statuses:
                                            uniqueItems: true
                                            items:
                                              type: integer
                                              minimum: 200
                                              maximum: 599
                                            type: array
                                            minItems: 1
                                            default:
                                              - 429
                                              - 404
                                              - 500
                                              - 501
                                              - 502
                                              - 503
                                              - 504
                                              - 505
                                          http_failures:
                                            default: 5
                                            type: integer
                                            minimum: 1
                                            maximum: 254
                                        type: object
                                      req_headers:
                                        items:
                                          uniqueItems: true
                                          type: string
                                        type: array
                                        minItems: 1
                                      timeout:
                                        default: 1
                                        type: number
                                      type:
                                        enum:
                                          - http
                                          - https
                                          - tcp
                                        default: http
                                        type: string
                                      host:
                                        type: string
                                      concurrency:
                                        default: 10
                                        type: integer
                                    type: object
                                  passive:
                                    properties:
                                      healthy:
                                        properties:
                                          http_statuses:
                                            uniqueItems: true
                                            items:
                                              type: integer
                                              minimum: 200
                                              maximum: 599
                                            type: array
                                            minItems: 1
                                            default:
                                              - 200
                                              - 201
                                              - 202
                                              - 203
                                              - 204
                                              - 205
                                              - 206
                                              - 207
                                              - 208
                                              - 226
                                              - 300
                                              - 301
                                              - 302
                                              - 303
                                              - 304
                                              - 305
                                              - 306
                                              - 307
                                              - 308
                                          successes:
                                            default: 5
                                            type: integer
                                            minimum: 0
                                            maximum: 254
                                        type: object
                                      unhealthy:
                                        properties:
                                          http_statuses:
                                            uniqueItems: true
                                            items:
                                              type: integer
                                              minimum: 200
                                              maximum: 599
                                            type: array
                                            minItems: 1
                                            default:
                                              - 429
                                              - 500
                                              - 503
                                          http_failures:
                                            default: 5
                                            type: integer
                                            minimum: 0
                                            maximum: 254
                                          tcp_failures:
                                            default: 2
                                            type: integer
                                            minimum: 0
                                            maximum: 254
                                          timeouts:
                                            default: 7
                                            type: integer
                                            minimum: 0
                                            maximum: 254
                                        type: object
                                      type:
                                        enum:
                                          - http
                                          - https
                                          - tcp
                                        default: http
                                        type: string
                                    type: object
                                type: object
                                anyOf:
                                  - required:
                                      - active
                                  - required:
                                      - active
                                      - passive
                              hash_on:
                                default: vars
                                enum:
                                  - vars
                                  - header
                                  - cookie
                                  - consumer
                                  - vars_combinations
                                description: >-
                                  Type of value to hash on when `type` is
                                  `chash`.
                                type: string
                              name:
                                type: string
                                maxLength: 100
                                minLength: 1
                              scheme:
                                enum:
                                  - grpc
                                  - grpcs
                                  - http
                                  - https
                                  - tcp
                                  - tls
                                  - udp
                                  - kafka
                                default: http
                                description: Protocol to communicate with the upstream.
                              service_name:
                                type: string
                                maxLength: 256
                                minLength: 1
                              keepalive_pool:
                                properties:
                                  size:
                                    default: 320
                                    minimum: 1
                                    type: integer
                                  idle_timeout:
                                    default: 60
                                    minimum: 0
                                    type: number
                                  requests:
                                    default: 1000
                                    minimum: 1
                                    type: integer
                                type: object
                              timeout:
                                properties:
                                  connect:
                                    exclusiveMinimum: 0
                                    type: number
                                    minimum: 0
                                  read:
                                    exclusiveMinimum: 0
                                    type: number
                                    minimum: 0
                                  send:
                                    exclusiveMinimum: 0
                                    type: number
                                    minimum: 0
                                type: object
                                required:
                                  - connect
                                  - send
                                  - read
                              id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                              discovery_type:
                                type: string
                                description: discovery type
                              labels:
                                type: object
                                patternProperties:
                                  .*:
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^\S+$
                                    type: string
                                    description: value of label
                                description: Key-value pairs to specify attributes.
                                properties: {}
                              discovery_args:
                                properties:
                                  group_name:
                                    type: string
                                    description: group name
                                  namespace_id:
                                    type: string
                                    description: namespace id
                                type: object
                              nodes:
                                anyOf:
                                  - patternProperties:
                                      .*:
                                        type: integer
                                        minimum: 0
                                        description: weight of node
                                    type: object
                                  - items:
                                      properties:
                                        weight:
                                          type: integer
                                          minimum: 0
                                          description: weight of node
                                        port:
                                          type: integer
                                          minimum: 1
                                          description: port of node
                                        metadata:
                                          type: object
                                          description: metadata of node
                                        host:
                                          type: string
                                        priority:
                                          type: integer
                                          default: 0
                                          description: priority of node
                                      type: object
                                      required:
                                        - host
                                        - port
                                        - weight
                                    type: array
                              tls:
                                properties:
                                  verify:
                                    type: boolean
                                    default: false
                                    description: >-
                                      Turn on server certificate verification,
                                      currently only kafka upstream is supported
                                  client_key:
                                    minLength: 128
                                    maxLength: 65536
                                    type: string
                                  client_cert:
                                    minLength: 128
                                    maxLength: 65536
                                    type: string
                                  client_cert_id:
                                    anyOf:
                                      - type: string
                                        minLength: 1
                                        maxLength: 64
                                        pattern: ^[a-zA-Z0-9-_.]+$
                                      - minimum: 1
                                        type: integer
                                type: object
                                dependencies:
                                  client_cert_id:
                                    not:
                                      required:
                                        - client_client
                                        - client_key
                                  client_cert:
                                    required:
                                      - client_key
                                    not:
                                      required:
                                        - client_cert_id
                                  client_key:
                                    required:
                                      - client_cert
                                    not:
                                      required:
                                        - client_cert_id
                              create_time:
                                type: integer
                            type: object
                            oneOf:
                              - type: string
                              - type: string
                          plugins:
                            type: object
                            properties: {}
                          server_port:
                            type: integer
                            description: server port
                        type: object
                      key:
                        type: string
                      modifiedIndex:
                        type: integer
                      createdIndex:
                        type: integer
                    required:
                      - value
                      - key
                      - modifiedIndex
                      - createdIndex
              examples:
                '1':
                  summary: Successful Example
                  value:
                    id: '1'
                    create_time: 1684392990
                    server_addr: 127.0.0.1
                    upstream:
                      hash_on: vars
                      pass_host: pass
                      nodes:
                        127.0.0.1:1995: 1
                      type: roundrobin
                      scheme: http
                    update_time: 1684392990
                    server_port: 2000
    put:
      summary: Create Stream Route by ID
      deprecated: false
      description: Create a stream route with a specified ID.
      tags:
        - Stream Route
      parameters:
        - name: id
          in: path
          description: Specified stream route ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                desc:
                  maxLength: 256
                  type: string
                upstream_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                service_id:
                  anyOf:
                    - type: string
                      minLength: 1
                      maxLength: 64
                      pattern: ^[a-zA-Z0-9-_.]+$
                    - minimum: 1
                      type: integer
                sni:
                  type: string
                remote_addr:
                  type: string
                  anyOf:
                    - format: ipv4
                      type: string
                      title: IPv4
                    - type: string
                      title: IPv4/CIDR
                      pattern: >-
                        ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                    - format: ipv6
                      type: string
                      title: IPv6
                    - type: string
                      title: IPv6/CIDR
                      pattern: >-
                        ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                  description: client IP
                protocol:
                  properties:
                    logger:
                      items:
                        properties:
                          conf:
                            type: object
                            description: logger plugin configuration
                            properties: {}
                          filter:
                            type: array
                            description: logger filter rules
                            items:
                              type: string
                          name:
                            type: string
                        dependencies:
                          name:
                            - conf
                        type: object
                      type: array
                    conf:
                      type: object
                      description: protocol-specific configuration
                      properties: {}
                    superior_id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    name:
                      type: string
                  type: object
                  required:
                    - name
                server_addr:
                  type: string
                  anyOf:
                    - format: ipv4
                      type: string
                      title: IPv4
                    - type: string
                      title: IPv4/CIDR
                      pattern: >-
                        ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                    - format: ipv6
                      type: string
                      title: IPv6
                    - type: string
                      title: IPv6/CIDR
                      pattern: >-
                        ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                  description: server IP
                upstream:
                  properties:
                    desc:
                      maxLength: 256
                      type: string
                    key:
                      type: string
                      description: >-
                        The key used with `hash_on` when `type` is `chash`. When
                        `hash_on` is set to `header` or `cookie`, `key` is
                        required. When `hash_on` is set to `consumer`, `key` is
                        not required as the consumer name will be used as the
                        key automatically.
                    retries:
                      minimum: 0
                      type: integer
                    retry_timeout:
                      minimum: 0
                      type: number
                    pass_host:
                      default: pass
                      type: string
                      enum:
                        - pass
                        - node
                        - rewrite
                      description: >-
                        Configure the host when the request is forwarded to the
                        upstream. `pass` is used to pass the request's host to
                        the upstream without modification. `node` sets the host
                        to the host of the upstream node. `rewrite` sets the
                        host to the value of `upstream_host`.
                    upstream_host:
                      type: string
                    type:
                      type: string
                      default: roundrobin
                      enum:
                        - roundrobin
                        - chash
                        - ewma
                        - least_conn
                      description: >-
                        Load balancing algorithm. Support weighted round robin,
                        consistent hashing, exponentially weighted moving
                        average, and least connections algorithms.
                    checks:
                      properties:
                        active:
                          properties:
                            port:
                              type: integer
                              minimum: 1
                              maximum: 65535
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 302
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                successes:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            http_path:
                              default: /
                              type: string
                            https_verify_certificate:
                              default: true
                              type: boolean
                            unhealthy:
                              properties:
                                interval:
                                  type: integer
                                  minimum: 1
                                  default: 1
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                timeouts:
                                  default: 3
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 404
                                    - 500
                                    - 501
                                    - 502
                                    - 503
                                    - 504
                                    - 505
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 1
                                  maximum: 254
                              type: object
                            req_headers:
                              items:
                                uniqueItems: true
                                type: string
                              type: array
                              minItems: 1
                            timeout:
                              default: 1
                              type: number
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                            host:
                              type: string
                            concurrency:
                              default: 10
                              type: integer
                          type: object
                        passive:
                          properties:
                            healthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 200
                                    - 201
                                    - 202
                                    - 203
                                    - 204
                                    - 205
                                    - 206
                                    - 207
                                    - 208
                                    - 226
                                    - 300
                                    - 301
                                    - 302
                                    - 303
                                    - 304
                                    - 305
                                    - 306
                                    - 307
                                    - 308
                                successes:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            unhealthy:
                              properties:
                                http_statuses:
                                  uniqueItems: true
                                  items:
                                    type: integer
                                    minimum: 200
                                    maximum: 599
                                  type: array
                                  minItems: 1
                                  default:
                                    - 429
                                    - 500
                                    - 503
                                http_failures:
                                  default: 5
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                tcp_failures:
                                  default: 2
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                                timeouts:
                                  default: 7
                                  type: integer
                                  minimum: 0
                                  maximum: 254
                              type: object
                            type:
                              enum:
                                - http
                                - https
                                - tcp
                              default: http
                              type: string
                          type: object
                      type: object
                      anyOf:
                        - required:
                            - active
                        - required:
                            - active
                            - passive
                    hash_on:
                      default: vars
                      enum:
                        - vars
                        - header
                        - cookie
                        - consumer
                        - vars_combinations
                      description: Type of value to hash on when `type` is `chash`.
                      type: string
                    name:
                      type: string
                      maxLength: 100
                      minLength: 1
                    scheme:
                      enum:
                        - grpc
                        - grpcs
                        - http
                        - https
                        - tcp
                        - tls
                        - udp
                        - kafka
                      default: http
                      description: Protocol to communicate with the upstream.
                    service_name:
                      type: string
                      maxLength: 256
                      minLength: 1
                    keepalive_pool:
                      properties:
                        size:
                          default: 320
                          minimum: 1
                          type: integer
                        idle_timeout:
                          default: 60
                          minimum: 0
                          type: number
                        requests:
                          default: 1000
                          minimum: 1
                          type: integer
                      type: object
                    timeout:
                      properties:
                        connect:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        read:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                        send:
                          exclusiveMinimum: 0
                          type: number
                          minimum: 0
                      type: object
                      required:
                        - connect
                        - send
                        - read
                    id:
                      anyOf:
                        - type: string
                          minLength: 1
                          maxLength: 64
                          pattern: ^[a-zA-Z0-9-_.]+$
                        - minimum: 1
                          type: integer
                    discovery_type:
                      type: string
                      description: discovery type
                    labels:
                      type: object
                      patternProperties:
                        .*:
                          minLength: 1
                          maxLength: 64
                          pattern: ^\S+$
                          type: string
                          description: value of label
                      description: Key-value pairs to specify attributes.
                      properties: {}
                    discovery_args:
                      properties:
                        group_name:
                          type: string
                          description: group name
                        namespace_id:
                          type: string
                          description: namespace id
                      type: object
                    nodes:
                      anyOf:
                        - patternProperties:
                            .*:
                              type: integer
                              minimum: 0
                              description: weight of node
                          type: object
                        - items:
                            properties:
                              weight:
                                type: integer
                                minimum: 0
                                description: weight of node
                              port:
                                type: integer
                                minimum: 1
                                description: port of node
                              metadata:
                                type: object
                                description: metadata of node
                              host:
                                type: string
                              priority:
                                type: integer
                                default: 0
                                description: priority of node
                            type: object
                            required:
                              - host
                              - port
                              - weight
                          type: array
                    tls:
                      properties:
                        verify:
                          type: boolean
                          default: false
                          description: >-
                            Turn on server certificate verification, currently
                            only kafka upstream is supported
                        client_key:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert:
                          minLength: 128
                          maxLength: 65536
                          type: string
                        client_cert_id:
                          anyOf:
                            - type: string
                              minLength: 1
                              maxLength: 64
                              pattern: ^[a-zA-Z0-9-_.]+$
                            - minimum: 1
                              type: integer
                      type: object
                      dependencies:
                        client_cert_id:
                          not:
                            required:
                              - client_client
                              - client_key
                        client_cert:
                          required:
                            - client_key
                          not:
                            required:
                              - client_cert_id
                        client_key:
                          required:
                            - client_cert
                          not:
                            required:
                              - client_cert_id
                  type: object
                  oneOf:
                    - type: string
                    - type: string
                plugins:
                  type: object
                  properties: {}
                server_port:
                  type: integer
                  description: server port
              type: object
            example:
              server_addr: 127.0.0.1
              server_port: 2000
              upstream:
                nodes:
                  127.0.0.1:1995: 1
                type: roundrobin
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      desc:
                        maxLength: 256
                        type: string
                      upstream_id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                      sni:
                        type: string
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      remote_addr:
                        type: string
                        anyOf:
                          - format: ipv4
                            type: string
                            title: IPv4
                          - type: string
                            title: IPv4/CIDR
                            pattern: >-
                              ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                          - format: ipv6
                            type: string
                            title: IPv6
                          - type: string
                            title: IPv6/CIDR
                            pattern: >-
                              ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                        description: client IP
                      protocol:
                        properties:
                          logger:
                            items:
                              properties:
                                conf:
                                  type: object
                                  description: logger plugin configuration
                                  properties: {}
                                filter:
                                  type: array
                                  description: logger filter rules
                                  items:
                                    type: string
                                name:
                                  type: string
                              dependencies:
                                name:
                                  - conf
                              type: object
                            type: array
                          conf:
                            type: object
                            description: protocol-specific configuration
                            properties: {}
                          superior_id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          name:
                            type: string
                        type: object
                        required:
                          - name
                      server_addr:
                        type: string
                        anyOf:
                          - format: ipv4
                            type: string
                            title: IPv4
                          - type: string
                            title: IPv4/CIDR
                            pattern: >-
                              ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                          - format: ipv6
                            type: string
                            title: IPv6
                          - type: string
                            title: IPv6/CIDR
                            pattern: >-
                              ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                        description: server IP
                      upstream:
                        properties:
                          desc:
                            maxLength: 256
                            type: string
                          update_time:
                            type: integer
                          key:
                            type: string
                            description: >-
                              The key used with `hash_on` when `type` is
                              `chash`. When `hash_on` is set to `header` or
                              `cookie`, `key` is required. When `hash_on` is set
                              to `consumer`, `key` is not required as the
                              consumer name will be used as the key
                              automatically.
                          retries:
                            minimum: 0
                            type: integer
                          retry_timeout:
                            minimum: 0
                            type: number
                          pass_host:
                            default: pass
                            type: string
                            enum:
                              - pass
                              - node
                              - rewrite
                            description: >-
                              Configure the host when the request is forwarded
                              to the upstream. `pass` is used to pass the
                              request's host to the upstream without
                              modification. `node` sets the host to the host of
                              the upstream node. `rewrite` sets the host to the
                              value of `upstream_host`.
                          upstream_host:
                            type: string
                          type:
                            type: string
                            default: roundrobin
                            enum:
                              - roundrobin
                              - chash
                              - ewma
                              - least_conn
                            description: >-
                              Load balancing algorithm. Support weighted round
                              robin, consistent hashing, exponentially weighted
                              moving average, and least connections algorithms.
                          checks:
                            properties:
                              active:
                                properties:
                                  port:
                                    type: integer
                                    minimum: 1
                                    maximum: 65535
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 302
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      successes:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  http_path:
                                    default: /
                                    type: string
                                  https_verify_certificate:
                                    default: true
                                    type: boolean
                                  unhealthy:
                                    properties:
                                      interval:
                                        type: integer
                                        minimum: 1
                                        default: 1
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      timeouts:
                                        default: 3
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 404
                                          - 500
                                          - 501
                                          - 502
                                          - 503
                                          - 504
                                          - 505
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 1
                                        maximum: 254
                                    type: object
                                  req_headers:
                                    items:
                                      uniqueItems: true
                                      type: string
                                    type: array
                                    minItems: 1
                                  timeout:
                                    default: 1
                                    type: number
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                  host:
                                    type: string
                                  concurrency:
                                    default: 10
                                    type: integer
                                type: object
                              passive:
                                properties:
                                  healthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 200
                                          - 201
                                          - 202
                                          - 203
                                          - 204
                                          - 205
                                          - 206
                                          - 207
                                          - 208
                                          - 226
                                          - 300
                                          - 301
                                          - 302
                                          - 303
                                          - 304
                                          - 305
                                          - 306
                                          - 307
                                          - 308
                                      successes:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  unhealthy:
                                    properties:
                                      http_statuses:
                                        uniqueItems: true
                                        items:
                                          type: integer
                                          minimum: 200
                                          maximum: 599
                                        type: array
                                        minItems: 1
                                        default:
                                          - 429
                                          - 500
                                          - 503
                                      http_failures:
                                        default: 5
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      tcp_failures:
                                        default: 2
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                      timeouts:
                                        default: 7
                                        type: integer
                                        minimum: 0
                                        maximum: 254
                                    type: object
                                  type:
                                    enum:
                                      - http
                                      - https
                                      - tcp
                                    default: http
                                    type: string
                                type: object
                            type: object
                            anyOf:
                              - required:
                                  - active
                              - required:
                                  - active
                                  - passive
                          hash_on:
                            default: vars
                            enum:
                              - vars
                              - header
                              - cookie
                              - consumer
                              - vars_combinations
                            description: Type of value to hash on when `type` is `chash`.
                            type: string
                          name:
                            type: string
                            maxLength: 100
                            minLength: 1
                          scheme:
                            enum:
                              - grpc
                              - grpcs
                              - http
                              - https
                              - tcp
                              - tls
                              - udp
                              - kafka
                            default: http
                            description: Protocol to communicate with the upstream.
                          service_name:
                            type: string
                            maxLength: 256
                            minLength: 1
                          keepalive_pool:
                            properties:
                              size:
                                default: 320
                                minimum: 1
                                type: integer
                              idle_timeout:
                                default: 60
                                minimum: 0
                                type: number
                              requests:
                                default: 1000
                                minimum: 1
                                type: integer
                            type: object
                          timeout:
                            properties:
                              connect:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              read:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                              send:
                                exclusiveMinimum: 0
                                type: number
                                minimum: 0
                            type: object
                            required:
                              - connect
                              - send
                              - read
                          id:
                            anyOf:
                              - type: string
                                minLength: 1
                                maxLength: 64
                                pattern: ^[a-zA-Z0-9-_.]+$
                              - minimum: 1
                                type: integer
                          discovery_type:
                            type: string
                            description: discovery type
                          labels:
                            type: object
                            patternProperties:
                              .*:
                                minLength: 1
                                maxLength: 64
                                pattern: ^\S+$
                                type: string
                                description: value of label
                            description: Key-value pairs to specify attributes.
                            properties: {}
                          discovery_args:
                            properties:
                              group_name:
                                type: string
                                description: group name
                              namespace_id:
                                type: string
                                description: namespace id
                            type: object
                          nodes:
                            anyOf:
                              - patternProperties:
                                  .*:
                                    type: integer
                                    minimum: 0
                                    description: weight of node
                                type: object
                              - items:
                                  properties:
                                    weight:
                                      type: integer
                                      minimum: 0
                                      description: weight of node
                                    port:
                                      type: integer
                                      minimum: 1
                                      description: port of node
                                    metadata:
                                      type: object
                                      description: metadata of node
                                    host:
                                      type: string
                                    priority:
                                      type: integer
                                      default: 0
                                      description: priority of node
                                  type: object
                                  required:
                                    - host
                                    - port
                                    - weight
                                type: array
                          tls:
                            properties:
                              verify:
                                type: boolean
                                default: false
                                description: >-
                                  Turn on server certificate verification,
                                  currently only kafka upstream is supported
                              client_key:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert:
                                minLength: 128
                                maxLength: 65536
                                type: string
                              client_cert_id:
                                anyOf:
                                  - type: string
                                    minLength: 1
                                    maxLength: 64
                                    pattern: ^[a-zA-Z0-9-_.]+$
                                  - minimum: 1
                                    type: integer
                            type: object
                            dependencies:
                              client_cert_id:
                                not:
                                  required:
                                    - client_client
                                    - client_key
                              client_cert:
                                required:
                                  - client_key
                                not:
                                  required:
                                    - client_cert_id
                              client_key:
                                required:
                                  - client_cert
                                not:
                                  required:
                                    - client_cert_id
                          create_time:
                            type: integer
                        type: object
                        oneOf:
                          - type: string
                          - type: string
                      plugins:
                        type: object
                        properties: {}
                      server_port:
                        type: integer
                        description: server port
                    type: object
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      id: '00000000000000000176'
                      create_time: 1684393167
                      server_addr: 127.0.0.1
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          127.0.0.1:1995: 1
                        type: roundrobin
                        scheme: http
                      update_time: 1684393167
                      server_port: 2000
                    key: /apisix/stream_routes/00000000000000000176
        '400':
          description: Invalid configuration
          content: {}
    delete:
      summary: Delete Stream Route  by ID
      deprecated: false
      description: Delete a stream route by ID.
      tags:
        - Stream Route
      parameters:
        - name: id
          in: path
          description: The stream route id
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    deleted: '1'
                    key: /apisix/stream_routes/1
        '404':
          description: Key not found
          content: {}
  /apisix/admin/secrets:
    get:
      summary: Get All Secrets
      deprecated: false
      description: Get all configured secrets.
      tags:
        - Secret
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          type: object
                          properties:
                            id:
                              type: string
                            prefix:
                              type: string
                            token:
                              type: string
                            create_time:
                              type: integer
                            update_time:
                              type: integer
                            uri:
                              type: string
                          required:
                            - id
                            - prefix
                            - token
                            - create_time
                            - update_time
                            - uri
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    total: 1
                    list:
                      - createdIndex: 179
                        key: /apisix/secrets/vault/1
                        value:
                          token: 343effad
                          id: vault/1
                          uri: https://localhost/vault
                          prefix: /apisix/kv
                          update_time: 1684395392
                          create_time: 1684395392
                        modifiedIndex: 179
  /apisix/admin/secrets/{secretmanager}/{id}:
    get:
      summary: Get Secrets by ID
      deprecated: false
      description: Get a secret by ID.
      tags:
        - Secret
      parameters:
        - name: secretmanager
          in: path
          description: Secret manager.
          required: true
          example: ''
          schema:
            type: string
            enum:
              - vault
              - aws
              - gcp
        - name: id
          in: path
          description: The specified secrets ID.
          required: true
          example: ''
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    type: object
                    properties:
                      id:
                        type: string
                      prefix:
                        type: string
                      token:
                        type: string
                      create_time:
                        type: integer
                      update_time:
                        type: integer
                      uri:
                        type: string
                    required:
                      - id
                      - prefix
                      - token
                      - create_time
                      - update_time
                      - uri
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    createdIndex: 179
                    key: /apisix/secrets/vault/1
                    value:
                      token: 343effad
                      id: vault/1
                      uri: https://localhost/vault
                      prefix: /apisix/kv
                      update_time: 1684395392
                      create_time: 1684395392
                    modifiedIndex: 179
        '404':
          description: Key not found
          content: {}
    put:
      summary: Create a Secret
      deprecated: false
      description: Create a secret with a custom ID to obtain secret from secret manager.
      tags:
        - Secret
      parameters:
        - name: secretmanager
          in: path
          description: Secret manager.
          required: true
          example: ''
          schema:
            type: string
            enum:
              - vault
              - aws
              - gcp
        - name: id
          in: path
          description: The specified secrets ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - type: object
                  properties:
                    uri:
                      type: string
                      description: Address of the Vault server.
                    prefix:
                      type: string
                      description: >-
                        Path prefix of the secret engine that Vault should route
                        to.
                    token:
                      type: string
                      description: Token used for APISIX to authenticate to Vault.
                    namespace:
                      type: string
                      description: >-
                        Used to set the
                        [namespace](https://developer.hashicorp.com/vault/docs/enterprise/namespaces#vault-api-and-namespaces)
                        of HashiCorp Vault Enterprise and HCP Vault.
                  required:
                    - uri
                    - prefix
                    - token
                - type: object
                  properties:
                    access_key_id:
                      type: string
                      description: AWS access key ID.
                    secret_access_key:
                      type: string
                      description: AWS secret access key.
                    session_token:
                      type: string
                      description: Temporary access credential information.
                    region:
                      type: string
                      default: us-east-1
                      description: AWS region.
                    endpoint_url:
                      type: string
                      description: AWS secret manager URL.
                      example: https://secretsmanager.{region}.amazonaws.com
                  required:
                    - access_key_id
                    - secret_access_key
                - type: object
                  properties:
                    auth_config:
                      type: object
                      description: >-
                        Authentication configurations. Either `auth_config` or
                        `auth_file` should be configured.
                      properties:
                        client_email:
                          type: string
                          description: Email address of the Google Cloud service account.
                        private_key:
                          type: string
                          description: Private key of the Google Cloud service account.
                        project_id:
                          type: string
                          description: Project ID in the Google Cloud service account.
                        token_uri:
                          type: string
                          default: https://oauth2.googleapis.com/token
                          description: Token URI of the Google Cloud service account.
                        entries_uri:
                          type: string
                          default: https://secretmanager.googleapis.com/v1
                          description: API access endpoint for the Google Secrets Manager.
                        scope:
                          type: string
                          default: https://www.googleapis.com/auth/cloud-platform
                          description: >-
                            Access scopes of the Google Cloud service account.
                            See [OAuth 2.0 Scopes for Google
                            APIs](https://developers.google.com/identity/protocols/oauth2/scopes).
                    auth_file:
                      type: string
                      description: >-
                        Path to the Google Cloud service account authentication
                        JSON file. Either `auth_config` or `auth_file` should be
                        configured.
                    ssl_verify:
                      type: boolean
                      default: true
                      description: If true, enable SSL verification.
            example:
              uri: https://localhost/vault
              prefix: /apisix/kv
              token: 343effad
              namespace: apisix
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    type: object
                    properties:
                      id:
                        type: string
                      prefix:
                        type: string
                      token:
                        type: string
                      namespace:
                        type: string
                      create_time:
                        type: integer
                      update_time:
                        type: integer
                      uri:
                        type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      prefix: /apisix/kv
                      token: 343effad
                      uri: https://localhost/vault
                      namespace: apisix
                      id: vault/1
                      update_time: 1684395392
                      create_time: 1684395392
                    key: /apisix/secrets/vault/1
        '400':
          description: Invalid configuration
          content: {}
    patch:
      summary: Update Secrets
      deprecated: false
      description: Update a secret configuration.
      tags:
        - Secret
      parameters:
        - name: secretmanager
          in: path
          description: Secret manager.
          required: true
          example: ''
          schema:
            type: string
            enum:
              - vault
              - aws
              - gcp
        - name: id
          in: path
          description: The specified secrets ID.
          required: true
          example: ''
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                uri:
                  type: string
                prefix:
                  type: string
                token:
                  type: string
              required:
                - uri
                - prefix
                - token
            example:
              token: apisix
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    type: object
                    properties:
                      id:
                        type: string
                      prefix:
                        type: string
                      token:
                        type: string
                      create_time:
                        type: integer
                      update_time:
                        type: integer
                      uri:
                        type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      token: apisix
                      id: vault/1
                      uri: https://localhost/vault
                      prefix: /apisix/kv
                      update_time: 1684396605
                      create_time: 1684395392
                    key: /apisix/secrets/vault/1
        '400':
          description: Invalid configuration
          content: {}
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Secret by ID
      deprecated: false
      description: Delete a secret by ID.
      tags:
        - Secret
      parameters:
        - name: secretmanager
          in: path
          description: Secret manager.
          required: true
          example: ''
          schema:
            type: string
            enum:
              - vault
              - aws
              - gcp
        - name: id
          in: path
          description: The secrets id
          required: true
          example: ''
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    deleted: '1'
                    key: /apisix/secrets/vault/1
        '404':
          description: Key not found
          content: {}
  /apisix/admin/protos/{id}:
    put:
      summary: Create Proto by ID
      deprecated: false
      description: Create a proto with a custom ID.
      tags:
        - Proto
      parameters:
        - name: id
          in: path
          description: Specified proto ID.
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
              required:
                - content
            example: |-
              {
                  "content": "syntax = \"proto3\";
                  package helloworld;
                  service Greeter {
                      rpc GetErrResp (HelloRequest) returns (HelloReply) {}
                  }
                  message HelloRequest {
                      string name = 1;
                      repeated string items = 2;
                  }
                  message HelloReply {
                      string message = 1;
                      repeated string items = 2;
                  }
                  message ErrorDetail {
                      int64 code = 1;
                      string message = 2;
                      string type = 3;
                  }"
              }
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      desc:
                        maxLength: 256
                        type: string
                      content:
                        minLength: 1
                        maxLength: 1048576
                        type: string
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - content
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/protos/1
                    value:
                      id: '1'
                      create_time: 1684752213
                      update_time: 1684752213
                      content: |-
                        syntax = "proto3";
                            package helloworld;
                            service Greeter {
                                rpc GetErrResp (HelloRequest) returns (HelloReply) {}
                            }
                            message HelloRequest {
                                string name = 1;
                                repeated string items = 2;
                            }
                            message HelloReply {
                                string message = 1;
                                repeated string items = 2;
                            }
                            message ErrorDetail {
                                int64 code = 1;
                                string message = 2;
                                string type = 3;
                            }
        '400':
          description: Invalid configuration
          content: {}
    get:
      summary: Get Proto by ID
      deprecated: false
      description: Get a proto configuration by ID.
      tags:
        - Proto
      parameters:
        - name: id
          in: path
          description: Specified proto ID.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  value:
                    properties:
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      desc:
                        maxLength: 256
                        type: string
                      content:
                        minLength: 1
                        maxLength: 1048576
                        type: string
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - content
                  key:
                    type: string
                  modifiedIndex:
                    type: integer
                  createdIndex:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    value:
                      id: '1'
                      content: |-
                        syntax = "proto3";
                            package helloworld;
                            service Greeter {
                                rpc GetErrResp (HelloRequest) returns (HelloReply) {}
                            }
                            message HelloRequest {
                                string name = 1;
                                repeated string items = 2;
                            }
                            message HelloReply {
                                string message = 1;
                                repeated string items = 2;
                            }
                            message ErrorDetail {
                                int64 code = 1;
                                string message = 2;
                                string type = 3;
                            }
                      update_time: 1684752213
                      create_time: 1684752213
                    key: /apisix/protos/1
                    modifiedIndex: 292
                    createdIndex: 292
        '404':
          description: Key not found
          content: {}
    delete:
      summary: Delete Proto by ID
      deprecated: false
      description: Delete a proto by ID.
      tags:
        - Proto
      parameters:
        - name: id
          in: path
          description: Specified proto ID.
          required: true
          schema:
            type: string
        - name: force
          in: query
          description: Delete resource by force even if the resource is in use.
          required: false
          example: 'true'
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  deleted:
                    type: string
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/protos/1
                    deleted: '1'
        '404':
          description: Key not found
          content: {}
  /apisix/admin/protos:
    get:
      summary: Get All Protos
      deprecated: false
      description: Get all configured protos.
      tags:
        - Proto
      parameters: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  list:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          properties:
                            id:
                              anyOf:
                                - type: string
                                  minLength: 1
                                  maxLength: 64
                                  pattern: ^[a-zA-Z0-9-_.]+$
                                - minimum: 1
                                  type: integer
                            desc:
                              maxLength: 256
                              type: string
                            content:
                              minLength: 1
                              maxLength: 1048576
                              type: string
                            update_time:
                              type: integer
                            create_time:
                              type: integer
                          type: object
                          required:
                            - content
                        key:
                          type: string
                        modifiedIndex:
                          type: integer
                        createdIndex:
                          type: integer
                  total:
                    type: integer
              examples:
                '1':
                  summary: Successful Example
                  value:
                    list:
                      - value:
                          id: '1'
                          content: |-
                            syntax = "proto3";
                                package helloworld;
                                service Greeter {
                                    rpc GetErrResp (HelloRequest) returns (HelloReply) {}
                                }
                                message HelloRequest {
                                    string name = 1;
                                    repeated string items = 2;
                                }
                                message HelloReply {
                                    string message = 1;
                                    repeated string items = 2;
                                }
                                message ErrorDetail {
                                    int64 code = 1;
                                    string message = 2;
                                    string type = 3;
                                }
                          update_time: 1684752213
                          create_time: 1684752213
                        key: /apisix/protos/1
                        modifiedIndex: 292
                        createdIndex: 292
                    total: 1
    post:
      summary: Create Proto
      deprecated: false
      description: Create a proto with an ID generated.
      tags:
        - Proto
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
              required:
                - content
            example: |-
              {
                  "content": "syntax = \"proto3\";
                  package helloworld;
                  service Greeter {
                      rpc GetErrResp (HelloRequest) returns (HelloReply) {}
                  }
                  message HelloRequest {
                      string name = 1;
                      repeated string items = 2;
                  }
                  message HelloReply {
                      string message = 1;
                      repeated string items = 2;
                  }
                  message ErrorDetail {
                      int64 code = 1;
                      string message = 2;
                      string type = 3;
                  }"
              }
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                  value:
                    properties:
                      id:
                        anyOf:
                          - type: string
                            minLength: 1
                            maxLength: 64
                            pattern: ^[a-zA-Z0-9-_.]+$
                          - minimum: 1
                            type: integer
                      desc:
                        maxLength: 256
                        type: string
                      content:
                        minLength: 1
                        maxLength: 1048576
                        type: string
                      update_time:
                        type: integer
                      create_time:
                        type: integer
                    type: object
                    required:
                      - content
              examples:
                '1':
                  summary: Successful Example
                  value:
                    key: /apisix/protos/00000000000000000293
                    value:
                      create_time: 1684752743
                      update_time: 1684752743
                      content: |-
                        syntax = "proto3";
                            package helloworld;
                            service Greeter {
                                rpc GetErrResp (HelloRequest) returns (HelloReply) {}
                            }
                            message HelloRequest {
                                string name = 1;
                                repeated string items = 2;
                            }
                            message HelloReply {
                                string message = 1;
                                repeated string items = 2;
                            }
                            message ErrorDetail {
                                int64 code = 1;
                                string message = 2;
                                string type = 3;
                            }
                      id: '00000000000000000293'
        '400':
          description: Invalid configuration
          content: {}
  /apisix/admin/schema/validate/{resource}:
    post:
      summary: Validate Configuration Schema
      deprecated: false
      description: Validate configuration schema without resource creation.
      tags:
        - Schema Validation
      parameters:
        - name: resource
          in: path
          description: Type of resource.
          required: true
          example: routes
          schema:
            type: string
            enum:
              - routes
              - services
              - upstreams
              - consumers
              - consumer_groups
              - ssls
              - gloabl_rules
              - plugins
              - plugin_metadata
              - plugin_configs
              - stream_routes
              - secrets
              - protos
      requestBody:
        content:
          'application/json':
            schema: 
              type: object
              additionalProperties: true
            example:
              uri: 1980
              upstream:
                scheme: https
                type: roundrobin
                nodes:
                  httpbin.org: 1
      responses:
        '200':
          description: OK
          content: {}
        '400':
          description: Bad Request
          content: {}
servers:
  - url: http://127.0.0.1:9180
    description: Dev Environment
components: {}
